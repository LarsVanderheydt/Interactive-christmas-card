!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=19)}([function(e,t,n){"use strict";var r={skin:16769213,freckles:13613718,white:15330286,glasses:16368673,teeth:16777215,black:3026478,eye:6460840,hat:7471892};t.a=r},function(e,t){"use strict";throw new Error("Module build failed: SyntaxError: Unexpected token (34:0)\n\n[0m [90m 32 | [39m    [36mthis[39m[33m.[39m[33mFreckles[39m()[33m;[39m\n [90m 33 | [39m    [36mthis[39m[33m.[39m[33mFeatures[39m()[33m;[39m\n[31m[1m>[22m[39m[90m 34 | [39m[33m<<[39m[33m<<[39m[33m<<[39m[33m<[39m [33mHEAD[39m\n [90m    | [39m[31m[1m^[22m[39m\n [90m 35 | [39m[90m//    this.Star();[39m\n [90m 36 | [39m[90m//    this.StarsGroup();[39m\n [90m 37 | [39m[33m===[39m[33m===[39m[33m=[39m[0m\n")},function(e,t,n){n(5),e.exports=self.fetch.bind(self)},,,function(e,t){!function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!=typeof e&&(e=String(e)),e}function r(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return b.iterable&&(t[Symbol.iterator]=function(){return t}),t}function o(e){this.map={},e instanceof o?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function i(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function a(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function s(e){var t=new FileReader,n=a(t);return t.readAsArrayBuffer(e),n}function u(e){var t=new FileReader,n=a(t);return t.readAsText(e),n}function d(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}function h(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function c(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(b.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(b.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(b.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(b.arrayBuffer&&b.blob&&v(e))this._bodyArrayBuffer=h(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!b.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!E(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=h(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):b.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},b.blob&&(this.blob=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?i(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(d(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},b.formData&&(this.formData=function(){return this.text().then(p)}),this.json=function(){return this.text().then(JSON.parse)},this}function f(e){var t=e.toUpperCase();return T.indexOf(t)>-1?t:e}function l(e,t){t=t||{};var n=t.body;if(e instanceof l){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new o(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new o(t.headers)),this.method=f(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function p(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}}),t}function m(e){var t=new o;return e.split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();t.append(r,o)}}),t}function y(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new o(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var b={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(b.arrayBuffer)var w=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],v=function(e){return e&&DataView.prototype.isPrototypeOf(e)},E=ArrayBuffer.isView||function(e){return e&&w.indexOf(Object.prototype.toString.call(e))>-1};o.prototype.append=function(e,r){e=t(e),r=n(r);var o=this.map[e];this.map[e]=o?o+","+r:r},o.prototype.delete=function(e){delete this.map[t(e)]},o.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},o.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},o.prototype.set=function(e,r){this.map[t(e)]=n(r)},o.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},o.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),r(e)},o.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),r(e)},o.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),r(e)},b.iterable&&(o.prototype[Symbol.iterator]=o.prototype.entries);var T=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];l.prototype.clone=function(){return new l(this,{body:this._bodyInit})},c.call(l.prototype),c.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new o(this.headers),url:this.url})},y.error=function(){var e=new y(null,{status:0,statusText:""});return e.type="error",e};var g=[301,302,303,307,308];y.redirect=function(e,t){if(-1===g.indexOf(t))throw new RangeError("Invalid status code");return new y(null,{status:t,headers:{location:e}})},e.Headers=o,e.Request=l,e.Response=y,e.fetch=function(e,t){return new Promise(function(n,r){var o=new l(e,t),i=new XMLHttpRequest;i.onload=function(){var e={status:i.status,statusText:i.statusText,headers:m(i.getAllResponseHeaders()||"")};e.url="responseURL"in i?i.responseURL:e.headers.get("X-Request-URL");var t="response"in i?i.response:i.responseText;n(new y(t,e))},i.onerror=function(){r(new TypeError("Network request failed"))},i.ontimeout=function(){r(new TypeError("Network request failed"))},i.open(o.method,o.url,!0),"include"===o.credentials&&(i.withCredentials=!0),"responseType"in i&&b.blob&&(i.responseType="blob"),o.headers.forEach(function(e,t){i.setRequestHeader(t,e)}),i.send(void 0===o._bodyInit?null:o._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},function(e,t,n){"use strict";var r=n(2),o=n.n(r),i="/api/cards";t.a={create:function(e){var t=e.text,n=e.id,r=e.from,a=(e.blob,e.to),s=e.audioSettings,u=e.headColors,d=new FormData;return d.append("text",t),d.append("id",n),d.append("from",r),d.append("to",a),d.append("audioSettings",s),d.append("headColors",u),o()(i,{method:"POST",body:d}).then(function(e){return e.json()})},read:function(){return o()(i+"?isActive=true").then(function(e){return e.json()})},readOne:function(e){return o()(i+"/"+e,{method:"GET"}).then(function(e){return e.json()})},update:function(e){var t=e.text,n=e.id,r=e.from,a=e.to,s=e.audioSettings,u=e.headColors,d=new FormData;return d.append("text",t),d.append("id",n),d.append("from",r),d.append("to",a),d.append("audioSettings",s),d.append("headColors",u),o()(i+"/"+n,{method:"PUT",body:d}).then(function(e){return e.json()})}}},,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(20),o=n(25),i=n(22),a=n(6),s=(window.AudioContext||window.webkitAudioContext,void 0),u=void 0,d=function e(){u.loop(),requestAnimationFrame(e)};!function(){particlesJS.load("particles-js","../assets/particles.json"),s=Object(i.a)("id"),s||(window.location="https://experimentalweb.herokuapp.com/"),a.a.readOne(s).then(function(e){e.statusCode&&(window.location="https://experimentalweb.herokuapp.com/"),document.getElementById("from").innerHTML=""+e.from,document.getElementById("to").innerHTML=""+e.to,document.getElementById("message").innerHTML=""+e.text,u=new o.a,u.setColors(e),Object(r.a)(e),d()})}()},function(e,t,n){"use strict";var r=(n(1),window.AudioContext||window.webkitAudioContext),o=void 0,i=(document.getElementById("play_santa"),document.getElementById("audio")),a=void 0,s=!1,u=1,d=.5,h=function(e){o=new r;var t=JSON.parse(e.audioSettings);setTimeout(function(){new BufferLoader(o,["./uploads/"+e.id+".ogg"],function(e){var n=!1,r=void 0,h=document.getElementById("repeat");h.addEventListener("click",function(){h.style.backgroundColor=n?"rgba(113, 0, 24, 0.4)":"rgba(150, 0, 39, 1)",n=!n,s&&r.stop()}),u=t.pitch,d=t.overlap,i.addEventListener("click",function(){s=!0,r="",r=o.createBufferSource(),r.buffer=e[0],r.loop=n,r.connect(a),r.start()})}).load(),f()},1e3)},c=function(e,t,n){return e+(t-e)*n},f=function(){a&&a.disconnect(),o.createScriptProcessor?a=o.createScriptProcessor(512,1,1):o.createJavaScriptNode&&(a=o.createJavaScriptNode(512,1,1)),a.buffer=new Float32Array(1024),a.grainWindow=l(512),a.onaudioprocess=function(e){var t=e.inputBuffer.getChannelData(0),n=e.outputBuffer.getChannelData(0);for(o=0;o<t.length;o++)t[o]*=this.grainWindow[o],this.buffer[o]=this.buffer[o+512],this.buffer[o+512]=0;for(var r=new Float32Array(1024),o=0,i=0;o<512;o++,i+=u){var a=Math.floor(i)%512,s=t[a],h=t[(a+1)%512];r[o]+=c(s,h,i%1)*this.grainWindow[o]}for(o=0;o<512;o+=Math.round(512*(1-d)))for(i=0;i<=512;i++)this.buffer[o+i]+=r[i];for(o=0;o<512;o++)n[o]=this.buffer[o]},a.connect(o.destination)},l=function(e){for(var t=new Float32Array(e),n=0;n<e;n++)t[n]=.5*(1-Math.cos(2*Math.PI*n/(e-1)));return t};t.a=h},,function(e,t,n){"use strict";var r=function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),n=t.exec(location.search);return null!==n&&decodeURIComponent(n[1].replace(/\+/g," "))};t.a=r},,,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n(1),i=(n.n(o),n(0)),a=n(26),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=void 0,d=void 0,h=void 0,c=void 0,f=void 0,l=void 0,p=void 0,m=void 0,y=void 0,b=void 0,w=void 0,v=void 0,E=void 0,T=void 0,g=void 0,x=void 0,S=void 0,R={x:0,y:0},P=!1,A=(new THREE.LoadingManager,/iPhone|Android/i.test(navigator.userAgent)),B=function(){function e(){r(this,e),this.createScene(),this.createLights(),T=new o.default,u.add(T.mesh),window.scene=u}return s(e,[{key:"createShapes",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"hearts";S=new a.a(e),u.add(S.mesh)}},{key:"startSpinning",value:function(){S.spinScale()}},{key:"setColors",value:function(e){var t=JSON.parse(e.headColors);i.a.skin=t.skin,i.a.freckles=t.freckles,i.a.eye=t.eye,i.a.glasses=t.glasses,i.a.hat=t.hat,this.createHead()}},{key:"errorText",value:function(){var e=new THREE.FontLoader,t=new THREE.Object3D;e.load("/assets/helvetiker_bold.typeface.json",function(e){var n=new THREE.MeshLambertMaterial({color:15330286,flatShading:!0}),r={font:e,size:4,height:2,curveSegments:12,bevelEnabled:!1},o=new THREE.TextGeometry("404 Santa",r),i=new THREE.TextGeometry("went missing",r),a=new THREE.Mesh(o,n),s=new THREE.Mesh(i,n);t.add(a),t.add(s),a.position.y=5,a.position.x=4,t.position.y=-4,t.rotation.y=-.3,u.add(t)})}},{key:"createScene",value:function(){p=window.innerHeight,m=window.innerWidth,g=m/2,x=p/2,u=new THREE.Scene,c=m/p,h=50,f=1,l=2e3,d=new THREE.PerspectiveCamera(h,c,f,l),d.position.x=0,d.position.z=70,d.position.y=-5,v=new THREE.WebGLRenderer({alpha:!0,antialias:!0}),v.setPixelRatio(window.devicePixelRatio?window.devicePixelRatio:1),v.setSize(m,p),v.shadowMap.enabled=!0,v.shadowMap.type=THREE.PCFSoftShadowMap,E=document.getElementById("container"),E.appendChild(v.domElement),window.addEventListener("resize",this.onWindowResize,!1),document.addEventListener("mousemove",this.handleMouseMove,!1)}},{key:"onWindowResize",value:function(){p=window.innerHeight,m=window.innerWidth/1.67,g=m/2,x=p/2,v.setSize(m,p),d.aspect=m/p,d.updateProjectionMatrix()}},{key:"handleMouseMove",value:function(e){R={x:event.clientX,y:event.clientY}}},{key:"handleWindowResize",value:function(e){p=window.innerHeight,m=window.innerWidth,v.setSize(m,p),d.aspect=m/p,d.updateProjectionMatrix()}},{key:"createLights",value:function(){y=new THREE.HemisphereLight(16777215,5592405,.9),b=new THREE.DirectionalLight(16777215,.3),b.position.set(100,250,175),b.castShadow=!0,w=new THREE.DirectionalLight(16777215,.2),w.position.set(-100,200,150),w.castShadow=!0,A&&(b.shadow.mapSize.width=b.shadow.mapSize.height=1024),A||(b.shadow.mapSize.width=b.shadow.mapSize.height=2048),u.add(y),u.add(b),u.add(w),u.add(new THREE.AmbientLight(15392429,.1))}},{key:"blinkLoop",value:function(){!(P=!1)&&Math.random()>.99&&(P=!0,this.blink())}},{key:"blink",value:function(){T.eyes.scale.y=1,TweenMax.to(T.eyes.scale,.07,{y:0,yoyo:!0,repeat:1,onComplete:function(){P=!1}})}},{key:"createHead",value:function(){u.remove(T.mesh),T.name="Head",T=new o.default,u.add(T.mesh)}},{key:"loop",value:function(){var e=R.x-g,t=R.y-x;this.blinkLoop(),T.idle(e,t),v.render(u,d)}}]),e}();t.a=B},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=(n(0),n(27)),i=n(28),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=[],u=function(){function e(t){r(this,e),this.mesh=new THREE.Object3D,this.nStars=15;for(var n=2*Math.PI/this.nStars,a=0;a<this.nStars;a++){switch(t){case"stars":this.s=new o.a;break;case"hearts":this.s=new i.a}var u=n*a;this.s.mesh.position.y=15*Math.sin(u),this.s.mesh.position.x=15*Math.cos(u),this.s.mesh.rotation.z=u+Math.PI/2,this.s.mesh.position.z=0-3*Math.random();var d=.5+.6*Math.random();this.s.mesh.scale.set(d,d,d),this.mesh.add(this.s.mesh),s.push(this.s)}this.mesh.rotation.x=Math.PI/2,this.mesh.position.x=-17,this.mesh.position.y=8}return a(e,[{key:"spinScale",value:function(){this.mesh.rotation.z+=.02;for(var e=0;e<s.length;e++)s[e].mesh.rotation.z+=0-.15*Math.random(),s[e].mesh.rotation.x+=0-.05*Math.random()}}]),e}();t.a=u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n(0),i=function e(){r(this,e),this.mesh=new THREE.Object3D;for(var t=[],n=0;n<10;n++){var i=n%2==1?1:2,a=n/5*Math.PI;t.push(new THREE.Vector2(Math.cos(a)*i,Math.sin(a)*i))}var s=new THREE.Shape(t),u={amount:.5,steps:1,bevelEnabled:!1},d=new THREE.ExtrudeGeometry(s,u),h=new THREE.MeshLambertMaterial({color:o.a.black,flatShading:!0}),c=new THREE.Mesh(d,h);c.rotation.x=Math.PI/2,this.mesh.add(c)};t.a=i},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){r(this,e),this.mesh=new THREE.Object3D;var t=new THREE.Shape;t.moveTo(25,25),t.bezierCurveTo(25,25,20,0,0,0),t.bezierCurveTo(-30,0,-30,35,-30,35),t.bezierCurveTo(-30,55,-10,77,25,95),t.bezierCurveTo(60,77,80,55,80,35),t.bezierCurveTo(80,35,80,0,50,0),t.bezierCurveTo(35,0,25,25,25,25);var n={amount:20,bevelEnabled:!0,bevelSegments:2,steps:2,bevelSize:1,bevelThickness:1};this.addShape(t,n,16368673,0,0,0,0,1,Math.PI,.03)}return o(e,[{key:"addShape",value:function(e,t,n,r,o,i,a,s,u,d){var h=new THREE.ExtrudeGeometry(e,t),c=new THREE.Mesh(h,new THREE.MeshPhongMaterial({color:n}));c.position.set(r,o,i),c.rotation.set(a,s,u),c.scale.set(d,d,d),this.mesh.add(c)}}]),e}();t.a=i}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vanMvc2FudGEuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svYm9vdHN0cmFwIDVmYzAwZDQ5YTYzOTc5OTFjMTYzIiwid2VicGFjazovLy8uL3NyYy9qcy9vYmplY3RzL2NvbG9ycy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaXNvbW9ycGhpYy1mZXRjaC9mZXRjaC1ucG0tYnJvd3NlcmlmeS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvd2hhdHdnLWZldGNoL2ZldGNoLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9saWIvY2FyZEFQSS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvc2FudGFTY3JpcHQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL29iamVjdHMvaGFuZGxlU2FudGFBdWRpby5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvb2JqZWN0cy9nZXRVcmxQYXJhbWV0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2NsYXNzZXMvU2FudGFTY2VuZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvY2xhc3Nlcy9IZWFydHNHcm91cC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvY2xhc3Nlcy9TdGFyLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9jbGFzc2VzL0hlYXJ0LmpzIl0sIm5hbWVzIjpbIm1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpbnN0YWxsZWRNb2R1bGVzIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwiZ2V0IiwibiIsIl9fZXNNb2R1bGUiLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJfX3dlYnBhY2tfZXhwb3J0c19fIiwiQ29sb3JzIiwic2tpbiIsImZyZWNrbGVzIiwid2hpdGUiLCJnbGFzc2VzIiwidGVldGgiLCJibGFjayIsImV5ZSIsImhhdCIsIkVycm9yIiwic2VsZiIsImZldGNoIiwiYmluZCIsIm5vcm1hbGl6ZU5hbWUiLCJTdHJpbmciLCJ0ZXN0IiwiVHlwZUVycm9yIiwidG9Mb3dlckNhc2UiLCJub3JtYWxpemVWYWx1ZSIsInZhbHVlIiwiaXRlcmF0b3JGb3IiLCJpdGVtcyIsIml0ZXJhdG9yIiwibmV4dCIsInNoaWZ0IiwiZG9uZSIsInVuZGVmaW5lZCIsInN1cHBvcnQiLCJpdGVyYWJsZSIsIlN5bWJvbCIsIkhlYWRlcnMiLCJoZWFkZXJzIiwidGhpcyIsIm1hcCIsImZvckVhY2giLCJhcHBlbmQiLCJBcnJheSIsImlzQXJyYXkiLCJoZWFkZXIiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiY29uc3VtZWQiLCJib2R5IiwiYm9keVVzZWQiLCJQcm9taXNlIiwicmVqZWN0IiwiZmlsZVJlYWRlclJlYWR5IiwicmVhZGVyIiwicmVzb2x2ZSIsIm9ubG9hZCIsInJlc3VsdCIsIm9uZXJyb3IiLCJlcnJvciIsInJlYWRCbG9iQXNBcnJheUJ1ZmZlciIsImJsb2IiLCJGaWxlUmVhZGVyIiwicHJvbWlzZSIsInJlYWRBc0FycmF5QnVmZmVyIiwicmVhZEJsb2JBc1RleHQiLCJyZWFkQXNUZXh0IiwicmVhZEFycmF5QnVmZmVyQXNUZXh0IiwiYnVmIiwidmlldyIsIlVpbnQ4QXJyYXkiLCJjaGFycyIsImxlbmd0aCIsImZyb21DaGFyQ29kZSIsImpvaW4iLCJidWZmZXJDbG9uZSIsInNsaWNlIiwiYnl0ZUxlbmd0aCIsInNldCIsImJ1ZmZlciIsIkJvZHkiLCJfaW5pdEJvZHkiLCJfYm9keUluaXQiLCJfYm9keVRleHQiLCJCbG9iIiwiaXNQcm90b3R5cGVPZiIsIl9ib2R5QmxvYiIsImZvcm1EYXRhIiwiRm9ybURhdGEiLCJfYm9keUZvcm1EYXRhIiwic2VhcmNoUGFyYW1zIiwiVVJMU2VhcmNoUGFyYW1zIiwidG9TdHJpbmciLCJhcnJheUJ1ZmZlciIsImlzRGF0YVZpZXciLCJfYm9keUFycmF5QnVmZmVyIiwiQXJyYXlCdWZmZXIiLCJpc0FycmF5QnVmZmVyVmlldyIsInR5cGUiLCJyZWplY3RlZCIsInRoZW4iLCJ0ZXh0IiwiZGVjb2RlIiwianNvbiIsIkpTT04iLCJwYXJzZSIsIm5vcm1hbGl6ZU1ldGhvZCIsIm1ldGhvZCIsInVwY2FzZWQiLCJ0b1VwcGVyQ2FzZSIsIm1ldGhvZHMiLCJpbmRleE9mIiwiUmVxdWVzdCIsImlucHV0Iiwib3B0aW9ucyIsInVybCIsImNyZWRlbnRpYWxzIiwibW9kZSIsInJlZmVycmVyIiwiZm9ybSIsInRyaW0iLCJzcGxpdCIsImJ5dGVzIiwicmVwbGFjZSIsImRlY29kZVVSSUNvbXBvbmVudCIsInBhcnNlSGVhZGVycyIsInJhd0hlYWRlcnMiLCJsaW5lIiwicGFydHMiLCJrZXkiLCJSZXNwb25zZSIsImJvZHlJbml0Iiwic3RhdHVzIiwib2siLCJzdGF0dXNUZXh0IiwiZSIsInZpZXdDbGFzc2VzIiwib2JqIiwiRGF0YVZpZXciLCJpc1ZpZXciLCJvbGRWYWx1ZSIsImhhcyIsImNhbGxiYWNrIiwidGhpc0FyZyIsImtleXMiLCJwdXNoIiwidmFsdWVzIiwiZW50cmllcyIsImNsb25lIiwicmVzcG9uc2UiLCJyZWRpcmVjdFN0YXR1c2VzIiwicmVkaXJlY3QiLCJSYW5nZUVycm9yIiwibG9jYXRpb24iLCJpbml0IiwicmVxdWVzdCIsInhociIsIlhNTEh0dHBSZXF1ZXN0IiwiZ2V0QWxsUmVzcG9uc2VIZWFkZXJzIiwicmVzcG9uc2VVUkwiLCJyZXNwb25zZVRleHQiLCJvbnRpbWVvdXQiLCJvcGVuIiwid2l0aENyZWRlbnRpYWxzIiwicmVzcG9uc2VUeXBlIiwic2V0UmVxdWVzdEhlYWRlciIsInNlbmQiLCJwb2x5ZmlsbCIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9pc29tb3JwaGljX2ZldGNoX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfaXNvbW9ycGhpY19mZXRjaF9fX2RlZmF1bHQiLCJjcmVhdGUiLCJfcmVmIiwiaWQiLCJmcm9tIiwidG8iLCJhdWRpb1NldHRpbmdzIiwiaGVhZENvbG9ycyIsInIiLCJyZWFkIiwicmVhZE9uZSIsInVwZGF0ZSIsIl9yZWYyIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19vYmplY3RzX2hhbmRsZVNhbnRhQXVkaW9fXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fY2xhc3Nlc19TYW50YVNjZW5lX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX29iamVjdHNfZ2V0VXJsUGFyYW1ldGVyX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX2xpYl9jYXJkQVBJX18iLCJ0YXJnZXRJZCIsIndpbmRvdyIsIkF1ZGlvQ29udGV4dCIsIndlYmtpdEF1ZGlvQ29udGV4dCIsInNhbnRhIiwibG9vcCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInBhcnRpY2xlc0pTIiwibG9hZCIsInN0YXR1c0NvZGUiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiaW5uZXJIVE1MIiwic2V0Q29sb3JzIiwiYXVkaW9DdHgiLCIkYXVkaW8iLCJwaXRjaFNoaWZ0ZXJQcm9jZXNzb3IiLCJpc1BsYXlpbmciLCJwaXRjaFJhdGlvIiwib3ZlcmxhcFJhdGlvIiwiaGFuZGxlU2FudGFBdWRpbyIsImNhcnQiLCJzZXRUaW1lb3V0IiwiQnVmZmVyTG9hZGVyIiwiYnVmZmVyTGlzdCIsInNvdXJjZSIsIiRyZXBlYXQiLCJhZGRFdmVudExpc3RlbmVyIiwic3R5bGUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJzdG9wIiwicGl0Y2giLCJvdmVybGFwIiwiY3JlYXRlQnVmZmVyU291cmNlIiwiY29ubmVjdCIsInN0YXJ0IiwiaW5pdFByb2Nlc3NvciIsImxpbmVhckludGVycG9sYXRpb24iLCJhIiwiYiIsInQiLCJkaXNjb25uZWN0IiwiY3JlYXRlU2NyaXB0UHJvY2Vzc29yIiwiY3JlYXRlSmF2YVNjcmlwdE5vZGUiLCJGbG9hdDMyQXJyYXkiLCJncmFpblNpemUiLCJncmFpbldpbmRvdyIsImhhbm5XaW5kb3ciLCJvbmF1ZGlvcHJvY2VzcyIsImV2ZW50IiwiaW5wdXREYXRhIiwiaW5wdXRCdWZmZXIiLCJnZXRDaGFubmVsRGF0YSIsIm91dHB1dERhdGEiLCJvdXRwdXRCdWZmZXIiLCJncmFpbkRhdGEiLCJqIiwiaW5kZXgiLCJNYXRoIiwiZmxvb3IiLCJyb3VuZCIsImRlc3RpbmF0aW9uIiwiY29zIiwiUEkiLCJnZXRVcmxQYXJhbWV0ZXIiLCJyZWdleCIsIlJlZ0V4cCIsInJlc3VsdHMiLCJleGVjIiwic2VhcmNoIiwiX2NsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fSGVhZF9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19vYmplY3RzX2NvbG9yc19fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19IZWFydHNHcm91cF9fIiwiX2NyZWF0ZUNsYXNzIiwiZGVmaW5lUHJvcGVydGllcyIsInRhcmdldCIsInByb3BzIiwiZGVzY3JpcHRvciIsIndyaXRhYmxlIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwic2NlbmUiLCJjYW1lcmEiLCJmaWVsZE9mVmlldyIsImFzcGVjdFJhdGlvIiwibmVhclBsYW5lIiwiZmFyUGxhbmUiLCJIRUlHSFQiLCJXSURUSCIsImdsb2JhbExpZ2h0Iiwic2hhZG93TGlnaHQiLCJiYWNrTGlnaHQiLCJyZW5kZXJlciIsImNvbnRhaW5lciIsImhlYWQiLCJ3aW5kb3dIYWxmWCIsIndpbmRvd0hhbGZZIiwic3Bpbm5pbmdTaGFwZXMiLCJtb3VzZVBvcyIsIngiLCJ5IiwiaXNCbGlua2luZyIsImlzTW9iaWxlIiwiVEhSRUUiLCJMb2FkaW5nTWFuYWdlciIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsIlNhbnRhU2NlbmUiLCJjcmVhdGVTY2VuZSIsImNyZWF0ZUxpZ2h0cyIsImFkZCIsIm1lc2giLCJhcmd1bWVudHMiLCJzcGluU2NhbGUiLCJkYXRhIiwiY3JlYXRlSGVhZCIsImxvYWRlciIsIkZvbnRMb2FkZXIiLCJPYmplY3QzRCIsImZvbnQiLCJza2luTWF0IiwiTWVzaExhbWJlcnRNYXRlcmlhbCIsImNvbG9yIiwiZmxhdFNoYWRpbmciLCJmb250U2V0dGluZ3MiLCJzaXplIiwiaGVpZ2h0IiwiY3VydmVTZWdtZW50cyIsImJldmVsRW5hYmxlZCIsImZpcnN0R2VvbSIsIlRleHRHZW9tZXRyeSIsInNlY29uZEdlb20iLCJmaXJzdCIsIk1lc2giLCJzZWNvbmQiLCJwb3NpdGlvbiIsInJvdGF0aW9uIiwiaW5uZXJIZWlnaHQiLCJpbm5lcldpZHRoIiwiU2NlbmUiLCJQZXJzcGVjdGl2ZUNhbWVyYSIsInoiLCJXZWJHTFJlbmRlcmVyIiwiYWxwaGEiLCJhbnRpYWxpYXMiLCJzZXRQaXhlbFJhdGlvIiwiZGV2aWNlUGl4ZWxSYXRpbyIsInNldFNpemUiLCJzaGFkb3dNYXAiLCJlbmFibGVkIiwiUENGU29mdFNoYWRvd01hcCIsImFwcGVuZENoaWxkIiwiZG9tRWxlbWVudCIsIm9uV2luZG93UmVzaXplIiwiaGFuZGxlTW91c2VNb3ZlIiwiYXNwZWN0IiwidXBkYXRlUHJvamVjdGlvbk1hdHJpeCIsImNsaWVudFgiLCJjbGllbnRZIiwiSGVtaXNwaGVyZUxpZ2h0IiwiRGlyZWN0aW9uYWxMaWdodCIsImNhc3RTaGFkb3ciLCJzaGFkb3ciLCJtYXBTaXplIiwid2lkdGgiLCJBbWJpZW50TGlnaHQiLCJyYW5kb20iLCJibGluayIsImV5ZXMiLCJzY2FsZSIsIlR3ZWVuTWF4IiwieW95byIsInJlcGVhdCIsIm9uQ29tcGxldGUiLCJyZW1vdmUiLCJ4VGFyZ2V0IiwieVRhcmdldCIsImJsaW5rTG9vcCIsImlkbGUiLCJyZW5kZXIiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1N0YXJfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fSGVhcnRfXyIsInN0YXJBcnJheSIsIkhlYXJ0c0dyb3VwIiwiblN0YXJzIiwic3RlcEFuZ2xlIiwic2luIiwic2MiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX29iamVjdHNfY29sb3JzX18iLCJTdGFyIiwicHRzIiwibnVtUHRzIiwiVmVjdG9yMiIsInN0YXJTaGFwZSIsIlNoYXBlIiwiZXh0cnVkZVNldHRpbmdzIiwiYW1vdW50Iiwic3RlcHMiLCJzdGFyR2VvbSIsIkV4dHJ1ZGVHZW9tZXRyeSIsIm1hdCIsInN0YXIiLCJIZWFydCIsImhlYXJ0U2hhcGUiLCJtb3ZlVG8iLCJiZXppZXJDdXJ2ZVRvIiwiYmV2ZWxTZWdtZW50cyIsImJldmVsU2l6ZSIsImJldmVsVGhpY2tuZXNzIiwiYWRkU2hhcGUiLCJzaGFwZSIsInJ4IiwicnkiLCJyeiIsImdlb21ldHJ5IiwiTWVzaFBob25nTWF0ZXJpYWwiXSwibWFwcGluZ3MiOiJDQUFTLFNBQVVBLEdDSW5CLFFBQUFDLEdBQUFDLEdBR0EsR0FBQUMsRUFBQUQsR0FDQSxNQUFBQyxHQUFBRCxHQUFBRSxPQUdBLElBQUFDLEdBQUFGLEVBQUFELElBQ0FJLEVBQUFKLEVBQ0FLLEdBQUEsRUFDQUgsV0FVQSxPQU5BSixHQUFBRSxHQUFBTSxLQUFBSCxFQUFBRCxRQUFBQyxJQUFBRCxRQUFBSCxHQUdBSSxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBdkJBLEdBQUFELEtBNEJBRixHQUFBUSxFQUFBVCxFQUdBQyxFQUFBUyxFQUFBUCxFQUdBRixFQUFBVSxFQUFBLFNBQUFQLEVBQUFRLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFWLEVBQUFRLElBQ0FHLE9BQUFDLGVBQUFaLEVBQUFRLEdBQ0FLLGNBQUEsRUFDQUMsWUFBQSxFQUNBQyxJQUFBTixLQU1BWixFQUFBbUIsRUFBQSxTQUFBZixHQUNBLEdBQUFRLEdBQUFSLEtBQUFnQixXQUNBLFdBQTJCLE1BQUFoQixHQUFBLFNBQzNCLFdBQWlDLE1BQUFBLEdBRWpDLE9BREFKLEdBQUFVLEVBQUFFLEVBQUEsSUFBQUEsR0FDQUEsR0FJQVosRUFBQWEs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dFEsSUFBSyxXQUNMdEcsTUFBTyxTWXB0Q0FvWCxFQUFPZixFQUFpQnpFLEVBQU92QixFQUFHQyxFQUFHeUMsRUFBR3NFLEVBQUlDLEVBQUlDLEVBQUk1WSxHQUczRCxHQUFNNlksR0FBVyxHQUFJL0csT0FBTWdHLGdCQUFnQlcsRUFBT2YsR0FFNUNwRixFQUFPLEdBQUlSLE9BQU04QixLQUFLaUYsRUFBVSxHQUFJL0csT0FBTWdILG1CQUFtQjdGLE1BQU9BLElBQzFFWCxHQUFLd0IsU0FBU3RQLElBQUlrTixFQUFHQyxFQUFHeUMsR0FDeEI5QixFQUFLeUIsU0FBU3ZQLElBQUlrVSxFQUFJQyxFQUFJQyxHQUMxQnRHLEVBQUswRCxNQUFNeFIsSUFBSXhFLEVBQUdBLEVBQUdBLEdBQ3JCa0MsS0FBS29RLEtBQUtELElBQUlDLE9ad3RDVDJGLElZcHRDVGhZLEdBQUEiLCJmaWxlIjoianMvc2FudGEuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG4vKioqKioqLyBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4vKioqKioqLyBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4vKioqKioqLyBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdGk6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0bDogZmFsc2UsXG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fVxuLyoqKioqKi8gXHRcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuLyoqKioqKi8gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0fVxuLyoqKioqKi9cbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuLyoqKioqKi8gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbi8qKioqKiovIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4vKioqKioqLyBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4vKioqKioqLyBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4vKioqKioqLyBcdFx0XHRcdGdldDogZ2V0dGVyXG4vKioqKioqLyBcdFx0XHR9KTtcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbi8qKioqKiovIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbi8qKioqKiovIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4vKioqKioqLyBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuLyoqKioqKi8gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbi8qKioqKiovIFx0XHRyZXR1cm4gZ2V0dGVyO1xuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8qKioqKiovIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMTkpO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoW1xuLyogMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbnZhciBDb2xvcnMgPSB7XG4gIHNraW46IDB4ZmZlMGJkLFxuICBmcmVja2xlczogMHhjZmJhOTYsXG4gIHdoaXRlOiAweGU5ZWJlZSxcbiAgZ2xhc3NlczogMHhmOWM0MjEsXG4gIHRlZXRoOiAweGZmZmZmZixcbiAgYmxhY2s6IDB4MmUyZTJlLFxuICBleWU6IDB4NjI5NWE4LFxuICBoYXQ6IDB4NzIwMzE0XG59O1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IChDb2xvcnMpO1xuXG4vKioqLyB9KSxcbi8qIDEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG50aHJvdyBuZXcgRXJyb3IoXCJNb2R1bGUgYnVpbGQgZmFpbGVkOiBTeW50YXhFcnJvcjogVW5leHBlY3RlZCB0b2tlbiAoMzQ6MClcXG5cXG5cXHUwMDFiWzBtIFxcdTAwMWJbOTBtIDMyIHwgXFx1MDAxYlszOW0gICAgXFx1MDAxYlszNm10aGlzXFx1MDAxYlszOW1cXHUwMDFiWzMzbS5cXHUwMDFiWzM5bVxcdTAwMWJbMzNtRnJlY2tsZXNcXHUwMDFiWzM5bSgpXFx1MDAxYlszM207XFx1MDAxYlszOW1cXG4gXFx1MDAxYls5MG0gMzMgfCBcXHUwMDFiWzM5bSAgICBcXHUwMDFiWzM2bXRoaXNcXHUwMDFiWzM5bVxcdTAwMWJbMzNtLlxcdTAwMWJbMzltXFx1MDAxYlszM21GZWF0dXJlc1xcdTAwMWJbMzltKClcXHUwMDFiWzMzbTtcXHUwMDFiWzM5bVxcblxcdTAwMWJbMzFtXFx1MDAxYlsxbT5cXHUwMDFiWzIybVxcdTAwMWJbMzltXFx1MDAxYls5MG0gMzQgfCBcXHUwMDFiWzM5bVxcdTAwMWJbMzNtPDxcXHUwMDFiWzM5bVxcdTAwMWJbMzNtPDxcXHUwMDFiWzM5bVxcdTAwMWJbMzNtPDxcXHUwMDFiWzM5bVxcdTAwMWJbMzNtPFxcdTAwMWJbMzltIFxcdTAwMWJbMzNtSEVBRFxcdTAwMWJbMzltXFxuIFxcdTAwMWJbOTBtICAgIHwgXFx1MDAxYlszOW1cXHUwMDFiWzMxbVxcdTAwMWJbMW1eXFx1MDAxYlsyMm1cXHUwMDFiWzM5bVxcbiBcXHUwMDFiWzkwbSAzNSB8IFxcdTAwMWJbMzltXFx1MDAxYls5MG0vLyAgICB0aGlzLlN0YXIoKTtcXHUwMDFiWzM5bVxcbiBcXHUwMDFiWzkwbSAzNiB8IFxcdTAwMWJbMzltXFx1MDAxYls5MG0vLyAgICB0aGlzLlN0YXJzR3JvdXAoKTtcXHUwMDFiWzM5bVxcbiBcXHUwMDFiWzkwbSAzNyB8IFxcdTAwMWJbMzltXFx1MDAxYlszM209PT1cXHUwMDFiWzM5bVxcdTAwMWJbMzNtPT09XFx1MDAxYlszOW1cXHUwMDFiWzMzbT1cXHUwMDFiWzM5bVxcdTAwMWJbMG1cXG5cIik7XG5cbi8qKiovIH0pLFxuLyogMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyB0aGUgd2hhdHdnLWZldGNoIHBvbHlmaWxsIGluc3RhbGxzIHRoZSBmZXRjaCgpIGZ1bmN0aW9uXG4vLyBvbiB0aGUgZ2xvYmFsIG9iamVjdCAod2luZG93IG9yIHNlbGYpXG4vL1xuLy8gUmV0dXJuIHRoYXQgYXMgdGhlIGV4cG9ydCBmb3IgdXNlIGluIFdlYnBhY2ssIEJyb3dzZXJpZnkgZXRjLlxuX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcbm1vZHVsZS5leHBvcnRzID0gc2VsZi5mZXRjaC5iaW5kKHNlbGYpO1xuXG5cbi8qKiovIH0pLFxuLyogMyAqLyxcbi8qIDQgKi8sXG4vKiA1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbihmdW5jdGlvbihzZWxmKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBpZiAoc2VsZi5mZXRjaCkge1xuICAgIHJldHVyblxuICB9XG5cbiAgdmFyIHN1cHBvcnQgPSB7XG4gICAgc2VhcmNoUGFyYW1zOiAnVVJMU2VhcmNoUGFyYW1zJyBpbiBzZWxmLFxuICAgIGl0ZXJhYmxlOiAnU3ltYm9sJyBpbiBzZWxmICYmICdpdGVyYXRvcicgaW4gU3ltYm9sLFxuICAgIGJsb2I6ICdGaWxlUmVhZGVyJyBpbiBzZWxmICYmICdCbG9iJyBpbiBzZWxmICYmIChmdW5jdGlvbigpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIG5ldyBCbG9iKClcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICB9KSgpLFxuICAgIGZvcm1EYXRhOiAnRm9ybURhdGEnIGluIHNlbGYsXG4gICAgYXJyYXlCdWZmZXI6ICdBcnJheUJ1ZmZlcicgaW4gc2VsZlxuICB9XG5cbiAgaWYgKHN1cHBvcnQuYXJyYXlCdWZmZXIpIHtcbiAgICB2YXIgdmlld0NsYXNzZXMgPSBbXG4gICAgICAnW29iamVjdCBJbnQ4QXJyYXldJyxcbiAgICAgICdbb2JqZWN0IFVpbnQ4QXJyYXldJyxcbiAgICAgICdbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XScsXG4gICAgICAnW29iamVjdCBJbnQxNkFycmF5XScsXG4gICAgICAnW29iamVjdCBVaW50MTZBcnJheV0nLFxuICAgICAgJ1tvYmplY3QgSW50MzJBcnJheV0nLFxuICAgICAgJ1tvYmplY3QgVWludDMyQXJyYXldJyxcbiAgICAgICdbb2JqZWN0IEZsb2F0MzJBcnJheV0nLFxuICAgICAgJ1tvYmplY3QgRmxvYXQ2NEFycmF5XSdcbiAgICBdXG5cbiAgICB2YXIgaXNEYXRhVmlldyA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiBEYXRhVmlldy5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihvYmopXG4gICAgfVxuXG4gICAgdmFyIGlzQXJyYXlCdWZmZXJWaWV3ID0gQXJyYXlCdWZmZXIuaXNWaWV3IHx8IGZ1bmN0aW9uKG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiB2aWV3Q2xhc3Nlcy5pbmRleE9mKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopKSA+IC0xXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gbm9ybWFsaXplTmFtZShuYW1lKSB7XG4gICAgaWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJykge1xuICAgICAgbmFtZSA9IFN0cmluZyhuYW1lKVxuICAgIH1cbiAgICBpZiAoL1teYS16MC05XFwtIyQlJicqKy5cXF5fYHx+XS9pLnRlc3QobmFtZSkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgY2hhcmFjdGVyIGluIGhlYWRlciBmaWVsZCBuYW1lJylcbiAgICB9XG4gICAgcmV0dXJuIG5hbWUudG9Mb3dlckNhc2UoKVxuICB9XG5cbiAgZnVuY3Rpb24gbm9ybWFsaXplVmFsdWUodmFsdWUpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJykge1xuICAgICAgdmFsdWUgPSBTdHJpbmcodmFsdWUpXG4gICAgfVxuICAgIHJldHVybiB2YWx1ZVxuICB9XG5cbiAgLy8gQnVpbGQgYSBkZXN0cnVjdGl2ZSBpdGVyYXRvciBmb3IgdGhlIHZhbHVlIGxpc3RcbiAgZnVuY3Rpb24gaXRlcmF0b3JGb3IoaXRlbXMpIHtcbiAgICB2YXIgaXRlcmF0b3IgPSB7XG4gICAgICBuZXh0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gaXRlbXMuc2hpZnQoKVxuICAgICAgICByZXR1cm4ge2RvbmU6IHZhbHVlID09PSB1bmRlZmluZWQsIHZhbHVlOiB2YWx1ZX1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc3VwcG9ydC5pdGVyYWJsZSkge1xuICAgICAgaXRlcmF0b3JbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gaXRlcmF0b3JcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gaXRlcmF0b3JcbiAgfVxuXG4gIGZ1bmN0aW9uIEhlYWRlcnMoaGVhZGVycykge1xuICAgIHRoaXMubWFwID0ge31cblxuICAgIGlmIChoZWFkZXJzIGluc3RhbmNlb2YgSGVhZGVycykge1xuICAgICAgaGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG4gICAgICAgIHRoaXMuYXBwZW5kKG5hbWUsIHZhbHVlKVxuICAgICAgfSwgdGhpcylcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoaGVhZGVycykpIHtcbiAgICAgIGhlYWRlcnMuZm9yRWFjaChmdW5jdGlvbihoZWFkZXIpIHtcbiAgICAgICAgdGhpcy5hcHBlbmQoaGVhZGVyWzBdLCBoZWFkZXJbMV0pXG4gICAgICB9LCB0aGlzKVxuICAgIH0gZWxzZSBpZiAoaGVhZGVycykge1xuICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoaGVhZGVycykuZm9yRWFjaChmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgIHRoaXMuYXBwZW5kKG5hbWUsIGhlYWRlcnNbbmFtZV0pXG4gICAgICB9LCB0aGlzKVxuICAgIH1cbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgbmFtZSA9IG5vcm1hbGl6ZU5hbWUobmFtZSlcbiAgICB2YWx1ZSA9IG5vcm1hbGl6ZVZhbHVlKHZhbHVlKVxuICAgIHZhciBvbGRWYWx1ZSA9IHRoaXMubWFwW25hbWVdXG4gICAgdGhpcy5tYXBbbmFtZV0gPSBvbGRWYWx1ZSA/IG9sZFZhbHVlKycsJyt2YWx1ZSA6IHZhbHVlXG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBmdW5jdGlvbihuYW1lKSB7XG4gICAgZGVsZXRlIHRoaXMubWFwW25vcm1hbGl6ZU5hbWUobmFtZSldXG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihuYW1lKSB7XG4gICAgbmFtZSA9IG5vcm1hbGl6ZU5hbWUobmFtZSlcbiAgICByZXR1cm4gdGhpcy5oYXMobmFtZSkgPyB0aGlzLm1hcFtuYW1lXSA6IG51bGxcbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAuaGFzT3duUHJvcGVydHkobm9ybWFsaXplTmFtZShuYW1lKSlcbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgdGhpcy5tYXBbbm9ybWFsaXplTmFtZShuYW1lKV0gPSBub3JtYWxpemVWYWx1ZSh2YWx1ZSlcbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbihjYWxsYmFjaywgdGhpc0FyZykge1xuICAgIGZvciAodmFyIG5hbWUgaW4gdGhpcy5tYXApIHtcbiAgICAgIGlmICh0aGlzLm1hcC5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICBjYWxsYmFjay5jYWxsKHRoaXNBcmcsIHRoaXMubWFwW25hbWVdLCBuYW1lLCB0aGlzKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLmtleXMgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaXRlbXMgPSBbXVxuICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwgbmFtZSkgeyBpdGVtcy5wdXNoKG5hbWUpIH0pXG4gICAgcmV0dXJuIGl0ZXJhdG9yRm9yKGl0ZW1zKVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUudmFsdWVzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGl0ZW1zID0gW11cbiAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24odmFsdWUpIHsgaXRlbXMucHVzaCh2YWx1ZSkgfSlcbiAgICByZXR1cm4gaXRlcmF0b3JGb3IoaXRlbXMpXG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS5lbnRyaWVzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGl0ZW1zID0gW11cbiAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIG5hbWUpIHsgaXRlbXMucHVzaChbbmFtZSwgdmFsdWVdKSB9KVxuICAgIHJldHVybiBpdGVyYXRvckZvcihpdGVtcylcbiAgfVxuXG4gIGlmIChzdXBwb3J0Lml0ZXJhYmxlKSB7XG4gICAgSGVhZGVycy5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXSA9IEhlYWRlcnMucHJvdG90eXBlLmVudHJpZXNcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbnN1bWVkKGJvZHkpIHtcbiAgICBpZiAoYm9keS5ib2R5VXNlZCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBUeXBlRXJyb3IoJ0FscmVhZHkgcmVhZCcpKVxuICAgIH1cbiAgICBib2R5LmJvZHlVc2VkID0gdHJ1ZVxuICB9XG5cbiAgZnVuY3Rpb24gZmlsZVJlYWRlclJlYWR5KHJlYWRlcikge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmVzb2x2ZShyZWFkZXIucmVzdWx0KVxuICAgICAgfVxuICAgICAgcmVhZGVyLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmVqZWN0KHJlYWRlci5lcnJvcilcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgZnVuY3Rpb24gcmVhZEJsb2JBc0FycmF5QnVmZmVyKGJsb2IpIHtcbiAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKVxuICAgIHZhciBwcm9taXNlID0gZmlsZVJlYWRlclJlYWR5KHJlYWRlcilcbiAgICByZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIoYmxvYilcbiAgICByZXR1cm4gcHJvbWlzZVxuICB9XG5cbiAgZnVuY3Rpb24gcmVhZEJsb2JBc1RleHQoYmxvYikge1xuICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpXG4gICAgdmFyIHByb21pc2UgPSBmaWxlUmVhZGVyUmVhZHkocmVhZGVyKVxuICAgIHJlYWRlci5yZWFkQXNUZXh0KGJsb2IpXG4gICAgcmV0dXJuIHByb21pc2VcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWRBcnJheUJ1ZmZlckFzVGV4dChidWYpIHtcbiAgICB2YXIgdmlldyA9IG5ldyBVaW50OEFycmF5KGJ1ZilcbiAgICB2YXIgY2hhcnMgPSBuZXcgQXJyYXkodmlldy5sZW5ndGgpXG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZpZXcubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNoYXJzW2ldID0gU3RyaW5nLmZyb21DaGFyQ29kZSh2aWV3W2ldKVxuICAgIH1cbiAgICByZXR1cm4gY2hhcnMuam9pbignJylcbiAgfVxuXG4gIGZ1bmN0aW9uIGJ1ZmZlckNsb25lKGJ1Zikge1xuICAgIGlmIChidWYuc2xpY2UpIHtcbiAgICAgIHJldHVybiBidWYuc2xpY2UoMClcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHZpZXcgPSBuZXcgVWludDhBcnJheShidWYuYnl0ZUxlbmd0aClcbiAgICAgIHZpZXcuc2V0KG5ldyBVaW50OEFycmF5KGJ1ZikpXG4gICAgICByZXR1cm4gdmlldy5idWZmZXJcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBCb2R5KCkge1xuICAgIHRoaXMuYm9keVVzZWQgPSBmYWxzZVxuXG4gICAgdGhpcy5faW5pdEJvZHkgPSBmdW5jdGlvbihib2R5KSB7XG4gICAgICB0aGlzLl9ib2R5SW5pdCA9IGJvZHlcbiAgICAgIGlmICghYm9keSkge1xuICAgICAgICB0aGlzLl9ib2R5VGV4dCA9ICcnXG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBib2R5ID09PSAnc3RyaW5nJykge1xuICAgICAgICB0aGlzLl9ib2R5VGV4dCA9IGJvZHlcbiAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5ibG9iICYmIEJsb2IucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkpIHtcbiAgICAgICAgdGhpcy5fYm9keUJsb2IgPSBib2R5XG4gICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuZm9ybURhdGEgJiYgRm9ybURhdGEucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkpIHtcbiAgICAgICAgdGhpcy5fYm9keUZvcm1EYXRhID0gYm9keVxuICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LnNlYXJjaFBhcmFtcyAmJiBVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkpIHtcbiAgICAgICAgdGhpcy5fYm9keVRleHQgPSBib2R5LnRvU3RyaW5nKClcbiAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5hcnJheUJ1ZmZlciAmJiBzdXBwb3J0LmJsb2IgJiYgaXNEYXRhVmlldyhib2R5KSkge1xuICAgICAgICB0aGlzLl9ib2R5QXJyYXlCdWZmZXIgPSBidWZmZXJDbG9uZShib2R5LmJ1ZmZlcilcbiAgICAgICAgLy8gSUUgMTAtMTEgY2FuJ3QgaGFuZGxlIGEgRGF0YVZpZXcgYm9keS5cbiAgICAgICAgdGhpcy5fYm9keUluaXQgPSBuZXcgQmxvYihbdGhpcy5fYm9keUFycmF5QnVmZmVyXSlcbiAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5hcnJheUJ1ZmZlciAmJiAoQXJyYXlCdWZmZXIucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkgfHwgaXNBcnJheUJ1ZmZlclZpZXcoYm9keSkpKSB7XG4gICAgICAgIHRoaXMuX2JvZHlBcnJheUJ1ZmZlciA9IGJ1ZmZlckNsb25lKGJvZHkpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3Vuc3VwcG9ydGVkIEJvZHlJbml0IHR5cGUnKVxuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMuaGVhZGVycy5nZXQoJ2NvbnRlbnQtdHlwZScpKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYm9keSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICB0aGlzLmhlYWRlcnMuc2V0KCdjb250ZW50LXR5cGUnLCAndGV4dC9wbGFpbjtjaGFyc2V0PVVURi04JylcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5QmxvYiAmJiB0aGlzLl9ib2R5QmxvYi50eXBlKSB7XG4gICAgICAgICAgdGhpcy5oZWFkZXJzLnNldCgnY29udGVudC10eXBlJywgdGhpcy5fYm9keUJsb2IudHlwZSlcbiAgICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LnNlYXJjaFBhcmFtcyAmJiBVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkpIHtcbiAgICAgICAgICB0aGlzLmhlYWRlcnMuc2V0KCdjb250ZW50LXR5cGUnLCAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9VVRGLTgnKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHN1cHBvcnQuYmxvYikge1xuICAgICAgdGhpcy5ibG9iID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciByZWplY3RlZCA9IGNvbnN1bWVkKHRoaXMpXG4gICAgICAgIGlmIChyZWplY3RlZCkge1xuICAgICAgICAgIHJldHVybiByZWplY3RlZFxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2JvZHlCbG9iKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5QmxvYilcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5ldyBCbG9iKFt0aGlzLl9ib2R5QXJyYXlCdWZmZXJdKSlcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5Rm9ybURhdGEpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvdWxkIG5vdCByZWFkIEZvcm1EYXRhIGJvZHkgYXMgYmxvYicpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShuZXcgQmxvYihbdGhpcy5fYm9keVRleHRdKSlcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLmFycmF5QnVmZmVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpIHtcbiAgICAgICAgICByZXR1cm4gY29uc3VtZWQodGhpcykgfHwgUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcilcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5ibG9iKCkudGhlbihyZWFkQmxvYkFzQXJyYXlCdWZmZXIpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnRleHQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciByZWplY3RlZCA9IGNvbnN1bWVkKHRoaXMpXG4gICAgICBpZiAocmVqZWN0ZWQpIHtcbiAgICAgICAgcmV0dXJuIHJlamVjdGVkXG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl9ib2R5QmxvYikge1xuICAgICAgICByZXR1cm4gcmVhZEJsb2JBc1RleHQodGhpcy5fYm9keUJsb2IpXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlYWRBcnJheUJ1ZmZlckFzVGV4dCh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpKVxuICAgICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5Rm9ybURhdGEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjb3VsZCBub3QgcmVhZCBGb3JtRGF0YSBib2R5IGFzIHRleHQnKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5VGV4dClcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc3VwcG9ydC5mb3JtRGF0YSkge1xuICAgICAgdGhpcy5mb3JtRGF0YSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50ZXh0KCkudGhlbihkZWNvZGUpXG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5qc29uID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy50ZXh0KCkudGhlbihKU09OLnBhcnNlKVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvLyBIVFRQIG1ldGhvZHMgd2hvc2UgY2FwaXRhbGl6YXRpb24gc2hvdWxkIGJlIG5vcm1hbGl6ZWRcbiAgdmFyIG1ldGhvZHMgPSBbJ0RFTEVURScsICdHRVQnLCAnSEVBRCcsICdPUFRJT05TJywgJ1BPU1QnLCAnUFVUJ11cblxuICBmdW5jdGlvbiBub3JtYWxpemVNZXRob2QobWV0aG9kKSB7XG4gICAgdmFyIHVwY2FzZWQgPSBtZXRob2QudG9VcHBlckNhc2UoKVxuICAgIHJldHVybiAobWV0aG9kcy5pbmRleE9mKHVwY2FzZWQpID4gLTEpID8gdXBjYXNlZCA6IG1ldGhvZFxuICB9XG5cbiAgZnVuY3Rpb24gUmVxdWVzdChpbnB1dCwgb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9XG4gICAgdmFyIGJvZHkgPSBvcHRpb25zLmJvZHlcblxuICAgIGlmIChpbnB1dCBpbnN0YW5jZW9mIFJlcXVlc3QpIHtcbiAgICAgIGlmIChpbnB1dC5ib2R5VXNlZCkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBbHJlYWR5IHJlYWQnKVxuICAgICAgfVxuICAgICAgdGhpcy51cmwgPSBpbnB1dC51cmxcbiAgICAgIHRoaXMuY3JlZGVudGlhbHMgPSBpbnB1dC5jcmVkZW50aWFsc1xuICAgICAgaWYgKCFvcHRpb25zLmhlYWRlcnMpIHtcbiAgICAgICAgdGhpcy5oZWFkZXJzID0gbmV3IEhlYWRlcnMoaW5wdXQuaGVhZGVycylcbiAgICAgIH1cbiAgICAgIHRoaXMubWV0aG9kID0gaW5wdXQubWV0aG9kXG4gICAgICB0aGlzLm1vZGUgPSBpbnB1dC5tb2RlXG4gICAgICBpZiAoIWJvZHkgJiYgaW5wdXQuX2JvZHlJbml0ICE9IG51bGwpIHtcbiAgICAgICAgYm9keSA9IGlucHV0Ll9ib2R5SW5pdFxuICAgICAgICBpbnB1dC5ib2R5VXNlZCA9IHRydWVcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy51cmwgPSBTdHJpbmcoaW5wdXQpXG4gICAgfVxuXG4gICAgdGhpcy5jcmVkZW50aWFscyA9IG9wdGlvbnMuY3JlZGVudGlhbHMgfHwgdGhpcy5jcmVkZW50aWFscyB8fCAnb21pdCdcbiAgICBpZiAob3B0aW9ucy5oZWFkZXJzIHx8ICF0aGlzLmhlYWRlcnMpIHtcbiAgICAgIHRoaXMuaGVhZGVycyA9IG5ldyBIZWFkZXJzKG9wdGlvbnMuaGVhZGVycylcbiAgICB9XG4gICAgdGhpcy5tZXRob2QgPSBub3JtYWxpemVNZXRob2Qob3B0aW9ucy5tZXRob2QgfHwgdGhpcy5tZXRob2QgfHwgJ0dFVCcpXG4gICAgdGhpcy5tb2RlID0gb3B0aW9ucy5tb2RlIHx8IHRoaXMubW9kZSB8fCBudWxsXG4gICAgdGhpcy5yZWZlcnJlciA9IG51bGxcblxuICAgIGlmICgodGhpcy5tZXRob2QgPT09ICdHRVQnIHx8IHRoaXMubWV0aG9kID09PSAnSEVBRCcpICYmIGJvZHkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0JvZHkgbm90IGFsbG93ZWQgZm9yIEdFVCBvciBIRUFEIHJlcXVlc3RzJylcbiAgICB9XG4gICAgdGhpcy5faW5pdEJvZHkoYm9keSlcbiAgfVxuXG4gIFJlcXVlc3QucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG5ldyBSZXF1ZXN0KHRoaXMsIHsgYm9keTogdGhpcy5fYm9keUluaXQgfSlcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlY29kZShib2R5KSB7XG4gICAgdmFyIGZvcm0gPSBuZXcgRm9ybURhdGEoKVxuICAgIGJvZHkudHJpbSgpLnNwbGl0KCcmJykuZm9yRWFjaChmdW5jdGlvbihieXRlcykge1xuICAgICAgaWYgKGJ5dGVzKSB7XG4gICAgICAgIHZhciBzcGxpdCA9IGJ5dGVzLnNwbGl0KCc9JylcbiAgICAgICAgdmFyIG5hbWUgPSBzcGxpdC5zaGlmdCgpLnJlcGxhY2UoL1xcKy9nLCAnICcpXG4gICAgICAgIHZhciB2YWx1ZSA9IHNwbGl0LmpvaW4oJz0nKS5yZXBsYWNlKC9cXCsvZywgJyAnKVxuICAgICAgICBmb3JtLmFwcGVuZChkZWNvZGVVUklDb21wb25lbnQobmFtZSksIGRlY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkpXG4gICAgICB9XG4gICAgfSlcbiAgICByZXR1cm4gZm9ybVxuICB9XG5cbiAgZnVuY3Rpb24gcGFyc2VIZWFkZXJzKHJhd0hlYWRlcnMpIHtcbiAgICB2YXIgaGVhZGVycyA9IG5ldyBIZWFkZXJzKClcbiAgICByYXdIZWFkZXJzLnNwbGl0KC9cXHI/XFxuLykuZm9yRWFjaChmdW5jdGlvbihsaW5lKSB7XG4gICAgICB2YXIgcGFydHMgPSBsaW5lLnNwbGl0KCc6JylcbiAgICAgIHZhciBrZXkgPSBwYXJ0cy5zaGlmdCgpLnRyaW0oKVxuICAgICAgaWYgKGtleSkge1xuICAgICAgICB2YXIgdmFsdWUgPSBwYXJ0cy5qb2luKCc6JykudHJpbSgpXG4gICAgICAgIGhlYWRlcnMuYXBwZW5kKGtleSwgdmFsdWUpXG4gICAgICB9XG4gICAgfSlcbiAgICByZXR1cm4gaGVhZGVyc1xuICB9XG5cbiAgQm9keS5jYWxsKFJlcXVlc3QucHJvdG90eXBlKVxuXG4gIGZ1bmN0aW9uIFJlc3BvbnNlKGJvZHlJbml0LCBvcHRpb25zKSB7XG4gICAgaWYgKCFvcHRpb25zKSB7XG4gICAgICBvcHRpb25zID0ge31cbiAgICB9XG5cbiAgICB0aGlzLnR5cGUgPSAnZGVmYXVsdCdcbiAgICB0aGlzLnN0YXR1cyA9ICdzdGF0dXMnIGluIG9wdGlvbnMgPyBvcHRpb25zLnN0YXR1cyA6IDIwMFxuICAgIHRoaXMub2sgPSB0aGlzLnN0YXR1cyA+PSAyMDAgJiYgdGhpcy5zdGF0dXMgPCAzMDBcbiAgICB0aGlzLnN0YXR1c1RleHQgPSAnc3RhdHVzVGV4dCcgaW4gb3B0aW9ucyA/IG9wdGlvbnMuc3RhdHVzVGV4dCA6ICdPSydcbiAgICB0aGlzLmhlYWRlcnMgPSBuZXcgSGVhZGVycyhvcHRpb25zLmhlYWRlcnMpXG4gICAgdGhpcy51cmwgPSBvcHRpb25zLnVybCB8fCAnJ1xuICAgIHRoaXMuX2luaXRCb2R5KGJvZHlJbml0KVxuICB9XG5cbiAgQm9keS5jYWxsKFJlc3BvbnNlLnByb3RvdHlwZSlcblxuICBSZXNwb25zZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gbmV3IFJlc3BvbnNlKHRoaXMuX2JvZHlJbml0LCB7XG4gICAgICBzdGF0dXM6IHRoaXMuc3RhdHVzLFxuICAgICAgc3RhdHVzVGV4dDogdGhpcy5zdGF0dXNUZXh0LFxuICAgICAgaGVhZGVyczogbmV3IEhlYWRlcnModGhpcy5oZWFkZXJzKSxcbiAgICAgIHVybDogdGhpcy51cmxcbiAgICB9KVxuICB9XG5cbiAgUmVzcG9uc2UuZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgcmVzcG9uc2UgPSBuZXcgUmVzcG9uc2UobnVsbCwge3N0YXR1czogMCwgc3RhdHVzVGV4dDogJyd9KVxuICAgIHJlc3BvbnNlLnR5cGUgPSAnZXJyb3InXG4gICAgcmV0dXJuIHJlc3BvbnNlXG4gIH1cblxuICB2YXIgcmVkaXJlY3RTdGF0dXNlcyA9IFszMDEsIDMwMiwgMzAzLCAzMDcsIDMwOF1cblxuICBSZXNwb25zZS5yZWRpcmVjdCA9IGZ1bmN0aW9uKHVybCwgc3RhdHVzKSB7XG4gICAgaWYgKHJlZGlyZWN0U3RhdHVzZXMuaW5kZXhPZihzdGF0dXMpID09PSAtMSkge1xuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0ludmFsaWQgc3RhdHVzIGNvZGUnKVxuICAgIH1cblxuICAgIHJldHVybiBuZXcgUmVzcG9uc2UobnVsbCwge3N0YXR1czogc3RhdHVzLCBoZWFkZXJzOiB7bG9jYXRpb246IHVybH19KVxuICB9XG5cbiAgc2VsZi5IZWFkZXJzID0gSGVhZGVyc1xuICBzZWxmLlJlcXVlc3QgPSBSZXF1ZXN0XG4gIHNlbGYuUmVzcG9uc2UgPSBSZXNwb25zZVxuXG4gIHNlbGYuZmV0Y2ggPSBmdW5jdGlvbihpbnB1dCwgaW5pdCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciByZXF1ZXN0ID0gbmV3IFJlcXVlc3QoaW5wdXQsIGluaXQpXG4gICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KClcblxuICAgICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgICBzdGF0dXM6IHhoci5zdGF0dXMsXG4gICAgICAgICAgc3RhdHVzVGV4dDogeGhyLnN0YXR1c1RleHQsXG4gICAgICAgICAgaGVhZGVyczogcGFyc2VIZWFkZXJzKHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSB8fCAnJylcbiAgICAgICAgfVxuICAgICAgICBvcHRpb25zLnVybCA9ICdyZXNwb25zZVVSTCcgaW4geGhyID8geGhyLnJlc3BvbnNlVVJMIDogb3B0aW9ucy5oZWFkZXJzLmdldCgnWC1SZXF1ZXN0LVVSTCcpXG4gICAgICAgIHZhciBib2R5ID0gJ3Jlc3BvbnNlJyBpbiB4aHIgPyB4aHIucmVzcG9uc2UgOiB4aHIucmVzcG9uc2VUZXh0XG4gICAgICAgIHJlc29sdmUobmV3IFJlc3BvbnNlKGJvZHksIG9wdGlvbnMpKVxuICAgICAgfVxuXG4gICAgICB4aHIub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZWplY3QobmV3IFR5cGVFcnJvcignTmV0d29yayByZXF1ZXN0IGZhaWxlZCcpKVxuICAgICAgfVxuXG4gICAgICB4aHIub250aW1lb3V0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJlamVjdChuZXcgVHlwZUVycm9yKCdOZXR3b3JrIHJlcXVlc3QgZmFpbGVkJykpXG4gICAgICB9XG5cbiAgICAgIHhoci5vcGVuKHJlcXVlc3QubWV0aG9kLCByZXF1ZXN0LnVybCwgdHJ1ZSlcblxuICAgICAgaWYgKHJlcXVlc3QuY3JlZGVudGlhbHMgPT09ICdpbmNsdWRlJykge1xuICAgICAgICB4aHIud2l0aENyZWRlbnRpYWxzID0gdHJ1ZVxuICAgICAgfVxuXG4gICAgICBpZiAoJ3Jlc3BvbnNlVHlwZScgaW4geGhyICYmIHN1cHBvcnQuYmxvYikge1xuICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2Jsb2InXG4gICAgICB9XG5cbiAgICAgIHJlcXVlc3QuaGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG4gICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKG5hbWUsIHZhbHVlKVxuICAgICAgfSlcblxuICAgICAgeGhyLnNlbmQodHlwZW9mIHJlcXVlc3QuX2JvZHlJbml0ID09PSAndW5kZWZpbmVkJyA/IG51bGwgOiByZXF1ZXN0Ll9ib2R5SW5pdClcbiAgICB9KVxuICB9XG4gIHNlbGYuZmV0Y2gucG9seWZpbGwgPSB0cnVlXG59KSh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgPyBzZWxmIDogdGhpcyk7XG5cblxuLyoqKi8gfSksXG4vKiA2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9pc29tb3JwaGljX2ZldGNoX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9pc29tb3JwaGljX2ZldGNoX19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfaXNvbW9ycGhpY19mZXRjaF9fKTtcblxuXG52YXIgdXJsID0gJy9hcGkvY2FyZHMnO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gKHtcblxuICBjcmVhdGU6IGZ1bmN0aW9uIGNyZWF0ZShfcmVmKSB7XG4gICAgdmFyIHRleHQgPSBfcmVmLnRleHQsXG4gICAgICAgIGlkID0gX3JlZi5pZCxcbiAgICAgICAgZnJvbSA9IF9yZWYuZnJvbSxcbiAgICAgICAgYmxvYiA9IF9yZWYuYmxvYixcbiAgICAgICAgdG8gPSBfcmVmLnRvLFxuICAgICAgICBhdWRpb1NldHRpbmdzID0gX3JlZi5hdWRpb1NldHRpbmdzLFxuICAgICAgICBoZWFkQ29sb3JzID0gX3JlZi5oZWFkQ29sb3JzO1xuXG4gICAgdmFyIG1ldGhvZCA9ICdQT1NUJztcbiAgICAvLyBjb25zdCBuZXdGaWxlTmFtZSA9IGAke2lkLnNwbGl0KGAgYCkuam9pbihgX2ApfWA7XG4gICAgdmFyIGJvZHkgPSBuZXcgRm9ybURhdGEoKTtcbiAgICBib2R5LmFwcGVuZCgndGV4dCcsIHRleHQpO1xuICAgIGJvZHkuYXBwZW5kKCdpZCcsIGlkKTtcbiAgICBib2R5LmFwcGVuZCgnZnJvbScsIGZyb20pO1xuICAgIGJvZHkuYXBwZW5kKCd0bycsIHRvKTtcbiAgICBib2R5LmFwcGVuZCgnYXVkaW9TZXR0aW5ncycsIGF1ZGlvU2V0dGluZ3MpO1xuICAgIGJvZHkuYXBwZW5kKCdoZWFkQ29sb3JzJywgaGVhZENvbG9ycyk7XG5cbiAgICByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX2lzb21vcnBoaWNfZmV0Y2hfX19kZWZhdWx0KCkodXJsLCB7IG1ldGhvZDogbWV0aG9kLCBib2R5OiBib2R5IH0pLnRoZW4oZnVuY3Rpb24gKHIpIHtcbiAgICAgIHJldHVybiByLmpzb24oKTtcbiAgICB9KTtcbiAgfSxcblxuICByZWFkOiBmdW5jdGlvbiByZWFkKCkge1xuICAgIHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfaXNvbW9ycGhpY19mZXRjaF9fX2RlZmF1bHQoKSh1cmwgKyAnP2lzQWN0aXZlPXRydWUnKS50aGVuKGZ1bmN0aW9uIChyKSB7XG4gICAgICByZXR1cm4gci5qc29uKCk7XG4gICAgfSk7XG4gIH0sXG5cbiAgcmVhZE9uZTogZnVuY3Rpb24gcmVhZE9uZShpZCkge1xuICAgIHZhciBtZXRob2QgPSAnR0VUJztcbiAgICByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX2lzb21vcnBoaWNfZmV0Y2hfX19kZWZhdWx0KCkodXJsICsgJy8nICsgaWQsIHsgbWV0aG9kOiBtZXRob2QgfSkudGhlbihmdW5jdGlvbiAocikge1xuICAgICAgcmV0dXJuIHIuanNvbigpO1xuICAgIH0pO1xuICB9LFxuXG4gIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKF9yZWYyKSB7XG4gICAgdmFyIHRleHQgPSBfcmVmMi50ZXh0LFxuICAgICAgICBpZCA9IF9yZWYyLmlkLFxuICAgICAgICBmcm9tID0gX3JlZjIuZnJvbSxcbiAgICAgICAgdG8gPSBfcmVmMi50byxcbiAgICAgICAgYXVkaW9TZXR0aW5ncyA9IF9yZWYyLmF1ZGlvU2V0dGluZ3MsXG4gICAgICAgIGhlYWRDb2xvcnMgPSBfcmVmMi5oZWFkQ29sb3JzO1xuXG4gICAgdmFyIG1ldGhvZCA9ICdQVVQnO1xuICAgIHZhciBib2R5ID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgYm9keS5hcHBlbmQoJ3RleHQnLCB0ZXh0KTtcbiAgICBib2R5LmFwcGVuZCgnaWQnLCBpZCk7XG4gICAgYm9keS5hcHBlbmQoJ2Zyb20nLCBmcm9tKTtcbiAgICBib2R5LmFwcGVuZCgndG8nLCB0byk7XG4gICAgYm9keS5hcHBlbmQoJ2F1ZGlvU2V0dGluZ3MnLCBhdWRpb1NldHRpbmdzKTtcbiAgICBib2R5LmFwcGVuZCgnaGVhZENvbG9ycycsIGhlYWRDb2xvcnMpO1xuXG4gICAgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9pc29tb3JwaGljX2ZldGNoX19fZGVmYXVsdCgpKHVybCArICcvJyArIGlkLCB7IG1ldGhvZDogbWV0aG9kLCBib2R5OiBib2R5IH0pLnRoZW4oZnVuY3Rpb24gKHIpIHtcbiAgICAgIHJldHVybiByLmpzb24oKTtcbiAgICB9KTtcbiAgfVxufSk7XG5cbi8qKiovIH0pLFxuLyogNyAqLyxcbi8qIDggKi8sXG4vKiA5ICovLFxuLyogMTAgKi8sXG4vKiAxMSAqLyxcbi8qIDEyICovLFxuLyogMTMgKi8sXG4vKiAxNCAqLyxcbi8qIDE1ICovLFxuLyogMTYgKi8sXG4vKiAxNyAqLyxcbi8qIDE4ICovLFxuLyogMTkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19vYmplY3RzX2hhbmRsZVNhbnRhQXVkaW9fXyA9IF9fd2VicGFja19yZXF1aXJlX18oMjApO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fY2xhc3Nlc19TYW50YVNjZW5lX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI1KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX29iamVjdHNfZ2V0VXJsUGFyYW1ldGVyX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX2xpYl9jYXJkQVBJX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xudmFyIEF1ZGlvQ29udGV4dCA9IHdpbmRvdy5BdWRpb0NvbnRleHQgfHwgd2luZG93LndlYmtpdEF1ZGlvQ29udGV4dDtcblxuXG5cblxuXG52YXIgdGFyZ2V0SWQgPSB2b2lkIDAsXG4gICAgYXVkaW9DdHggPSB2b2lkIDAsXG4gICAgc2FudGEgPSB2b2lkIDA7XG5cbnZhciBpbml0ID0gZnVuY3Rpb24gaW5pdCgpIHtcblxuICBwYXJ0aWNsZXNKUy5sb2FkKCdwYXJ0aWNsZXMtanMnLCAnLi4vYXNzZXRzL3BhcnRpY2xlcy5qc29uJyk7XG5cbiAgdGFyZ2V0SWQgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19vYmplY3RzX2dldFVybFBhcmFtZXRlcl9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShcImlkXCIpO1xuICBpZiAoIXRhcmdldElkKSB3aW5kb3cubG9jYXRpb24gPSBcImh0dHBzOi8vZXhwZXJpbWVudGFsd2ViLmhlcm9rdWFwcC5jb20vXCI7XG5cbiAgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19saWJfY2FyZEFQSV9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLnJlYWRPbmUodGFyZ2V0SWQpLnRoZW4oZnVuY3Rpb24gKGQpIHtcbiAgICBpZiAoZC5zdGF0dXNDb2RlKSB3aW5kb3cubG9jYXRpb24gPSBcImh0dHBzOi8vZXhwZXJpbWVudGFsd2ViLmhlcm9rdWFwcC5jb20vXCI7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Zyb20nKS5pbm5lckhUTUwgPSAnJyArIGQuZnJvbTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG8nKS5pbm5lckhUTUwgPSAnJyArIGQudG87XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lc3NhZ2UnKS5pbm5lckhUTUwgPSAnJyArIGQudGV4dDtcblxuICAgIHNhbnRhID0gbmV3IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fY2xhc3Nlc19TYW50YVNjZW5lX19bXCJhXCIgLyogZGVmYXVsdCAqL10oKTtcbiAgICBzYW50YS5zZXRDb2xvcnMoZCk7XG4gICAgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fb2JqZWN0c19oYW5kbGVTYW50YUF1ZGlvX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKGQpO1xuICAgIGxvb3AoKTtcbiAgfSk7XG59O1xuXG52YXIgbG9vcCA9IGZ1bmN0aW9uIGxvb3AoKSB7XG4gIHNhbnRhLmxvb3AoKTtcbiAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGxvb3ApO1xufTtcblxuaW5pdCgpO1xuXG4vKioqLyB9KSxcbi8qIDIwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fY2xhc3Nlc19IZWFkX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xudmFyIEF1ZGlvQ29udGV4dCA9IHdpbmRvdy5BdWRpb0NvbnRleHQgfHwgd2luZG93LndlYmtpdEF1ZGlvQ29udGV4dDtcblxuXG52YXIgdGFyZ2V0SWQgPSB2b2lkIDAsXG4gICAgYXVkaW9DdHggPSB2b2lkIDA7XG52YXIgcGxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwbGF5X3NhbnRhJyk7XG52YXIgJGF1ZGlvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2F1ZGlvJyk7XG5cbnZhciBwaXRjaFNoaWZ0ZXJQcm9jZXNzb3IgPSB2b2lkIDA7XG52YXIgaXNQbGF5aW5nID0gZmFsc2U7XG52YXIgZ3JhaW5TaXplID0gNTEyLFxuICAgIHBpdGNoUmF0aW8gPSAxLjAsXG4gICAgb3ZlcmxhcFJhdGlvID0gMC41MDtcblxudmFyIGhhbmRsZVNhbnRhQXVkaW8gPSBmdW5jdGlvbiBoYW5kbGVTYW50YUF1ZGlvKGNhcnQpIHtcbiAgYXVkaW9DdHggPSBuZXcgQXVkaW9Db250ZXh0KCk7XG4gIHZhciBhdWRpb1NldHRpbmdzID0gSlNPTi5wYXJzZShjYXJ0LmF1ZGlvU2V0dGluZ3MpO1xuXG4gIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgIHZhciBidWZmZXJMb2FkZXIgPSBuZXcgQnVmZmVyTG9hZGVyKGF1ZGlvQ3R4LCBbJy4vdXBsb2Fkcy8nICsgY2FydC5pZCArICcub2dnJ10sIGZ1bmN0aW9uIChidWZmZXJMaXN0KSB7XG5cbiAgICAgIHZhciBsb29wID0gZmFsc2U7XG4gICAgICB2YXIgc291cmNlID0gdm9pZCAwO1xuXG4gICAgICB2YXIgJHJlcGVhdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXBlYXQnKTtcbiAgICAgICRyZXBlYXQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChsb29wKSB7XG4gICAgICAgICAgJHJlcGVhdC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAncmdiYSgxMTMsIDAsIDI0LCAwLjQpJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkcmVwZWF0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdyZ2JhKDE1MCwgMCwgMzksIDEpJztcbiAgICAgICAgfVxuXG4gICAgICAgIGxvb3AgPSAhbG9vcDtcbiAgICAgICAgaWYgKGlzUGxheWluZykgc291cmNlLnN0b3AoKTtcbiAgICAgIH0pO1xuXG4gICAgICBwaXRjaFJhdGlvID0gYXVkaW9TZXR0aW5ncy5waXRjaDtcbiAgICAgIG92ZXJsYXBSYXRpbyA9IGF1ZGlvU2V0dGluZ3Mub3ZlcmxhcDtcblxuICAgICAgJGF1ZGlvLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBpc1BsYXlpbmcgPSB0cnVlO1xuICAgICAgICBzb3VyY2UgPSAnJztcbiAgICAgICAgc291cmNlID0gYXVkaW9DdHguY3JlYXRlQnVmZmVyU291cmNlKCk7XG4gICAgICAgIHNvdXJjZS5idWZmZXIgPSBidWZmZXJMaXN0WzBdO1xuICAgICAgICBzb3VyY2UubG9vcCA9IGxvb3A7XG4gICAgICAgIHNvdXJjZS5jb25uZWN0KHBpdGNoU2hpZnRlclByb2Nlc3Nvcik7XG4gICAgICAgIHNvdXJjZS5zdGFydCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBidWZmZXJMb2FkZXIubG9hZCgpO1xuICAgIGluaXRQcm9jZXNzb3IoKTtcbiAgfSwgMTAwMCk7XG59O1xuXG52YXIgbGluZWFySW50ZXJwb2xhdGlvbiA9IGZ1bmN0aW9uIGxpbmVhckludGVycG9sYXRpb24oYSwgYiwgdCkge1xuICByZXR1cm4gYSArIChiIC0gYSkgKiB0O1xufTtcblxudmFyIGluaXRQcm9jZXNzb3IgPSBmdW5jdGlvbiBpbml0UHJvY2Vzc29yKCkge1xuXG4gIGlmIChwaXRjaFNoaWZ0ZXJQcm9jZXNzb3IpIHtcbiAgICBwaXRjaFNoaWZ0ZXJQcm9jZXNzb3IuZGlzY29ubmVjdCgpO1xuICB9XG5cbiAgaWYgKGF1ZGlvQ3R4LmNyZWF0ZVNjcmlwdFByb2Nlc3Nvcikge1xuICAgIHBpdGNoU2hpZnRlclByb2Nlc3NvciA9IGF1ZGlvQ3R4LmNyZWF0ZVNjcmlwdFByb2Nlc3NvcihncmFpblNpemUsIDEsIDEpO1xuICB9IGVsc2UgaWYgKGF1ZGlvQ3R4LmNyZWF0ZUphdmFTY3JpcHROb2RlKSB7XG4gICAgcGl0Y2hTaGlmdGVyUHJvY2Vzc29yID0gYXVkaW9DdHguY3JlYXRlSmF2YVNjcmlwdE5vZGUoZ3JhaW5TaXplLCAxLCAxKTtcbiAgfVxuXG4gIHBpdGNoU2hpZnRlclByb2Nlc3Nvci5idWZmZXIgPSBuZXcgRmxvYXQzMkFycmF5KGdyYWluU2l6ZSAqIDIpO1xuICBwaXRjaFNoaWZ0ZXJQcm9jZXNzb3IuZ3JhaW5XaW5kb3cgPSBoYW5uV2luZG93KGdyYWluU2l6ZSk7XG5cbiAgcGl0Y2hTaGlmdGVyUHJvY2Vzc29yLm9uYXVkaW9wcm9jZXNzID0gZnVuY3Rpb24gKGV2ZW50KSB7XG5cbiAgICB2YXIgaW5wdXREYXRhID0gZXZlbnQuaW5wdXRCdWZmZXIuZ2V0Q2hhbm5lbERhdGEoMCk7XG4gICAgdmFyIG91dHB1dERhdGEgPSBldmVudC5vdXRwdXRCdWZmZXIuZ2V0Q2hhbm5lbERhdGEoMCk7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgaW5wdXREYXRhLmxlbmd0aDsgaSsrKSB7XG5cbiAgICAgIC8vIEFwcGx5IHRoZSB3aW5kb3cgdG8gdGhlIGlucHV0IGJ1ZmZlclxuICAgICAgaW5wdXREYXRhW2ldICo9IHRoaXMuZ3JhaW5XaW5kb3dbaV07XG5cbiAgICAgIC8vIFNoaWZ0IGhhbGYgb2YgdGhlIGJ1ZmZlclxuICAgICAgdGhpcy5idWZmZXJbaV0gPSB0aGlzLmJ1ZmZlcltpICsgZ3JhaW5TaXplXTtcblxuICAgICAgLy8gRW1wdHkgdGhlIGJ1ZmZlciB0YWlsXG4gICAgICB0aGlzLmJ1ZmZlcltpICsgZ3JhaW5TaXplXSA9IDAuMDtcbiAgICB9XG5cbiAgICAvLyBDYWxjdWxhdGUgdGhlIHBpdGNoIHNoaWZ0ZWQgZ3JhaW4gcmUtc2FtcGxpbmcgYW5kIGxvb3BpbmcgdGhlIGlucHV0XG4gICAgdmFyIGdyYWluRGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoZ3JhaW5TaXplICogMik7XG4gICAgZm9yICh2YXIgaSA9IDAsIGogPSAwLjA7IGkgPCBncmFpblNpemU7IGkrKywgaiArPSBwaXRjaFJhdGlvKSB7XG5cbiAgICAgIHZhciBpbmRleCA9IE1hdGguZmxvb3IoaikgJSBncmFpblNpemU7XG4gICAgICB2YXIgYSA9IGlucHV0RGF0YVtpbmRleF07XG4gICAgICB2YXIgYiA9IGlucHV0RGF0YVsoaW5kZXggKyAxKSAlIGdyYWluU2l6ZV07XG4gICAgICBncmFpbkRhdGFbaV0gKz0gbGluZWFySW50ZXJwb2xhdGlvbihhLCBiLCBqICUgMS4wKSAqIHRoaXMuZ3JhaW5XaW5kb3dbaV07XG4gICAgfVxuXG4gICAgLy8gQ29weSB0aGUgZ3JhaW4gbXVsdGlwbGUgdGltZXMgb3ZlcmxhcHBpbmcgaXRcbiAgICBmb3IgKGkgPSAwOyBpIDwgZ3JhaW5TaXplOyBpICs9IE1hdGgucm91bmQoZ3JhaW5TaXplICogKDEgLSBvdmVybGFwUmF0aW8pKSkge1xuICAgICAgZm9yIChqID0gMDsgaiA8PSBncmFpblNpemU7IGorKykge1xuICAgICAgICB0aGlzLmJ1ZmZlcltpICsgal0gKz0gZ3JhaW5EYXRhW2pdO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIE91dHB1dCB0aGUgZmlyc3QgaGFsZiBvZiB0aGUgYnVmZmVyXG4gICAgZm9yIChpID0gMDsgaSA8IGdyYWluU2l6ZTsgaSsrKSB7XG4gICAgICBvdXRwdXREYXRhW2ldID0gdGhpcy5idWZmZXJbaV07XG4gICAgfVxuICB9O1xuXG4gIHBpdGNoU2hpZnRlclByb2Nlc3Nvci5jb25uZWN0KGF1ZGlvQ3R4LmRlc3RpbmF0aW9uKTtcbn07XG5cbnZhciBoYW5uV2luZG93ID0gZnVuY3Rpb24gaGFubldpbmRvdyhsZW5ndGgpIHtcbiAgdmFyIHdpbmRvdyA9IG5ldyBGbG9hdDMyQXJyYXkobGVuZ3RoKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIHdpbmRvd1tpXSA9IDAuNSAqICgxIC0gTWF0aC5jb3MoMiAqIE1hdGguUEkgKiBpIC8gKGxlbmd0aCAtIDEpKSk7XG4gIH1cbiAgcmV0dXJuIHdpbmRvdztcbn07XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSAoaGFuZGxlU2FudGFBdWRpbyk7XG5cbi8qKiovIH0pLFxuLyogMjEgKi8sXG4vKiAyMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbnZhciBnZXRVcmxQYXJhbWV0ZXIgPSBmdW5jdGlvbiBnZXRVcmxQYXJhbWV0ZXIobmFtZSkge1xuICBuYW1lID0gbmFtZS5yZXBsYWNlKC9bXFxbXS8sICdcXFxcWycpLnJlcGxhY2UoL1tcXF1dLywgJ1xcXFxdJyk7XG4gIHZhciByZWdleCA9IG5ldyBSZWdFeHAoJ1tcXFxcPyZdJyArIG5hbWUgKyAnPShbXiYjXSopJyk7XG4gIHZhciByZXN1bHRzID0gcmVnZXguZXhlYyhsb2NhdGlvbi5zZWFyY2gpO1xuICByZXR1cm4gcmVzdWx0cyA9PT0gbnVsbCA/IGZhbHNlIDogZGVjb2RlVVJJQ29tcG9uZW50KHJlc3VsdHNbMV0ucmVwbGFjZSgvXFwrL2csICcgJykpO1xufTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IChnZXRVcmxQYXJhbWV0ZXIpO1xuXG4vKioqLyB9KSxcbi8qIDIzICovLFxuLyogMjQgKi8sXG4vKiAyNSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX0hlYWRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19IZWFkX19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX0hlYWRfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19vYmplY3RzX2NvbG9yc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX0hlYXJ0c0dyb3VwX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KTtcbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cblxuXG5cblxudmFyIHNjZW5lID0gdm9pZCAwLFxuICAgIGNhbWVyYSA9IHZvaWQgMCxcbiAgICBmaWVsZE9mVmlldyA9IHZvaWQgMCxcbiAgICBhc3BlY3RSYXRpbyA9IHZvaWQgMCxcbiAgICBuZWFyUGxhbmUgPSB2b2lkIDAsXG4gICAgZmFyUGxhbmUgPSB2b2lkIDAsXG4gICAgSEVJR0hUID0gdm9pZCAwLFxuICAgIFdJRFRIID0gdm9pZCAwO1xudmFyIGdsb2JhbExpZ2h0ID0gdm9pZCAwLFxuICAgIHNoYWRvd0xpZ2h0ID0gdm9pZCAwLFxuICAgIGJhY2tMaWdodCA9IHZvaWQgMCxcbiAgICBsaWdodCA9IHZvaWQgMCxcbiAgICByZW5kZXJlciA9IHZvaWQgMCxcbiAgICBjb250YWluZXIgPSB2b2lkIDAsXG4gICAgbG9hZGVkID0gdm9pZCAwO1xudmFyIGhlYWQgPSB2b2lkIDAsXG4gICAgd2luZG93SGFsZlggPSB2b2lkIDAsXG4gICAgd2luZG93SGFsZlkgPSB2b2lkIDA7XG52YXIgc3Bpbm5pbmdTaGFwZXMgPSB2b2lkIDA7XG5cbnZhciBtb3VzZVBvcyA9IHsgeDogMCwgeTogMCB9O1xudmFyIG9uRXJyb3JQYWdlID0gZmFsc2U7XG52YXIgb25Ib21lID0gdm9pZCAwLFxuICAgIGlzQmxpbmtpbmcgPSBmYWxzZTtcblxudmFyIGxvYWRlck1hbmFnZXIgPSBuZXcgVEhSRUUuTG9hZGluZ01hbmFnZXIoKTtcbnZhciBpc01vYmlsZSA9IC9pUGhvbmV8QW5kcm9pZC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG5cbnZhciBTYW50YVNjZW5lID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBTYW50YVNjZW5lKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTYW50YVNjZW5lKTtcblxuICAgIHRoaXMuY3JlYXRlU2NlbmUoKTtcbiAgICB0aGlzLmNyZWF0ZUxpZ2h0cygpO1xuXG4gICAgaGVhZCA9IG5ldyBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX0hlYWRfX1tcImRlZmF1bHRcIl0oKTsgLy8gc2hvdyBhbmQgaGFuZGxlIGhlYWRcbiAgICBzY2VuZS5hZGQoaGVhZC5tZXNoKTtcblxuICAgIHdpbmRvdy5zY2VuZSA9IHNjZW5lO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFNhbnRhU2NlbmUsIFt7XG4gICAga2V5OiAnY3JlYXRlU2hhcGVzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlU2hhcGVzKCkge1xuICAgICAgdmFyIHR5cGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICdoZWFydHMnO1xuXG4gICAgICBzcGlubmluZ1NoYXBlcyA9IG5ldyBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX0hlYXJ0c0dyb3VwX19bXCJhXCIgLyogZGVmYXVsdCAqL10odHlwZSk7XG4gICAgICBzY2VuZS5hZGQoc3Bpbm5pbmdTaGFwZXMubWVzaCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnc3RhcnRTcGlubmluZycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHN0YXJ0U3Bpbm5pbmcoKSB7XG4gICAgICBzcGlubmluZ1NoYXBlcy5zcGluU2NhbGUoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdzZXRDb2xvcnMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRDb2xvcnMoZGF0YSkge1xuICAgICAgdmFyIGhlYWRDb2xvcnMgPSBKU09OLnBhcnNlKGRhdGEuaGVhZENvbG9ycyk7XG5cbiAgICAgIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fb2JqZWN0c19jb2xvcnNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS5za2luID0gaGVhZENvbG9ycy5za2luO1xuICAgICAgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19vYmplY3RzX2NvbG9yc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLmZyZWNrbGVzID0gaGVhZENvbG9ycy5mcmVja2xlcztcbiAgICAgIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fb2JqZWN0c19jb2xvcnNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS5leWUgPSBoZWFkQ29sb3JzLmV5ZTtcbiAgICAgIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fb2JqZWN0c19jb2xvcnNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS5nbGFzc2VzID0gaGVhZENvbG9ycy5nbGFzc2VzO1xuICAgICAgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19vYmplY3RzX2NvbG9yc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLmhhdCA9IGhlYWRDb2xvcnMuaGF0O1xuXG4gICAgICB0aGlzLmNyZWF0ZUhlYWQoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdlcnJvclRleHQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBlcnJvclRleHQoKSB7XG4gICAgICB2YXIgbG9hZGVyID0gbmV3IFRIUkVFLkZvbnRMb2FkZXIoKTtcbiAgICAgIHZhciBtZXNoID0gbmV3IFRIUkVFLk9iamVjdDNEKCk7XG5cbiAgICAgIGxvYWRlci5sb2FkKCcvYXNzZXRzL2hlbHZldGlrZXJfYm9sZC50eXBlZmFjZS5qc29uJywgZnVuY3Rpb24gKGZvbnQpIHtcblxuICAgICAgICB2YXIgc2tpbk1hdCA9IG5ldyBUSFJFRS5NZXNoTGFtYmVydE1hdGVyaWFsKHsgY29sb3I6IDB4ZTllYmVlLCBmbGF0U2hhZGluZzogdHJ1ZSB9KTtcbiAgICAgICAgdmFyIGZvbnRTZXR0aW5ncyA9IHtcbiAgICAgICAgICBmb250OiBmb250LFxuICAgICAgICAgIHNpemU6IDQsXG4gICAgICAgICAgaGVpZ2h0OiAyLFxuICAgICAgICAgIGN1cnZlU2VnbWVudHM6IDEyLFxuICAgICAgICAgIGJldmVsRW5hYmxlZDogZmFsc2VcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgZmlyc3RHZW9tID0gbmV3IFRIUkVFLlRleHRHZW9tZXRyeSgnNDA0IFNhbnRhJywgZm9udFNldHRpbmdzKTtcbiAgICAgICAgdmFyIHNlY29uZEdlb20gPSBuZXcgVEhSRUUuVGV4dEdlb21ldHJ5KCd3ZW50IG1pc3NpbmcnLCBmb250U2V0dGluZ3MpO1xuXG4gICAgICAgIHZhciBmaXJzdCA9IG5ldyBUSFJFRS5NZXNoKGZpcnN0R2VvbSwgc2tpbk1hdCk7XG4gICAgICAgIHZhciBzZWNvbmQgPSBuZXcgVEhSRUUuTWVzaChzZWNvbmRHZW9tLCBza2luTWF0KTtcblxuICAgICAgICBtZXNoLmFkZChmaXJzdCk7XG4gICAgICAgIG1lc2guYWRkKHNlY29uZCk7XG5cbiAgICAgICAgZmlyc3QucG9zaXRpb24ueSA9IDU7XG4gICAgICAgIGZpcnN0LnBvc2l0aW9uLnggPSA0O1xuICAgICAgICBtZXNoLnBvc2l0aW9uLnkgPSAtNDtcbiAgICAgICAgbWVzaC5yb3RhdGlvbi55ID0gLTAuMztcbiAgICAgICAgc2NlbmUuYWRkKG1lc2gpO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY3JlYXRlU2NlbmUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVTY2VuZSgpIHtcbiAgICAgIDtcbiAgICAgIEhFSUdIVCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICAgIFdJRFRIID0gd2luZG93LmlubmVyV2lkdGg7XG5cbiAgICAgIHdpbmRvd0hhbGZYID0gV0lEVEggLyAyO1xuICAgICAgd2luZG93SGFsZlkgPSBIRUlHSFQgLyAyO1xuXG4gICAgICBzY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpO1xuICAgICAgYXNwZWN0UmF0aW8gPSBXSURUSCAvIEhFSUdIVDtcbiAgICAgIGZpZWxkT2ZWaWV3ID0gNTA7XG4gICAgICBuZWFyUGxhbmUgPSAxO1xuICAgICAgZmFyUGxhbmUgPSAyMDAwO1xuXG4gICAgICBjYW1lcmEgPSBuZXcgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEoZmllbGRPZlZpZXcsIGFzcGVjdFJhdGlvLCBuZWFyUGxhbmUsIGZhclBsYW5lKTtcbiAgICAgIGNhbWVyYS5wb3NpdGlvbi54ID0gMDtcbiAgICAgIGNhbWVyYS5wb3NpdGlvbi56ID0gNzA7XG4gICAgICBjYW1lcmEucG9zaXRpb24ueSA9IC01O1xuXG4gICAgICByZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKHsgYWxwaGE6IHRydWUsIGFudGlhbGlhczogdHJ1ZSB9KTtcbiAgICAgIHJlbmRlcmVyLnNldFBpeGVsUmF0aW8od2luZG93LmRldmljZVBpeGVsUmF0aW8gPyB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyA6IDEpO1xuICAgICAgcmVuZGVyZXIuc2V0U2l6ZShXSURUSCwgSEVJR0hUKTtcbiAgICAgIHJlbmRlcmVyLnNoYWRvd01hcC5lbmFibGVkID0gdHJ1ZTtcbiAgICAgIHJlbmRlcmVyLnNoYWRvd01hcC50eXBlID0gVEhSRUUuUENGU29mdFNoYWRvd01hcDtcblxuICAgICAgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRhaW5lcicpO1xuICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHJlbmRlcmVyLmRvbUVsZW1lbnQpO1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMub25XaW5kb3dSZXNpemUsIGZhbHNlKTtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuaGFuZGxlTW91c2VNb3ZlLCBmYWxzZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnb25XaW5kb3dSZXNpemUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbldpbmRvd1Jlc2l6ZSgpIHtcbiAgICAgIEhFSUdIVCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICAgIFdJRFRIID0gd2luZG93LmlubmVyV2lkdGggLyAxLjY3O1xuICAgICAgd2luZG93SGFsZlggPSBXSURUSCAvIDI7XG4gICAgICB3aW5kb3dIYWxmWSA9IEhFSUdIVCAvIDI7XG4gICAgICByZW5kZXJlci5zZXRTaXplKFdJRFRILCBIRUlHSFQpO1xuICAgICAgY2FtZXJhLmFzcGVjdCA9IFdJRFRIIC8gSEVJR0hUO1xuICAgICAgY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdoYW5kbGVNb3VzZU1vdmUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVNb3VzZU1vdmUoZSkge1xuICAgICAgbW91c2VQb3MgPSB7XG4gICAgICAgIHg6IGV2ZW50LmNsaWVudFgsXG4gICAgICAgIHk6IGV2ZW50LmNsaWVudFlcbiAgICAgIH07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnaGFuZGxlV2luZG93UmVzaXplJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlV2luZG93UmVzaXplKGUpIHtcbiAgICAgIEhFSUdIVCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICAgIFdJRFRIID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgICByZW5kZXJlci5zZXRTaXplKFdJRFRILCBIRUlHSFQpO1xuICAgICAgY2FtZXJhLmFzcGVjdCA9IFdJRFRIIC8gSEVJR0hUO1xuICAgICAgY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjcmVhdGVMaWdodHMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVMaWdodHMoKSB7XG5cbiAgICAgIGdsb2JhbExpZ2h0ID0gbmV3IFRIUkVFLkhlbWlzcGhlcmVMaWdodCgweGZmZmZmZiwgMHg1NTU1NTUsIC45KTtcblxuICAgICAgc2hhZG93TGlnaHQgPSBuZXcgVEhSRUUuRGlyZWN0aW9uYWxMaWdodCgweGZmZmZmZiwgLjMpO1xuICAgICAgc2hhZG93TGlnaHQucG9zaXRpb24uc2V0KDEwMCwgMjUwLCAxNzUpO1xuICAgICAgc2hhZG93TGlnaHQuY2FzdFNoYWRvdyA9IHRydWU7XG5cbiAgICAgIGJhY2tMaWdodCA9IG5ldyBUSFJFRS5EaXJlY3Rpb25hbExpZ2h0KDB4ZmZmZmZmLCAuMik7XG4gICAgICBiYWNrTGlnaHQucG9zaXRpb24uc2V0KC0xMDAsIDIwMCwgMTUwKTtcbiAgICAgIGJhY2tMaWdodC5jYXN0U2hhZG93ID0gdHJ1ZTtcblxuICAgICAgaWYgKGlzTW9iaWxlKSBzaGFkb3dMaWdodC5zaGFkb3cubWFwU2l6ZS53aWR0aCA9IHNoYWRvd0xpZ2h0LnNoYWRvdy5tYXBTaXplLmhlaWdodCA9IDEwMjQ7XG4gICAgICBpZiAoIWlzTW9iaWxlKSBzaGFkb3dMaWdodC5zaGFkb3cubWFwU2l6ZS53aWR0aCA9IHNoYWRvd0xpZ2h0LnNoYWRvdy5tYXBTaXplLmhlaWdodCA9IDIwNDg7XG5cbiAgICAgIHNjZW5lLmFkZChnbG9iYWxMaWdodCk7XG4gICAgICBzY2VuZS5hZGQoc2hhZG93TGlnaHQpO1xuICAgICAgc2NlbmUuYWRkKGJhY2tMaWdodCk7XG4gICAgICBzY2VuZS5hZGQobmV3IFRIUkVFLkFtYmllbnRMaWdodCgweGVhZGVhZCwgMC4xKSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnYmxpbmtMb29wJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gYmxpbmtMb29wKCkge1xuICAgICAgaXNCbGlua2luZyA9IGZhbHNlO1xuXG4gICAgICBpZiAoIWlzQmxpbmtpbmcgJiYgTWF0aC5yYW5kb20oKSA+IDAuOTkpIHtcbiAgICAgICAgaXNCbGlua2luZyA9IHRydWU7XG4gICAgICAgIHRoaXMuYmxpbmsoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdibGluaycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGJsaW5rKCkge1xuICAgICAgaGVhZC5leWVzLnNjYWxlLnkgPSAxO1xuICAgICAgVHdlZW5NYXgudG8oaGVhZC5leWVzLnNjYWxlLCAuMDcsIHtcbiAgICAgICAgeTogMCxcbiAgICAgICAgeW95bzogdHJ1ZSxcbiAgICAgICAgcmVwZWF0OiAxLFxuICAgICAgICBvbkNvbXBsZXRlOiBmdW5jdGlvbiBvbkNvbXBsZXRlKCkge1xuICAgICAgICAgIGlzQmxpbmtpbmcgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gcmVyZW5kZXIgaGVhZFxuXG4gIH0sIHtcbiAgICBrZXk6ICdjcmVhdGVIZWFkJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlSGVhZCgpIHtcbiAgICAgIHNjZW5lLnJlbW92ZShoZWFkLm1lc2gpO1xuICAgICAgaGVhZC5uYW1lID0gXCJIZWFkXCI7XG4gICAgICBoZWFkID0gbmV3IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fSGVhZF9fW1wiZGVmYXVsdFwiXSgpO1xuICAgICAgc2NlbmUuYWRkKGhlYWQubWVzaCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnbG9vcCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGxvb3AoKSB7XG4gICAgICB2YXIgeFRhcmdldCA9IG1vdXNlUG9zLnggLSB3aW5kb3dIYWxmWDtcbiAgICAgIHZhciB5VGFyZ2V0ID0gbW91c2VQb3MueSAtIHdpbmRvd0hhbGZZO1xuXG4gICAgICB0aGlzLmJsaW5rTG9vcCgpO1xuICAgICAgLy9oZWFkLmRpenp5KCk7XG5cbiAgICAgIGhlYWQuaWRsZSh4VGFyZ2V0LCB5VGFyZ2V0KTtcblxuICAgICAgcmVuZGVyZXIucmVuZGVyKHNjZW5lLCBjYW1lcmEpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBTYW50YVNjZW5lO1xufSgpO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gKFNhbnRhU2NlbmUpO1xuXG4vKioqLyB9KSxcbi8qIDI2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fb2JqZWN0c19jb2xvcnNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19TdGFyX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI3KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX0hlYXJ0X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI4KTtcbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cblxuXG5cbnZhciBncm91cCA9IHZvaWQgMDtcbnZhciBzdGFyQXJyYXkgPSBbXTtcblxudmFyIEhlYXJ0c0dyb3VwID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBIZWFydHNHcm91cCh0eXBlKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEhlYXJ0c0dyb3VwKTtcblxuICAgIHRoaXMubWVzaCA9IG5ldyBUSFJFRS5PYmplY3QzRCgpO1xuICAgIHRoaXMublN0YXJzID0gMTU7XG5cbiAgICB2YXIgc3RlcEFuZ2xlID0gTWF0aC5QSSAqIDIgLyB0aGlzLm5TdGFycztcblxuICAgIC8vIENyZWF0ZSB0aGUgU3RhcnNcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMublN0YXJzOyBpKyspIHtcblxuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgJ3N0YXJzJzpcbiAgICAgICAgICB0aGlzLnMgPSBuZXcgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19TdGFyX19bXCJhXCIgLyogZGVmYXVsdCAqL10oKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnaGVhcnRzJzpcbiAgICAgICAgICB0aGlzLnMgPSBuZXcgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19IZWFydF9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIHZhciBhID0gc3RlcEFuZ2xlICogaTtcbiAgICAgIHZhciByID0gMTU7XG5cbiAgICAgIHRoaXMucy5tZXNoLnBvc2l0aW9uLnkgPSBNYXRoLnNpbihhKSAqIHI7XG4gICAgICB0aGlzLnMubWVzaC5wb3NpdGlvbi54ID0gTWF0aC5jb3MoYSkgKiByO1xuXG4gICAgICB0aGlzLnMubWVzaC5yb3RhdGlvbi56ID0gYSArIE1hdGguUEkgLyAyO1xuICAgICAgdGhpcy5zLm1lc2gucG9zaXRpb24ueiA9IDAgLSBNYXRoLnJhbmRvbSgpICogMztcblxuICAgICAgLy8gcmFuZG9tIHNjYWxlIGZvciBlYWNoIGNsb3VkXG4gICAgICB2YXIgc2MgPSAwLjUgKyBNYXRoLnJhbmRvbSgpICogLjY7XG4gICAgICB0aGlzLnMubWVzaC5zY2FsZS5zZXQoc2MsIHNjLCBzYyk7XG5cbiAgICAgIHRoaXMubWVzaC5hZGQodGhpcy5zLm1lc2gpO1xuICAgICAgc3RhckFycmF5LnB1c2godGhpcy5zKTtcbiAgICB9XG5cbiAgICB0aGlzLm1lc2gucm90YXRpb24ueCA9IE1hdGguUEkgLyAyO1xuICAgIHRoaXMubWVzaC5wb3NpdGlvbi54ID0gLTE3O1xuICAgIHRoaXMubWVzaC5wb3NpdGlvbi55ID0gODtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhIZWFydHNHcm91cCwgW3tcbiAgICBrZXk6ICdzcGluU2NhbGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzcGluU2NhbGUoKSB7XG4gICAgICB0aGlzLm1lc2gucm90YXRpb24ueiArPSAwLjAyO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGFyQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgLy8gc3RhckFycmF5W2ldLm1lc2gucm90YXRpb24ueCA9IE1hdGguc2luKERhdGUubm93KCkgKiAwLjAxKSAqIE1hdGguUEkgKiAwLjEgO1xuICAgICAgICBzdGFyQXJyYXlbaV0ubWVzaC5yb3RhdGlvbi56ICs9IDAgLSBNYXRoLnJhbmRvbSgpICogMC4xNTtcbiAgICAgICAgc3RhckFycmF5W2ldLm1lc2gucm90YXRpb24ueCArPSAwIC0gTWF0aC5yYW5kb20oKSAqIDAuMDU7XG4gICAgICB9XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEhlYXJ0c0dyb3VwO1xufSgpO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gKEhlYXJ0c0dyb3VwKTtcblxuLyoqKi8gfSksXG4vKiAyNyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX29iamVjdHNfY29sb3JzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuXG5cbnZhciBTdGFyID0gZnVuY3Rpb24gU3RhcigpIHtcbiAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFN0YXIpO1xuXG4gIC8vIFNUQVJcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICB0aGlzLm1lc2ggPSBuZXcgVEhSRUUuT2JqZWN0M0QoKTtcblxuICB2YXIgcHRzID0gW10sXG4gICAgICBudW1QdHMgPSA1O1xuICBmb3IgKHZhciBpID0gMDsgaSA8IG51bVB0cyAqIDI7IGkrKykge1xuICAgIHZhciBsID0gaSAlIDIgPT0gMSA/IDEgOiAyO1xuICAgIHZhciBhID0gaSAvIG51bVB0cyAqIE1hdGguUEk7XG4gICAgcHRzLnB1c2gobmV3IFRIUkVFLlZlY3RvcjIoTWF0aC5jb3MoYSkgKiBsLCBNYXRoLnNpbihhKSAqIGwpKTtcbiAgfVxuICB2YXIgc3RhclNoYXBlID0gbmV3IFRIUkVFLlNoYXBlKHB0cyk7XG5cbiAgdmFyIGV4dHJ1ZGVTZXR0aW5ncyA9IHtcbiAgICBhbW91bnQ6IDAuNSxcbiAgICBzdGVwczogMSxcbiAgICBiZXZlbEVuYWJsZWQ6IGZhbHNlXG4gIH07XG4gIHZhciBzdGFyR2VvbSA9IG5ldyBUSFJFRS5FeHRydWRlR2VvbWV0cnkoc3RhclNoYXBlLCBleHRydWRlU2V0dGluZ3MpO1xuICB2YXIgbWF0ID0gbmV3IFRIUkVFLk1lc2hMYW1iZXJ0TWF0ZXJpYWwoeyBjb2xvcjogX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19vYmplY3RzX2NvbG9yc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLmJsYWNrLCBmbGF0U2hhZGluZzogdHJ1ZSB9KTtcbiAgdmFyIHN0YXIgPSBuZXcgVEhSRUUuTWVzaChzdGFyR2VvbSwgbWF0KTtcbiAgc3Rhci5yb3RhdGlvbi54ID0gTWF0aC5QSSAvIDI7XG4gIHRoaXMubWVzaC5hZGQoc3Rhcik7XG59O1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gKFN0YXIpO1xuXG4vKioqLyB9KSxcbi8qIDI4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIEhlYXJ0ID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBIZWFydCgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSGVhcnQpO1xuXG4gICAgdGhpcy5tZXNoID0gbmV3IFRIUkVFLk9iamVjdDNEKCk7XG5cbiAgICB2YXIgeCA9IDAsXG4gICAgICAgIHkgPSAwO1xuICAgIHZhciBoZWFydFNoYXBlID0gbmV3IFRIUkVFLlNoYXBlKCk7XG5cbiAgICBoZWFydFNoYXBlLm1vdmVUbyh4ICsgMjUsIHkgKyAyNSk7XG4gICAgaGVhcnRTaGFwZS5iZXppZXJDdXJ2ZVRvKHggKyAyNSwgeSArIDI1LCB4ICsgMjAsIHksIHgsIHkpO1xuICAgIGhlYXJ0U2hhcGUuYmV6aWVyQ3VydmVUbyh4IC0gMzAsIHksIHggLSAzMCwgeSArIDM1LCB4IC0gMzAsIHkgKyAzNSk7XG4gICAgaGVhcnRTaGFwZS5iZXppZXJDdXJ2ZVRvKHggLSAzMCwgeSArIDU1LCB4IC0gMTAsIHkgKyA3NywgeCArIDI1LCB5ICsgOTUpO1xuICAgIGhlYXJ0U2hhcGUuYmV6aWVyQ3VydmVUbyh4ICsgNjAsIHkgKyA3NywgeCArIDgwLCB5ICsgNTUsIHggKyA4MCwgeSArIDM1KTtcbiAgICBoZWFydFNoYXBlLmJlemllckN1cnZlVG8oeCArIDgwLCB5ICsgMzUsIHggKyA4MCwgeSwgeCArIDUwLCB5KTtcbiAgICBoZWFydFNoYXBlLmJlemllckN1cnZlVG8oeCArIDM1LCB5LCB4ICsgMjUsIHkgKyAyNSwgeCArIDI1LCB5ICsgMjUpO1xuXG4gICAgdmFyIGV4dHJ1ZGVTZXR0aW5ncyA9IHtcbiAgICAgIGFtb3VudDogMjAsXG4gICAgICBiZXZlbEVuYWJsZWQ6IHRydWUsXG4gICAgICBiZXZlbFNlZ21lbnRzOiAyLFxuICAgICAgc3RlcHM6IDIsXG4gICAgICBiZXZlbFNpemU6IDEsXG4gICAgICBiZXZlbFRoaWNrbmVzczogMVxuICAgIH07XG5cbiAgICB0aGlzLmFkZFNoYXBlKGhlYXJ0U2hhcGUsIGV4dHJ1ZGVTZXR0aW5ncywgMHhmOWM0MjEsIDAsIDAsIDAsIDAsIDEsIE1hdGguUEksIDAuMDMpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEhlYXJ0LCBbe1xuICAgIGtleTogXCJhZGRTaGFwZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRTaGFwZShzaGFwZSwgZXh0cnVkZVNldHRpbmdzLCBjb2xvciwgeCwgeSwgeiwgcngsIHJ5LCByeiwgcykge1xuICAgICAgLy8gZXh0cnVkZWQgc2hhcGVcblxuICAgICAgdmFyIGdlb21ldHJ5ID0gbmV3IFRIUkVFLkV4dHJ1ZGVHZW9tZXRyeShzaGFwZSwgZXh0cnVkZVNldHRpbmdzKTtcblxuICAgICAgdmFyIG1lc2ggPSBuZXcgVEhSRUUuTWVzaChnZW9tZXRyeSwgbmV3IFRIUkVFLk1lc2hQaG9uZ01hdGVyaWFsKHsgY29sb3I6IGNvbG9yIH0pKTtcbiAgICAgIG1lc2gucG9zaXRpb24uc2V0KHgsIHksIHopO1xuICAgICAgbWVzaC5yb3RhdGlvbi5zZXQocngsIHJ5LCByeik7XG4gICAgICBtZXNoLnNjYWxlLnNldChzLCBzLCBzKTtcbiAgICAgIHRoaXMubWVzaC5hZGQobWVzaCk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEhlYXJ0O1xufSgpO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gKEhlYXJ0KTtcblxuLyoqKi8gfSlcbi8qKioqKiovIF0pO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBqcy9zYW50YS5qcyIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4gXHRcdFx0XHRnZXQ6IGdldHRlclxuIFx0XHRcdH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDE5KTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrL2Jvb3RzdHJhcCA1ZmMwMGQ0OWE2Mzk3OTkxYzE2MyIsImNvbnN0IENvbG9ycyA9IHtcbiAgc2tpbjogMHhmZmUwYmQsXG4gIGZyZWNrbGVzOiAweGNmYmE5NixcbiAgd2hpdGU6IDB4ZTllYmVlLFxuICBnbGFzc2VzOiAweGY5YzQyMSxcbiAgdGVldGg6IDB4ZmZmZmZmLFxuICBibGFjazogMHgyZTJlMmUsXG4gIGV5ZTogMHg2Mjk1YTgsXG4gIGhhdDogMHg3MjAzMTRcbn07XG5leHBvcnQgZGVmYXVsdCBDb2xvcnM7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvanMvb2JqZWN0cy9jb2xvcnMuanMiLCIvLyB0aGUgd2hhdHdnLWZldGNoIHBvbHlmaWxsIGluc3RhbGxzIHRoZSBmZXRjaCgpIGZ1bmN0aW9uXG4vLyBvbiB0aGUgZ2xvYmFsIG9iamVjdCAod2luZG93IG9yIHNlbGYpXG4vL1xuLy8gUmV0dXJuIHRoYXQgYXMgdGhlIGV4cG9ydCBmb3IgdXNlIGluIFdlYnBhY2ssIEJyb3dzZXJpZnkgZXRjLlxucmVxdWlyZSgnd2hhdHdnLWZldGNoJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHNlbGYuZmV0Y2guYmluZChzZWxmKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2lzb21vcnBoaWMtZmV0Y2gvZmV0Y2gtbnBtLWJyb3dzZXJpZnkuanNcbi8vIG1vZHVsZSBpZCA9IDJcbi8vIG1vZHVsZSBjaHVua3MgPSAxIiwiKGZ1bmN0aW9uKHNlbGYpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGlmIChzZWxmLmZldGNoKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICB2YXIgc3VwcG9ydCA9IHtcbiAgICBzZWFyY2hQYXJhbXM6ICdVUkxTZWFyY2hQYXJhbXMnIGluIHNlbGYsXG4gICAgaXRlcmFibGU6ICdTeW1ib2wnIGluIHNlbGYgJiYgJ2l0ZXJhdG9yJyBpbiBTeW1ib2wsXG4gICAgYmxvYjogJ0ZpbGVSZWFkZXInIGluIHNlbGYgJiYgJ0Jsb2InIGluIHNlbGYgJiYgKGZ1bmN0aW9uKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgbmV3IEJsb2IoKVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgIH0pKCksXG4gICAgZm9ybURhdGE6ICdGb3JtRGF0YScgaW4gc2VsZixcbiAgICBhcnJheUJ1ZmZlcjogJ0FycmF5QnVmZmVyJyBpbiBzZWxmXG4gIH1cblxuICBpZiAoc3VwcG9ydC5hcnJheUJ1ZmZlcikge1xuICAgIHZhciB2aWV3Q2xhc3NlcyA9IFtcbiAgICAgICdbb2JqZWN0IEludDhBcnJheV0nLFxuICAgICAgJ1tvYmplY3QgVWludDhBcnJheV0nLFxuICAgICAgJ1tvYmplY3QgVWludDhDbGFtcGVkQXJyYXldJyxcbiAgICAgICdbb2JqZWN0IEludDE2QXJyYXldJyxcbiAgICAgICdbb2JqZWN0IFVpbnQxNkFycmF5XScsXG4gICAgICAnW29iamVjdCBJbnQzMkFycmF5XScsXG4gICAgICAnW29iamVjdCBVaW50MzJBcnJheV0nLFxuICAgICAgJ1tvYmplY3QgRmxvYXQzMkFycmF5XScsXG4gICAgICAnW29iamVjdCBGbG9hdDY0QXJyYXldJ1xuICAgIF1cblxuICAgIHZhciBpc0RhdGFWaWV3ID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICByZXR1cm4gb2JqICYmIERhdGFWaWV3LnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKG9iailcbiAgICB9XG5cbiAgICB2YXIgaXNBcnJheUJ1ZmZlclZpZXcgPSBBcnJheUJ1ZmZlci5pc1ZpZXcgfHwgZnVuY3Rpb24ob2JqKSB7XG4gICAgICByZXR1cm4gb2JqICYmIHZpZXdDbGFzc2VzLmluZGV4T2YoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikpID4gLTFcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBub3JtYWxpemVOYW1lKG5hbWUpIHtcbiAgICBpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICBuYW1lID0gU3RyaW5nKG5hbWUpXG4gICAgfVxuICAgIGlmICgvW15hLXowLTlcXC0jJCUmJyorLlxcXl9gfH5dL2kudGVzdChuYW1lKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBjaGFyYWN0ZXIgaW4gaGVhZGVyIGZpZWxkIG5hbWUnKVxuICAgIH1cbiAgICByZXR1cm4gbmFtZS50b0xvd2VyQ2FzZSgpXG4gIH1cblxuICBmdW5jdGlvbiBub3JtYWxpemVWYWx1ZSh2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICB2YWx1ZSA9IFN0cmluZyh2YWx1ZSlcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlXG4gIH1cblxuICAvLyBCdWlsZCBhIGRlc3RydWN0aXZlIGl0ZXJhdG9yIGZvciB0aGUgdmFsdWUgbGlzdFxuICBmdW5jdGlvbiBpdGVyYXRvckZvcihpdGVtcykge1xuICAgIHZhciBpdGVyYXRvciA9IHtcbiAgICAgIG5leHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBpdGVtcy5zaGlmdCgpXG4gICAgICAgIHJldHVybiB7ZG9uZTogdmFsdWUgPT09IHVuZGVmaW5lZCwgdmFsdWU6IHZhbHVlfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzdXBwb3J0Lml0ZXJhYmxlKSB7XG4gICAgICBpdGVyYXRvcltTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBpdGVyYXRvclxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBpdGVyYXRvclxuICB9XG5cbiAgZnVuY3Rpb24gSGVhZGVycyhoZWFkZXJzKSB7XG4gICAgdGhpcy5tYXAgPSB7fVxuXG4gICAgaWYgKGhlYWRlcnMgaW5zdGFuY2VvZiBIZWFkZXJzKSB7XG4gICAgICBoZWFkZXJzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIG5hbWUpIHtcbiAgICAgICAgdGhpcy5hcHBlbmQobmFtZSwgdmFsdWUpXG4gICAgICB9LCB0aGlzKVxuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShoZWFkZXJzKSkge1xuICAgICAgaGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uKGhlYWRlcikge1xuICAgICAgICB0aGlzLmFwcGVuZChoZWFkZXJbMF0sIGhlYWRlclsxXSlcbiAgICAgIH0sIHRoaXMpXG4gICAgfSBlbHNlIGlmIChoZWFkZXJzKSB7XG4gICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhoZWFkZXJzKS5mb3JFYWNoKGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgdGhpcy5hcHBlbmQobmFtZSwgaGVhZGVyc1tuYW1lXSlcbiAgICAgIH0sIHRoaXMpXG4gICAgfVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuYXBwZW5kID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgICBuYW1lID0gbm9ybWFsaXplTmFtZShuYW1lKVxuICAgIHZhbHVlID0gbm9ybWFsaXplVmFsdWUodmFsdWUpXG4gICAgdmFyIG9sZFZhbHVlID0gdGhpcy5tYXBbbmFtZV1cbiAgICB0aGlzLm1hcFtuYW1lXSA9IG9sZFZhbHVlID8gb2xkVmFsdWUrJywnK3ZhbHVlIDogdmFsdWVcbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlWydkZWxldGUnXSA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICBkZWxldGUgdGhpcy5tYXBbbm9ybWFsaXplTmFtZShuYW1lKV1cbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICBuYW1lID0gbm9ybWFsaXplTmFtZShuYW1lKVxuICAgIHJldHVybiB0aGlzLmhhcyhuYW1lKSA/IHRoaXMubWFwW25hbWVdIDogbnVsbFxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24obmFtZSkge1xuICAgIHJldHVybiB0aGlzLm1hcC5oYXNPd25Qcm9wZXJ0eShub3JtYWxpemVOYW1lKG5hbWUpKVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgICB0aGlzLm1hcFtub3JtYWxpemVOYW1lKG5hbWUpXSA9IG5vcm1hbGl6ZVZhbHVlKHZhbHVlKVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uKGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgZm9yICh2YXIgbmFtZSBpbiB0aGlzLm1hcCkge1xuICAgICAgaWYgKHRoaXMubWFwLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgIGNhbGxiYWNrLmNhbGwodGhpc0FyZywgdGhpcy5tYXBbbmFtZV0sIG5hbWUsIHRoaXMpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUua2V5cyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpdGVtcyA9IFtdXG4gICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7IGl0ZW1zLnB1c2gobmFtZSkgfSlcbiAgICByZXR1cm4gaXRlcmF0b3JGb3IoaXRlbXMpXG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS52YWx1ZXMgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaXRlbXMgPSBbXVxuICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSkgeyBpdGVtcy5wdXNoKHZhbHVlKSB9KVxuICAgIHJldHVybiBpdGVyYXRvckZvcihpdGVtcylcbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLmVudHJpZXMgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaXRlbXMgPSBbXVxuICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwgbmFtZSkgeyBpdGVtcy5wdXNoKFtuYW1lLCB2YWx1ZV0pIH0pXG4gICAgcmV0dXJuIGl0ZXJhdG9yRm9yKGl0ZW1zKVxuICB9XG5cbiAgaWYgKHN1cHBvcnQuaXRlcmFibGUpIHtcbiAgICBIZWFkZXJzLnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdID0gSGVhZGVycy5wcm90b3R5cGUuZW50cmllc1xuICB9XG5cbiAgZnVuY3Rpb24gY29uc3VtZWQoYm9keSkge1xuICAgIGlmIChib2R5LmJvZHlVc2VkKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IFR5cGVFcnJvcignQWxyZWFkeSByZWFkJykpXG4gICAgfVxuICAgIGJvZHkuYm9keVVzZWQgPSB0cnVlXG4gIH1cblxuICBmdW5jdGlvbiBmaWxlUmVhZGVyUmVhZHkocmVhZGVyKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXNvbHZlKHJlYWRlci5yZXN1bHQpXG4gICAgICB9XG4gICAgICByZWFkZXIub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZWplY3QocmVhZGVyLmVycm9yKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBmdW5jdGlvbiByZWFkQmxvYkFzQXJyYXlCdWZmZXIoYmxvYikge1xuICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpXG4gICAgdmFyIHByb21pc2UgPSBmaWxlUmVhZGVyUmVhZHkocmVhZGVyKVxuICAgIHJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcihibG9iKVxuICAgIHJldHVybiBwcm9taXNlXG4gIH1cblxuICBmdW5jdGlvbiByZWFkQmxvYkFzVGV4dChibG9iKSB7XG4gICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKClcbiAgICB2YXIgcHJvbWlzZSA9IGZpbGVSZWFkZXJSZWFkeShyZWFkZXIpXG4gICAgcmVhZGVyLnJlYWRBc1RleHQoYmxvYilcbiAgICByZXR1cm4gcHJvbWlzZVxuICB9XG5cbiAgZnVuY3Rpb24gcmVhZEFycmF5QnVmZmVyQXNUZXh0KGJ1Zikge1xuICAgIHZhciB2aWV3ID0gbmV3IFVpbnQ4QXJyYXkoYnVmKVxuICAgIHZhciBjaGFycyA9IG5ldyBBcnJheSh2aWV3Lmxlbmd0aClcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmlldy5sZW5ndGg7IGkrKykge1xuICAgICAgY2hhcnNbaV0gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHZpZXdbaV0pXG4gICAgfVxuICAgIHJldHVybiBjaGFycy5qb2luKCcnKVxuICB9XG5cbiAgZnVuY3Rpb24gYnVmZmVyQ2xvbmUoYnVmKSB7XG4gICAgaWYgKGJ1Zi5zbGljZSkge1xuICAgICAgcmV0dXJuIGJ1Zi5zbGljZSgwKVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgdmlldyA9IG5ldyBVaW50OEFycmF5KGJ1Zi5ieXRlTGVuZ3RoKVxuICAgICAgdmlldy5zZXQobmV3IFVpbnQ4QXJyYXkoYnVmKSlcbiAgICAgIHJldHVybiB2aWV3LmJ1ZmZlclxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIEJvZHkoKSB7XG4gICAgdGhpcy5ib2R5VXNlZCA9IGZhbHNlXG5cbiAgICB0aGlzLl9pbml0Qm9keSA9IGZ1bmN0aW9uKGJvZHkpIHtcbiAgICAgIHRoaXMuX2JvZHlJbml0ID0gYm9keVxuICAgICAgaWYgKCFib2R5KSB7XG4gICAgICAgIHRoaXMuX2JvZHlUZXh0ID0gJydcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGJvZHkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRoaXMuX2JvZHlUZXh0ID0gYm9keVxuICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LmJsb2IgJiYgQmxvYi5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuICAgICAgICB0aGlzLl9ib2R5QmxvYiA9IGJvZHlcbiAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5mb3JtRGF0YSAmJiBGb3JtRGF0YS5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuICAgICAgICB0aGlzLl9ib2R5Rm9ybURhdGEgPSBib2R5XG4gICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuc2VhcmNoUGFyYW1zICYmIFVSTFNlYXJjaFBhcmFtcy5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuICAgICAgICB0aGlzLl9ib2R5VGV4dCA9IGJvZHkudG9TdHJpbmcoKVxuICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LmFycmF5QnVmZmVyICYmIHN1cHBvcnQuYmxvYiAmJiBpc0RhdGFWaWV3KGJvZHkpKSB7XG4gICAgICAgIHRoaXMuX2JvZHlBcnJheUJ1ZmZlciA9IGJ1ZmZlckNsb25lKGJvZHkuYnVmZmVyKVxuICAgICAgICAvLyBJRSAxMC0xMSBjYW4ndCBoYW5kbGUgYSBEYXRhVmlldyBib2R5LlxuICAgICAgICB0aGlzLl9ib2R5SW5pdCA9IG5ldyBCbG9iKFt0aGlzLl9ib2R5QXJyYXlCdWZmZXJdKVxuICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LmFycmF5QnVmZmVyICYmIChBcnJheUJ1ZmZlci5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSB8fCBpc0FycmF5QnVmZmVyVmlldyhib2R5KSkpIHtcbiAgICAgICAgdGhpcy5fYm9keUFycmF5QnVmZmVyID0gYnVmZmVyQ2xvbmUoYm9keSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcigndW5zdXBwb3J0ZWQgQm9keUluaXQgdHlwZScpXG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5oZWFkZXJzLmdldCgnY29udGVudC10eXBlJykpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBib2R5ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIHRoaXMuaGVhZGVycy5zZXQoJ2NvbnRlbnQtdHlwZScsICd0ZXh0L3BsYWluO2NoYXJzZXQ9VVRGLTgnKVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlCbG9iICYmIHRoaXMuX2JvZHlCbG9iLnR5cGUpIHtcbiAgICAgICAgICB0aGlzLmhlYWRlcnMuc2V0KCdjb250ZW50LXR5cGUnLCB0aGlzLl9ib2R5QmxvYi50eXBlKVxuICAgICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuc2VhcmNoUGFyYW1zICYmIFVSTFNlYXJjaFBhcmFtcy5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuICAgICAgICAgIHRoaXMuaGVhZGVycy5zZXQoJ2NvbnRlbnQtdHlwZScsICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD1VVEYtOCcpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc3VwcG9ydC5ibG9iKSB7XG4gICAgICB0aGlzLmJsb2IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHJlamVjdGVkID0gY29uc3VtZWQodGhpcylcbiAgICAgICAgaWYgKHJlamVjdGVkKSB7XG4gICAgICAgICAgcmV0dXJuIHJlamVjdGVkXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fYm9keUJsb2IpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlCbG9iKVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobmV3IEJsb2IoW3RoaXMuX2JvZHlBcnJheUJ1ZmZlcl0pKVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlGb3JtRGF0YSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignY291bGQgbm90IHJlYWQgRm9ybURhdGEgYm9keSBhcyBibG9iJylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5ldyBCbG9iKFt0aGlzLl9ib2R5VGV4dF0pKVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuYXJyYXlCdWZmZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikge1xuICAgICAgICAgIHJldHVybiBjb25zdW1lZCh0aGlzKSB8fCBQcm9taXNlLnJlc29sdmUodGhpcy5fYm9keUFycmF5QnVmZmVyKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB0aGlzLmJsb2IoKS50aGVuKHJlYWRCbG9iQXNBcnJheUJ1ZmZlcilcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMudGV4dCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHJlamVjdGVkID0gY29uc3VtZWQodGhpcylcbiAgICAgIGlmIChyZWplY3RlZCkge1xuICAgICAgICByZXR1cm4gcmVqZWN0ZWRcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuX2JvZHlCbG9iKSB7XG4gICAgICAgIHJldHVybiByZWFkQmxvYkFzVGV4dCh0aGlzLl9ib2R5QmxvYilcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUFycmF5QnVmZmVyKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVhZEFycmF5QnVmZmVyQXNUZXh0KHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikpXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlGb3JtRGF0YSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvdWxkIG5vdCByZWFkIEZvcm1EYXRhIGJvZHkgYXMgdGV4dCcpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlUZXh0KVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzdXBwb3J0LmZvcm1EYXRhKSB7XG4gICAgICB0aGlzLmZvcm1EYXRhID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRleHQoKS50aGVuKGRlY29kZSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmpzb24gPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnRleHQoKS50aGVuKEpTT04ucGFyc2UpXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8vIEhUVFAgbWV0aG9kcyB3aG9zZSBjYXBpdGFsaXphdGlvbiBzaG91bGQgYmUgbm9ybWFsaXplZFxuICB2YXIgbWV0aG9kcyA9IFsnREVMRVRFJywgJ0dFVCcsICdIRUFEJywgJ09QVElPTlMnLCAnUE9TVCcsICdQVVQnXVxuXG4gIGZ1bmN0aW9uIG5vcm1hbGl6ZU1ldGhvZChtZXRob2QpIHtcbiAgICB2YXIgdXBjYXNlZCA9IG1ldGhvZC50b1VwcGVyQ2FzZSgpXG4gICAgcmV0dXJuIChtZXRob2RzLmluZGV4T2YodXBjYXNlZCkgPiAtMSkgPyB1cGNhc2VkIDogbWV0aG9kXG4gIH1cblxuICBmdW5jdGlvbiBSZXF1ZXN0KGlucHV0LCBvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge31cbiAgICB2YXIgYm9keSA9IG9wdGlvbnMuYm9keVxuXG4gICAgaWYgKGlucHV0IGluc3RhbmNlb2YgUmVxdWVzdCkge1xuICAgICAgaWYgKGlucHV0LmJvZHlVc2VkKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FscmVhZHkgcmVhZCcpXG4gICAgICB9XG4gICAgICB0aGlzLnVybCA9IGlucHV0LnVybFxuICAgICAgdGhpcy5jcmVkZW50aWFscyA9IGlucHV0LmNyZWRlbnRpYWxzXG4gICAgICBpZiAoIW9wdGlvbnMuaGVhZGVycykge1xuICAgICAgICB0aGlzLmhlYWRlcnMgPSBuZXcgSGVhZGVycyhpbnB1dC5oZWFkZXJzKVxuICAgICAgfVxuICAgICAgdGhpcy5tZXRob2QgPSBpbnB1dC5tZXRob2RcbiAgICAgIHRoaXMubW9kZSA9IGlucHV0Lm1vZGVcbiAgICAgIGlmICghYm9keSAmJiBpbnB1dC5fYm9keUluaXQgIT0gbnVsbCkge1xuICAgICAgICBib2R5ID0gaW5wdXQuX2JvZHlJbml0XG4gICAgICAgIGlucHV0LmJvZHlVc2VkID0gdHJ1ZVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnVybCA9IFN0cmluZyhpbnB1dClcbiAgICB9XG5cbiAgICB0aGlzLmNyZWRlbnRpYWxzID0gb3B0aW9ucy5jcmVkZW50aWFscyB8fCB0aGlzLmNyZWRlbnRpYWxzIHx8ICdvbWl0J1xuICAgIGlmIChvcHRpb25zLmhlYWRlcnMgfHwgIXRoaXMuaGVhZGVycykge1xuICAgICAgdGhpcy5oZWFkZXJzID0gbmV3IEhlYWRlcnMob3B0aW9ucy5oZWFkZXJzKVxuICAgIH1cbiAgICB0aGlzLm1ldGhvZCA9IG5vcm1hbGl6ZU1ldGhvZChvcHRpb25zLm1ldGhvZCB8fCB0aGlzLm1ldGhvZCB8fCAnR0VUJylcbiAgICB0aGlzLm1vZGUgPSBvcHRpb25zLm1vZGUgfHwgdGhpcy5tb2RlIHx8IG51bGxcbiAgICB0aGlzLnJlZmVycmVyID0gbnVsbFxuXG4gICAgaWYgKCh0aGlzLm1ldGhvZCA9PT0gJ0dFVCcgfHwgdGhpcy5tZXRob2QgPT09ICdIRUFEJykgJiYgYm9keSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQm9keSBub3QgYWxsb3dlZCBmb3IgR0VUIG9yIEhFQUQgcmVxdWVzdHMnKVxuICAgIH1cbiAgICB0aGlzLl9pbml0Qm9keShib2R5KVxuICB9XG5cbiAgUmVxdWVzdC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gbmV3IFJlcXVlc3QodGhpcywgeyBib2R5OiB0aGlzLl9ib2R5SW5pdCB9KVxuICB9XG5cbiAgZnVuY3Rpb24gZGVjb2RlKGJvZHkpIHtcbiAgICB2YXIgZm9ybSA9IG5ldyBGb3JtRGF0YSgpXG4gICAgYm9keS50cmltKCkuc3BsaXQoJyYnKS5mb3JFYWNoKGZ1bmN0aW9uKGJ5dGVzKSB7XG4gICAgICBpZiAoYnl0ZXMpIHtcbiAgICAgICAgdmFyIHNwbGl0ID0gYnl0ZXMuc3BsaXQoJz0nKVxuICAgICAgICB2YXIgbmFtZSA9IHNwbGl0LnNoaWZ0KCkucmVwbGFjZSgvXFwrL2csICcgJylcbiAgICAgICAgdmFyIHZhbHVlID0gc3BsaXQuam9pbignPScpLnJlcGxhY2UoL1xcKy9nLCAnICcpXG4gICAgICAgIGZvcm0uYXBwZW5kKGRlY29kZVVSSUNvbXBvbmVudChuYW1lKSwgZGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlKSlcbiAgICAgIH1cbiAgICB9KVxuICAgIHJldHVybiBmb3JtXG4gIH1cblxuICBmdW5jdGlvbiBwYXJzZUhlYWRlcnMocmF3SGVhZGVycykge1xuICAgIHZhciBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKVxuICAgIHJhd0hlYWRlcnMuc3BsaXQoL1xccj9cXG4vKS5mb3JFYWNoKGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgIHZhciBwYXJ0cyA9IGxpbmUuc3BsaXQoJzonKVxuICAgICAgdmFyIGtleSA9IHBhcnRzLnNoaWZ0KCkudHJpbSgpXG4gICAgICBpZiAoa2V5KSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IHBhcnRzLmpvaW4oJzonKS50cmltKClcbiAgICAgICAgaGVhZGVycy5hcHBlbmQoa2V5LCB2YWx1ZSlcbiAgICAgIH1cbiAgICB9KVxuICAgIHJldHVybiBoZWFkZXJzXG4gIH1cblxuICBCb2R5LmNhbGwoUmVxdWVzdC5wcm90b3R5cGUpXG5cbiAgZnVuY3Rpb24gUmVzcG9uc2UoYm9keUluaXQsIG9wdGlvbnMpIHtcbiAgICBpZiAoIW9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgPSB7fVxuICAgIH1cblxuICAgIHRoaXMudHlwZSA9ICdkZWZhdWx0J1xuICAgIHRoaXMuc3RhdHVzID0gJ3N0YXR1cycgaW4gb3B0aW9ucyA/IG9wdGlvbnMuc3RhdHVzIDogMjAwXG4gICAgdGhpcy5vayA9IHRoaXMuc3RhdHVzID49IDIwMCAmJiB0aGlzLnN0YXR1cyA8IDMwMFxuICAgIHRoaXMuc3RhdHVzVGV4dCA9ICdzdGF0dXNUZXh0JyBpbiBvcHRpb25zID8gb3B0aW9ucy5zdGF0dXNUZXh0IDogJ09LJ1xuICAgIHRoaXMuaGVhZGVycyA9IG5ldyBIZWFkZXJzKG9wdGlvbnMuaGVhZGVycylcbiAgICB0aGlzLnVybCA9IG9wdGlvbnMudXJsIHx8ICcnXG4gICAgdGhpcy5faW5pdEJvZHkoYm9keUluaXQpXG4gIH1cblxuICBCb2R5LmNhbGwoUmVzcG9uc2UucHJvdG90eXBlKVxuXG4gIFJlc3BvbnNlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBuZXcgUmVzcG9uc2UodGhpcy5fYm9keUluaXQsIHtcbiAgICAgIHN0YXR1czogdGhpcy5zdGF0dXMsXG4gICAgICBzdGF0dXNUZXh0OiB0aGlzLnN0YXR1c1RleHQsXG4gICAgICBoZWFkZXJzOiBuZXcgSGVhZGVycyh0aGlzLmhlYWRlcnMpLFxuICAgICAgdXJsOiB0aGlzLnVybFxuICAgIH0pXG4gIH1cblxuICBSZXNwb25zZS5lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciByZXNwb25zZSA9IG5ldyBSZXNwb25zZShudWxsLCB7c3RhdHVzOiAwLCBzdGF0dXNUZXh0OiAnJ30pXG4gICAgcmVzcG9uc2UudHlwZSA9ICdlcnJvcidcbiAgICByZXR1cm4gcmVzcG9uc2VcbiAgfVxuXG4gIHZhciByZWRpcmVjdFN0YXR1c2VzID0gWzMwMSwgMzAyLCAzMDMsIDMwNywgMzA4XVxuXG4gIFJlc3BvbnNlLnJlZGlyZWN0ID0gZnVuY3Rpb24odXJsLCBzdGF0dXMpIHtcbiAgICBpZiAocmVkaXJlY3RTdGF0dXNlcy5pbmRleE9mKHN0YXR1cykgPT09IC0xKSB7XG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW52YWxpZCBzdGF0dXMgY29kZScpXG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZShudWxsLCB7c3RhdHVzOiBzdGF0dXMsIGhlYWRlcnM6IHtsb2NhdGlvbjogdXJsfX0pXG4gIH1cblxuICBzZWxmLkhlYWRlcnMgPSBIZWFkZXJzXG4gIHNlbGYuUmVxdWVzdCA9IFJlcXVlc3RcbiAgc2VsZi5SZXNwb25zZSA9IFJlc3BvbnNlXG5cbiAgc2VsZi5mZXRjaCA9IGZ1bmN0aW9uKGlucHV0LCBpbml0KSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdmFyIHJlcXVlc3QgPSBuZXcgUmVxdWVzdChpbnB1dCwgaW5pdClcbiAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKVxuXG4gICAgICB4aHIub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICAgIHN0YXR1czogeGhyLnN0YXR1cyxcbiAgICAgICAgICBzdGF0dXNUZXh0OiB4aHIuc3RhdHVzVGV4dCxcbiAgICAgICAgICBoZWFkZXJzOiBwYXJzZUhlYWRlcnMoeGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpIHx8ICcnKVxuICAgICAgICB9XG4gICAgICAgIG9wdGlvbnMudXJsID0gJ3Jlc3BvbnNlVVJMJyBpbiB4aHIgPyB4aHIucmVzcG9uc2VVUkwgOiBvcHRpb25zLmhlYWRlcnMuZ2V0KCdYLVJlcXVlc3QtVVJMJylcbiAgICAgICAgdmFyIGJvZHkgPSAncmVzcG9uc2UnIGluIHhociA/IHhoci5yZXNwb25zZSA6IHhoci5yZXNwb25zZVRleHRcbiAgICAgICAgcmVzb2x2ZShuZXcgUmVzcG9uc2UoYm9keSwgb3B0aW9ucykpXG4gICAgICB9XG5cbiAgICAgIHhoci5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJlamVjdChuZXcgVHlwZUVycm9yKCdOZXR3b3JrIHJlcXVlc3QgZmFpbGVkJykpXG4gICAgICB9XG5cbiAgICAgIHhoci5vbnRpbWVvdXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmVqZWN0KG5ldyBUeXBlRXJyb3IoJ05ldHdvcmsgcmVxdWVzdCBmYWlsZWQnKSlcbiAgICAgIH1cblxuICAgICAgeGhyLm9wZW4ocmVxdWVzdC5tZXRob2QsIHJlcXVlc3QudXJsLCB0cnVlKVxuXG4gICAgICBpZiAocmVxdWVzdC5jcmVkZW50aWFscyA9PT0gJ2luY2x1ZGUnKSB7XG4gICAgICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSB0cnVlXG4gICAgICB9XG5cbiAgICAgIGlmICgncmVzcG9uc2VUeXBlJyBpbiB4aHIgJiYgc3VwcG9ydC5ibG9iKSB7XG4gICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSAnYmxvYidcbiAgICAgIH1cblxuICAgICAgcmVxdWVzdC5oZWFkZXJzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIG5hbWUpIHtcbiAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIobmFtZSwgdmFsdWUpXG4gICAgICB9KVxuXG4gICAgICB4aHIuc2VuZCh0eXBlb2YgcmVxdWVzdC5fYm9keUluaXQgPT09ICd1bmRlZmluZWQnID8gbnVsbCA6IHJlcXVlc3QuX2JvZHlJbml0KVxuICAgIH0pXG4gIH1cbiAgc2VsZi5mZXRjaC5wb2x5ZmlsbCA9IHRydWVcbn0pKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyA/IHNlbGYgOiB0aGlzKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3doYXR3Zy1mZXRjaC9mZXRjaC5qc1xuLy8gbW9kdWxlIGlkID0gNVxuLy8gbW9kdWxlIGNodW5rcyA9IDEiLCJpbXBvcnQgZmV0Y2ggZnJvbSAnaXNvbW9ycGhpYy1mZXRjaCc7XG5cbmNvbnN0IHVybCA9IGAvYXBpL2NhcmRzYDtcblxuZXhwb3J0IGRlZmF1bHQge1xuXG4gIGNyZWF0ZTogKHt0ZXh0LCBpZCwgZnJvbSwgYmxvYiwgdG8sIGF1ZGlvU2V0dGluZ3MsIGhlYWRDb2xvcnN9KSA9PiB7XG4gICAgY29uc3QgbWV0aG9kID0gYFBPU1RgO1xuICAgIC8vIGNvbnN0IG5ld0ZpbGVOYW1lID0gYCR7aWQuc3BsaXQoYCBgKS5qb2luKGBfYCl9YDtcbiAgICBjb25zdCBib2R5ID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgYm9keS5hcHBlbmQoYHRleHRgLCB0ZXh0KTtcbiAgICBib2R5LmFwcGVuZChgaWRgLCBpZCk7XG4gICAgYm9keS5hcHBlbmQoYGZyb21gLCBmcm9tKTtcbiAgICBib2R5LmFwcGVuZChgdG9gLCB0byk7XG4gICAgYm9keS5hcHBlbmQoYGF1ZGlvU2V0dGluZ3NgLCBhdWRpb1NldHRpbmdzKTtcbiAgICBib2R5LmFwcGVuZChgaGVhZENvbG9yc2AsIGhlYWRDb2xvcnMpO1xuXG4gICAgcmV0dXJuIGZldGNoKHVybCwge21ldGhvZCwgYm9keX0pXG4gICAgICAudGhlbihyID0+IHIuanNvbigpKTtcbiAgfSxcblxuICByZWFkOiAoKSA9PiB7XG4gICAgcmV0dXJuIGZldGNoKGAke3VybH0/aXNBY3RpdmU9dHJ1ZWApXG4gICAgICAudGhlbihyID0+IHIuanNvbigpKTtcbiAgfSxcblxuICByZWFkT25lOiBpZCA9PiB7XG4gICAgY29uc3QgbWV0aG9kID0gYEdFVGA7XG4gICAgcmV0dXJuIGZldGNoKGAke3VybH0vJHtpZH1gLCB7bWV0aG9kfSkudGhlbihyID0+IHIuanNvbigpKTtcbiAgfSxcblxuICB1cGRhdGU6ICh7dGV4dCwgaWQsIGZyb20sIHRvLCBhdWRpb1NldHRpbmdzLCBoZWFkQ29sb3JzfSkgPT7CoHtcbiAgICBjb25zdCBtZXRob2QgPSBgUFVUYDtcbiAgICBjb25zdCBib2R5ID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgYm9keS5hcHBlbmQoYHRleHRgLCB0ZXh0KTtcbiAgICBib2R5LmFwcGVuZChgaWRgLCBpZCk7XG4gICAgYm9keS5hcHBlbmQoYGZyb21gLCBmcm9tKTtcbiAgICBib2R5LmFwcGVuZChgdG9gLCB0byk7XG4gICAgYm9keS5hcHBlbmQoYGF1ZGlvU2V0dGluZ3NgLCBhdWRpb1NldHRpbmdzKTtcbiAgICBib2R5LmFwcGVuZChgaGVhZENvbG9yc2AsIGhlYWRDb2xvcnMpO1xuXG4gICAgcmV0dXJuIGZldGNoKGAke3VybH0vJHtpZH1gLCB7bWV0aG9kLCBib2R5fSkudGhlbihyID0+IHIuanNvbigpKTtcbiAgfVxufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9qcy9saWIvY2FyZEFQSS5qcyIsImNvbnN0IEF1ZGlvQ29udGV4dCA9IHdpbmRvdy5BdWRpb0NvbnRleHQgfHwgd2luZG93LndlYmtpdEF1ZGlvQ29udGV4dDtcbmltcG9ydCBoYW5kbGVTYW50YUF1ZGlvIGZyb20gJy4vb2JqZWN0cy9oYW5kbGVTYW50YUF1ZGlvJztcbmltcG9ydCBTYW50YVNjZW5lIGZyb20gJy4vY2xhc3Nlcy9TYW50YVNjZW5lJztcbmltcG9ydCBnZXRVcmxQYXJhbWV0ZXIgZnJvbSAnLi9vYmplY3RzL2dldFVybFBhcmFtZXRlcic7XG5pbXBvcnQgQ2FyZEFQSSBmcm9tICcuL2xpYi9jYXJkQVBJJztcblxubGV0IHRhcmdldElkLCBhdWRpb0N0eCwgc2FudGE7XG5cbmNvbnN0IGluaXQgPSAoKSA9PiB7XG5cbiAgcGFydGljbGVzSlMubG9hZCgncGFydGljbGVzLWpzJywgJy4uL2Fzc2V0cy9wYXJ0aWNsZXMuanNvbicpO1xuXG4gIHRhcmdldElkID0gZ2V0VXJsUGFyYW1ldGVyKFwiaWRcIik7XG4gIGlmICghdGFyZ2V0SWQpIHdpbmRvdy5sb2NhdGlvbiA9IFwiaHR0cHM6Ly9leHBlcmltZW50YWx3ZWIuaGVyb2t1YXBwLmNvbS9cIjtcblxuICBDYXJkQVBJLnJlYWRPbmUodGFyZ2V0SWQpLnRoZW4oZCA9PiB7XG4gICAgaWYgKGQuc3RhdHVzQ29kZSkgd2luZG93LmxvY2F0aW9uID0gXCJodHRwczovL2V4cGVyaW1lbnRhbHdlYi5oZXJva3VhcHAuY29tL1wiO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBmcm9tYCkuaW5uZXJIVE1MID0gYCR7ZC5mcm9tfWA7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHRvYCkuaW5uZXJIVE1MID0gYCR7ZC50b31gO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBtZXNzYWdlYCkuaW5uZXJIVE1MID0gYCR7ZC50ZXh0fWA7XG5cbiAgICBzYW50YSA9IG5ldyBTYW50YVNjZW5lKCk7XG4gICAgc2FudGEuc2V0Q29sb3JzKGQpO1xuICAgIGhhbmRsZVNhbnRhQXVkaW8oZCk7XG4gICAgbG9vcCgpO1xuICB9KTtcbn1cblxuY29uc3QgbG9vcCA9ICgpID0+IHtcbiAgc2FudGEubG9vcCgpO1xuICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUobG9vcCk7XG59XG5cbmluaXQoKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9qcy9zYW50YVNjcmlwdC5qcyIsImNvbnN0IEF1ZGlvQ29udGV4dCA9IHdpbmRvdy5BdWRpb0NvbnRleHQgfHwgd2luZG93LndlYmtpdEF1ZGlvQ29udGV4dDtcbmltcG9ydCBIZWFkIGZyb20gJy4uL2NsYXNzZXMvSGVhZCc7XG5cbmxldCB0YXJnZXRJZCwgYXVkaW9DdHg7XG5jb25zdCBwbGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHBsYXlfc2FudGFgKTtcbmNvbnN0ICRhdWRpbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBhdWRpb2ApO1xuXG5sZXQgcGl0Y2hTaGlmdGVyUHJvY2Vzc29yO1xubGV0IGlzUGxheWluZyA9IGZhbHNlO1xubGV0IGdyYWluU2l6ZSA9IDUxMixcbiAgICBwaXRjaFJhdGlvID0gMS4wLFxuICAgIG92ZXJsYXBSYXRpbyA9IDAuNTA7XG5cbmNvbnN0IGhhbmRsZVNhbnRhQXVkaW8gPSBjYXJ0ID0+IHtcbiAgYXVkaW9DdHggPSBuZXcgQXVkaW9Db250ZXh0KCk7XG4gIGNvbnN0IGF1ZGlvU2V0dGluZ3MgPSBKU09OLnBhcnNlKGNhcnQuYXVkaW9TZXR0aW5ncyk7XG5cbiAgc2V0VGltZW91dCgoKSA9PsKge1xuICAgIGNvbnN0IGJ1ZmZlckxvYWRlciA9IG5ldyBCdWZmZXJMb2FkZXIoXG4gICAgICBhdWRpb0N0eCwgW2AuL3VwbG9hZHMvJHtjYXJ0LmlkfS5vZ2dgXSwgYnVmZmVyTGlzdCA9PiB7XG5cbiAgICAgICAgbGV0IGxvb3AgPSBmYWxzZTtcbiAgICAgICAgbGV0IHNvdXJjZTtcblxuICAgICAgICBjb25zdCAkcmVwZWF0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHJlcGVhdGApO1xuICAgICAgICAkcmVwZWF0LmFkZEV2ZW50TGlzdGVuZXIoYGNsaWNrYCwgICgpID0+IHtcbiAgICAgICAgICBpZiAobG9vcCkge1xuICAgICAgICAgICAgJHJlcGVhdC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAncmdiYSgxMTMsIDAsIDI0LCAwLjQpJztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJHJlcGVhdC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAncmdiYSgxNTAsIDAsIDM5LCAxKSc7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbG9vcCA9ICFsb29wO1xuICAgICAgICAgIGlmIChpc1BsYXlpbmcpIHNvdXJjZS5zdG9wKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHBpdGNoUmF0aW8gPSBhdWRpb1NldHRpbmdzLnBpdGNoO1xuICAgICAgICBvdmVybGFwUmF0aW8gPSBhdWRpb1NldHRpbmdzLm92ZXJsYXA7XG5cbiAgICAgICAgJGF1ZGlvLmFkZEV2ZW50TGlzdGVuZXIoYGNsaWNrYCwgKCkgPT4ge1xuICAgICAgICAgIGlzUGxheWluZyA9IHRydWU7XG4gICAgICAgICAgc291cmNlID0gJyc7XG4gICAgICAgICAgc291cmNlID0gYXVkaW9DdHguY3JlYXRlQnVmZmVyU291cmNlKCk7XG4gICAgICAgICAgc291cmNlLmJ1ZmZlciA9IGJ1ZmZlckxpc3RbMF07XG4gICAgICAgICAgc291cmNlLmxvb3AgPSBsb29wO1xuICAgICAgICAgIHNvdXJjZS5jb25uZWN0KHBpdGNoU2hpZnRlclByb2Nlc3Nvcik7XG4gICAgICAgICAgc291cmNlLnN0YXJ0KCk7XG4gICAgICAgIH0pO1xuXG4gICAgICB9XG4gICAgKTtcblxuICAgIGJ1ZmZlckxvYWRlci5sb2FkKCk7XG4gICAgaW5pdFByb2Nlc3NvcigpO1xuXG4gIH0sIDEwMDApO1xufVxuXG5jb25zdCBsaW5lYXJJbnRlcnBvbGF0aW9uID0gKGEsIGIsIHQpID0+IHtcbiAgcmV0dXJuIGEgKyAoYiAtIGEpICogdDtcbn07XG5cbmNvbnN0IGluaXRQcm9jZXNzb3IgPSAoKSA9PiB7XG5cbiAgaWYgKHBpdGNoU2hpZnRlclByb2Nlc3Nvcikge1xuICAgIHBpdGNoU2hpZnRlclByb2Nlc3Nvci5kaXNjb25uZWN0KCk7XG4gIH1cblxuICBpZiAoYXVkaW9DdHguY3JlYXRlU2NyaXB0UHJvY2Vzc29yKSB7XG4gICAgcGl0Y2hTaGlmdGVyUHJvY2Vzc29yID0gYXVkaW9DdHguY3JlYXRlU2NyaXB0UHJvY2Vzc29yKGdyYWluU2l6ZSwgMSwgMSk7XG4gIH0gZWxzZSBpZiAoYXVkaW9DdHguY3JlYXRlSmF2YVNjcmlwdE5vZGUpIHtcbiAgICBwaXRjaFNoaWZ0ZXJQcm9jZXNzb3IgPSBhdWRpb0N0eC5jcmVhdGVKYXZhU2NyaXB0Tm9kZShncmFpblNpemUsIDEsIDEpO1xuICB9XG5cbiAgcGl0Y2hTaGlmdGVyUHJvY2Vzc29yLmJ1ZmZlciA9IG5ldyBGbG9hdDMyQXJyYXkoZ3JhaW5TaXplICogMik7XG4gIHBpdGNoU2hpZnRlclByb2Nlc3Nvci5ncmFpbldpbmRvdyA9IGhhbm5XaW5kb3coZ3JhaW5TaXplKTtcblxuICBwaXRjaFNoaWZ0ZXJQcm9jZXNzb3Iub25hdWRpb3Byb2Nlc3MgPSBmdW5jdGlvbihldmVudCkge1xuXG4gICAgdmFyIGlucHV0RGF0YSA9IGV2ZW50LmlucHV0QnVmZmVyLmdldENoYW5uZWxEYXRhKDApO1xuICAgIHZhciBvdXRwdXREYXRhID0gZXZlbnQub3V0cHV0QnVmZmVyLmdldENoYW5uZWxEYXRhKDApO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGlucHV0RGF0YS5sZW5ndGg7IGkrKykge1xuXG4gICAgICAvLyBBcHBseSB0aGUgd2luZG93IHRvIHRoZSBpbnB1dCBidWZmZXJcbiAgICAgIGlucHV0RGF0YVtpXSAqPSB0aGlzLmdyYWluV2luZG93W2ldO1xuXG4gICAgICAvLyBTaGlmdCBoYWxmIG9mIHRoZSBidWZmZXJcbiAgICAgIHRoaXMuYnVmZmVyW2ldID0gdGhpcy5idWZmZXJbaSArIGdyYWluU2l6ZV07XG5cbiAgICAgIC8vIEVtcHR5IHRoZSBidWZmZXIgdGFpbFxuICAgICAgdGhpcy5idWZmZXJbaSArIGdyYWluU2l6ZV0gPSAwLjA7XG4gICAgfVxuXG4gICAgLy8gQ2FsY3VsYXRlIHRoZSBwaXRjaCBzaGlmdGVkIGdyYWluIHJlLXNhbXBsaW5nIGFuZCBsb29waW5nIHRoZSBpbnB1dFxuICAgIHZhciBncmFpbkRhdGEgPSBuZXcgRmxvYXQzMkFycmF5KGdyYWluU2l6ZSAqIDIpO1xuICAgIGZvciAodmFyIGkgPSAwLCBqID0gMC4wOyBpIDwgZ3JhaW5TaXplOyBpKyssIGogKz0gcGl0Y2hSYXRpbykge1xuXG4gICAgICB2YXIgaW5kZXggPSBNYXRoLmZsb29yKGopICUgZ3JhaW5TaXplO1xuICAgICAgdmFyIGEgPSBpbnB1dERhdGFbaW5kZXhdO1xuICAgICAgdmFyIGIgPSBpbnB1dERhdGFbKGluZGV4ICsgMSkgJSBncmFpblNpemVdO1xuICAgICAgZ3JhaW5EYXRhW2ldICs9IGxpbmVhckludGVycG9sYXRpb24oYSwgYiwgaiAlIDEuMCkgKiB0aGlzLmdyYWluV2luZG93W2ldO1xuICAgIH1cblxuICAgIC8vIENvcHkgdGhlIGdyYWluIG11bHRpcGxlIHRpbWVzIG92ZXJsYXBwaW5nIGl0XG4gICAgZm9yIChpID0gMDsgaSA8IGdyYWluU2l6ZTsgaSArPSBNYXRoLnJvdW5kKGdyYWluU2l6ZSAqICgxIC0gb3ZlcmxhcFJhdGlvKSkpIHtcbiAgICAgIGZvciAoaiA9IDA7IGogPD0gZ3JhaW5TaXplOyBqKyspIHtcbiAgICAgICAgdGhpcy5idWZmZXJbaSArIGpdICs9IGdyYWluRGF0YVtqXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBPdXRwdXQgdGhlIGZpcnN0IGhhbGYgb2YgdGhlIGJ1ZmZlclxuICAgIGZvciAoaSA9IDA7IGkgPCBncmFpblNpemU7IGkrKykge1xuICAgICAgb3V0cHV0RGF0YVtpXSA9IHRoaXMuYnVmZmVyW2ldO1xuICAgIH1cbiAgfTtcblxuICBwaXRjaFNoaWZ0ZXJQcm9jZXNzb3IuY29ubmVjdChhdWRpb0N0eC5kZXN0aW5hdGlvbik7XG5cbn07XG5cbmNvbnN0IGhhbm5XaW5kb3cgPSBsZW5ndGggPT4ge1xuICBjb25zdCB3aW5kb3cgPSBuZXcgRmxvYXQzMkFycmF5KGxlbmd0aCk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIHdpbmRvd1tpXSA9IDAuNSAqICgxIC0gTWF0aC5jb3MoMiAqIE1hdGguUEkgKiBpIC8gKGxlbmd0aCAtIDEpKSk7XG4gIH1cbiAgcmV0dXJuIHdpbmRvdztcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGhhbmRsZVNhbnRhQXVkaW87XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvanMvb2JqZWN0cy9oYW5kbGVTYW50YUF1ZGlvLmpzIiwiY29uc3QgZ2V0VXJsUGFyYW1ldGVyID0gbmFtZSA9PiB7XG4gIG5hbWUgPSBuYW1lLnJlcGxhY2UoL1tcXFtdLywgJ1xcXFxbJykucmVwbGFjZSgvW1xcXV0vLCAnXFxcXF0nKTtcbiAgY29uc3QgcmVnZXggPSBuZXcgUmVnRXhwKCdbXFxcXD8mXScgKyBuYW1lICsgJz0oW14mI10qKScpO1xuICBjb25zdCByZXN1bHRzID0gcmVnZXguZXhlYyhsb2NhdGlvbi5zZWFyY2gpO1xuICByZXR1cm4gcmVzdWx0cyA9PT0gbnVsbCA/IGZhbHNlIDogZGVjb2RlVVJJQ29tcG9uZW50KHJlc3VsdHNbMV0ucmVwbGFjZSgvXFwrL2csICcgJykpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZ2V0VXJsUGFyYW1ldGVyO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2pzL29iamVjdHMvZ2V0VXJsUGFyYW1ldGVyLmpzIiwiaW1wb3J0IEhlYWQgZnJvbSAnLi9IZWFkJztcbmltcG9ydCBDb2xvcnMgZnJvbSAnLi4vb2JqZWN0cy9jb2xvcnMnO1xuaW1wb3J0IEhlYXJ0c0dyb3VwIGZyb20gJy4vSGVhcnRzR3JvdXAnO1xuXG5sZXQgc2NlbmUsIGNhbWVyYSwgZmllbGRPZlZpZXcsIGFzcGVjdFJhdGlvLCBuZWFyUGxhbmUsIGZhclBsYW5lLCBIRUlHSFQsIFdJRFRIO1xubGV0IGdsb2JhbExpZ2h0LCBzaGFkb3dMaWdodCwgYmFja0xpZ2h0LCBsaWdodCwgcmVuZGVyZXIsIGNvbnRhaW5lciwgbG9hZGVkO1xubGV0IGhlYWQsIHdpbmRvd0hhbGZYLCB3aW5kb3dIYWxmWTtcbmxldCBzcGlubmluZ1NoYXBlcztcblxubGV0IG1vdXNlUG9zID0geyB4OiAwLCB5OiAwfTtcbmxldCBvbkVycm9yUGFnZSA9IGZhbHNlO1xubGV0IG9uSG9tZSwgaXNCbGlua2luZyA9IGZhbHNlO1xuXG5sZXQgbG9hZGVyTWFuYWdlciA9IG5ldyBUSFJFRS5Mb2FkaW5nTWFuYWdlcigpO1xubGV0IGlzTW9iaWxlID0gL2lQaG9uZXxBbmRyb2lkL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcblxuY2xhc3MgU2FudGFTY2VuZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuY3JlYXRlU2NlbmUoKTtcbiAgICB0aGlzLmNyZWF0ZUxpZ2h0cygpO1xuXG4gICAgaGVhZCA9IG5ldyBIZWFkKCk7IC8vIHNob3cgYW5kIGhhbmRsZSBoZWFkXG4gICAgc2NlbmUuYWRkKGhlYWQubWVzaCk7XG5cbiAgICB3aW5kb3cuc2NlbmUgPSBzY2VuZTtcbiAgfVxuXG4gIGNyZWF0ZVNoYXBlcyh0eXBlID0gJ2hlYXJ0cycpIHtcbiAgICBzcGlubmluZ1NoYXBlcyA9IG5ldyBIZWFydHNHcm91cCh0eXBlKTtcbiAgICBzY2VuZS5hZGQoc3Bpbm5pbmdTaGFwZXMubWVzaCk7XG4gIH1cblxuICBzdGFydFNwaW5uaW5nKCkge1xuICAgIHNwaW5uaW5nU2hhcGVzLnNwaW5TY2FsZSgpXG4gIH07XG5cbiAgc2V0Q29sb3JzKGRhdGEpIHtcbiAgICBjb25zdCBoZWFkQ29sb3JzID0gSlNPTi5wYXJzZShkYXRhLmhlYWRDb2xvcnMpO1xuXG4gICAgQ29sb3JzLnNraW4gPSBoZWFkQ29sb3JzLnNraW47XG4gICAgQ29sb3JzLmZyZWNrbGVzID0gaGVhZENvbG9ycy5mcmVja2xlcztcbiAgICBDb2xvcnMuZXllID0gaGVhZENvbG9ycy5leWU7XG4gICAgQ29sb3JzLmdsYXNzZXMgPSBoZWFkQ29sb3JzLmdsYXNzZXM7XG4gICAgQ29sb3JzLmhhdCA9IGhlYWRDb2xvcnMuaGF0O1xuXG4gICAgdGhpcy5jcmVhdGVIZWFkKCk7XG4gIH1cblxuICBlcnJvclRleHQoKSB7XG4gICAgY29uc3QgbG9hZGVyID0gbmV3IFRIUkVFLkZvbnRMb2FkZXIoKTtcbiAgICBjb25zdCBtZXNoID0gbmV3IFRIUkVFLk9iamVjdDNEKCk7XG5cbiAgICBsb2FkZXIubG9hZCgnL2Fzc2V0cy9oZWx2ZXRpa2VyX2JvbGQudHlwZWZhY2UuanNvbicsIGZ1bmN0aW9uKGZvbnQpIHtcblxuICAgICAgY29uc3Qgc2tpbk1hdCA9IG5ldyBUSFJFRS5NZXNoTGFtYmVydE1hdGVyaWFsKHtjb2xvcjogMHhlOWViZWUsIGZsYXRTaGFkaW5nOiB0cnVlfSk7XG4gICAgICBjb25zdCBmb250U2V0dGluZ3MgPSB7XG4gICAgICAgIGZvbnQ6IGZvbnQsXG4gICAgICAgIHNpemU6IDQsXG4gICAgICAgIGhlaWdodDogMixcbiAgICAgICAgY3VydmVTZWdtZW50czogMTIsXG4gICAgICAgIGJldmVsRW5hYmxlZDogZmFsc2VcbiAgICAgIH1cblxuICAgICAgY29uc3QgZmlyc3RHZW9tID0gbmV3IFRIUkVFLlRleHRHZW9tZXRyeSgnNDA0IFNhbnRhJywgZm9udFNldHRpbmdzKTtcbiAgICAgIGNvbnN0IHNlY29uZEdlb20gPSBuZXcgVEhSRUUuVGV4dEdlb21ldHJ5KCd3ZW50IG1pc3NpbmcnLCBmb250U2V0dGluZ3MpO1xuXG4gICAgICBjb25zdCBmaXJzdCA9IG5ldyBUSFJFRS5NZXNoKGZpcnN0R2VvbSwgc2tpbk1hdCk7XG4gICAgICBjb25zdCBzZWNvbmQgPSBuZXcgVEhSRUUuTWVzaChzZWNvbmRHZW9tLCBza2luTWF0KTtcblxuICAgICAgbWVzaC5hZGQoZmlyc3QpO1xuICAgICAgbWVzaC5hZGQoc2Vjb25kKTtcblxuICAgICAgZmlyc3QucG9zaXRpb24ueSA9IDU7XG4gICAgICBmaXJzdC5wb3NpdGlvbi54ID0gNDtcbiAgICAgIG1lc2gucG9zaXRpb24ueSA9IC00O1xuICAgICAgbWVzaC5yb3RhdGlvbi55ID0gLTAuMztcbiAgICAgIHNjZW5lLmFkZChtZXNoKTtcbiAgICB9KTtcbiAgfVxuXG4gIGNyZWF0ZVNjZW5lKCl7O1xuICAgIEhFSUdIVCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICBXSURUSCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuXG4gICAgd2luZG93SGFsZlggPSBXSURUSCAvIDI7XG4gICAgd2luZG93SGFsZlkgPSBIRUlHSFQgLyAyO1xuXG4gICAgc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTtcbiAgICBhc3BlY3RSYXRpbyA9IFdJRFRIIC8gSEVJR0hUO1xuICAgIGZpZWxkT2ZWaWV3ID0gNTA7XG4gICAgbmVhclBsYW5lID0gMTtcbiAgICBmYXJQbGFuZSA9IDIwMDA7XG5cbiAgICBjYW1lcmEgPSBuZXcgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEoZmllbGRPZlZpZXcsIGFzcGVjdFJhdGlvLCBuZWFyUGxhbmUsIGZhclBsYW5lKTtcbiAgICBjYW1lcmEucG9zaXRpb24ueCA9IDA7XG4gICAgY2FtZXJhLnBvc2l0aW9uLnogPSA3MDtcbiAgICBjYW1lcmEucG9zaXRpb24ueSA9IC01O1xuXG4gICAgcmVuZGVyZXIgPSBuZXcgVEhSRUUuV2ViR0xSZW5kZXJlcih7YWxwaGE6IHRydWUsIGFudGlhbGlhczogdHJ1ZX0pO1xuICAgIHJlbmRlcmVyLnNldFBpeGVsUmF0aW8od2luZG93LmRldmljZVBpeGVsUmF0aW8/IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvOiAxKVxuICAgIHJlbmRlcmVyLnNldFNpemUoV0lEVEgsIEhFSUdIVCk7XG4gICAgcmVuZGVyZXIuc2hhZG93TWFwLmVuYWJsZWQgPSB0cnVlO1xuICAgIHJlbmRlcmVyLnNoYWRvd01hcC50eXBlID0gVEhSRUUuUENGU29mdFNoYWRvd01hcDtcblxuICAgIGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250YWluZXInKVxuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChyZW5kZXJlci5kb21FbGVtZW50KTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5vbldpbmRvd1Jlc2l6ZSwgZmFsc2UpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuaGFuZGxlTW91c2VNb3ZlLCBmYWxzZSk7XG4gIH1cblxuICBvbldpbmRvd1Jlc2l6ZSgpIHtcbiAgICBIRUlHSFQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgV0lEVEggPSB3aW5kb3cuaW5uZXJXaWR0aCAgLyAxLjY3O1xuICAgIHdpbmRvd0hhbGZYID0gV0lEVEggLyAyO1xuICAgIHdpbmRvd0hhbGZZID0gSEVJR0hUIC8gMjtcbiAgICByZW5kZXJlci5zZXRTaXplKFdJRFRILCBIRUlHSFQpO1xuICAgIGNhbWVyYS5hc3BlY3QgPSBXSURUSCAvIEhFSUdIVDtcbiAgICBjYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICB9XG5cbiAgaGFuZGxlTW91c2VNb3ZlKGUpIHtcbiAgICBtb3VzZVBvcyA9IHtcbiAgICAgIHg6IGV2ZW50LmNsaWVudFgsXG4gICAgICB5OiBldmVudC5jbGllbnRZXG4gICAgfTtcbiAgfVxuXG4gIGhhbmRsZVdpbmRvd1Jlc2l6ZShlKSB7XG4gICAgSEVJR0hUID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgIFdJRFRIID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgcmVuZGVyZXIuc2V0U2l6ZShXSURUSCwgSEVJR0hUKTtcbiAgICBjYW1lcmEuYXNwZWN0ID0gV0lEVEggLyBIRUlHSFQ7XG4gICAgY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcbiAgfVxuXG5cbiAgY3JlYXRlTGlnaHRzKCkge1xuXG4gICAgZ2xvYmFsTGlnaHQgPSBuZXcgVEhSRUUuSGVtaXNwaGVyZUxpZ2h0KDB4ZmZmZmZmLCAweDU1NTU1NSwgLjkpO1xuXG4gICAgc2hhZG93TGlnaHQgPSBuZXcgVEhSRUUuRGlyZWN0aW9uYWxMaWdodCgweGZmZmZmZiwgLjMpO1xuICAgIHNoYWRvd0xpZ2h0LnBvc2l0aW9uLnNldCgxMDAsIDI1MCwgMTc1KTtcbiAgICBzaGFkb3dMaWdodC5jYXN0U2hhZG93ID0gdHJ1ZTtcblxuICAgIGJhY2tMaWdodCA9IG5ldyBUSFJFRS5EaXJlY3Rpb25hbExpZ2h0KDB4ZmZmZmZmLCAuMik7XG4gICAgYmFja0xpZ2h0LnBvc2l0aW9uLnNldCgtMTAwLCAyMDAsIDE1MCk7XG4gICAgYmFja0xpZ2h0LmNhc3RTaGFkb3cgPSB0cnVlO1xuXG4gICAgaWYgKGlzTW9iaWxlKSBzaGFkb3dMaWdodC5zaGFkb3cubWFwU2l6ZS53aWR0aCA9IHNoYWRvd0xpZ2h0LnNoYWRvdy5tYXBTaXplLmhlaWdodCA9IDEwMjQ7XG4gICAgaWYgKCFpc01vYmlsZSkgc2hhZG93TGlnaHQuc2hhZG93Lm1hcFNpemUud2lkdGggPSBzaGFkb3dMaWdodC5zaGFkb3cubWFwU2l6ZS5oZWlnaHQgPSAyMDQ4O1xuXG4gICAgc2NlbmUuYWRkKGdsb2JhbExpZ2h0KTtcbiAgICBzY2VuZS5hZGQoc2hhZG93TGlnaHQpO1xuICAgIHNjZW5lLmFkZChiYWNrTGlnaHQpO1xuICAgIHNjZW5lLmFkZCggbmV3IFRIUkVFLkFtYmllbnRMaWdodCggMHhlYWRlYWQsIDAuMSApKTtcbiAgfVxuXG5cbiAgYmxpbmtMb29wKCkge1xuICAgIGlzQmxpbmtpbmcgPSBmYWxzZTtcblxuICAgIGlmICgoIWlzQmxpbmtpbmcpICYmIChNYXRoLnJhbmRvbSgpID4gMC45OSkpIHtcbiAgICAgIGlzQmxpbmtpbmcgPSB0cnVlO1xuICAgICAgdGhpcy5ibGluaygpO1xuICAgIH1cbiAgfVxuXG4gIGJsaW5rKCkge1xuICAgIGhlYWQuZXllcy5zY2FsZS55ID0gMTtcbiAgICBUd2Vlbk1heC50byhoZWFkLmV5ZXMuc2NhbGUsIC4wNywge1xuICAgICAgeTogMCxcbiAgICAgIHlveW86IHRydWUsXG4gICAgICByZXBlYXQ6IDEsXG4gICAgICBvbkNvbXBsZXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaXNCbGlua2luZyA9IGZhbHNlO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLy8gcmVyZW5kZXIgaGVhZFxuICBjcmVhdGVIZWFkKCkge1xuICAgIHNjZW5lLnJlbW92ZShoZWFkLm1lc2gpO1xuICAgIGhlYWQubmFtZSA9IFwiSGVhZFwiO1xuICAgIGhlYWQgPSBuZXcgSGVhZCgpO1xuICAgIHNjZW5lLmFkZChoZWFkLm1lc2gpO1xuICB9XG5cbiAgbG9vcCgpIHtcbiAgICBsZXQgeFRhcmdldCA9IChtb3VzZVBvcy54IC0gd2luZG93SGFsZlgpO1xuICAgIGxldCB5VGFyZ2V0ID0gKG1vdXNlUG9zLnkgLSB3aW5kb3dIYWxmWSk7XG5cbiAgICB0aGlzLmJsaW5rTG9vcCgpO1xuICAgIC8vaGVhZC5kaXp6eSgpO1xuXG4gICAgaGVhZC5pZGxlKHhUYXJnZXQsIHlUYXJnZXQpO1xuXG4gICAgcmVuZGVyZXIucmVuZGVyKHNjZW5lLCBjYW1lcmEpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFNhbnRhU2NlbmU7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvanMvY2xhc3Nlcy9TYW50YVNjZW5lLmpzIiwiaW1wb3J0IENvbG9ycyBmcm9tICcuLi9vYmplY3RzL2NvbG9ycyc7XG5pbXBvcnQgU3RhciBmcm9tICcuL1N0YXInO1xuaW1wb3J0IEhlYXJ0IGZyb20gJy4vSGVhcnQnO1xubGV0IGdyb3VwO1xubGV0IHN0YXJBcnJheSA9IFtdO1xuXG5jbGFzcyBIZWFydHNHcm91cCB7XG4gIGNvbnN0cnVjdG9yKHR5cGUpIHtcbiAgICB0aGlzLm1lc2ggPSBuZXcgVEhSRUUuT2JqZWN0M0QoKTtcbiAgICB0aGlzLm5TdGFycyA9IDE1O1xuXG4gICAgbGV0IHN0ZXBBbmdsZSA9IE1hdGguUEkgKiAyIC8gdGhpcy5uU3RhcnM7XG5cbiAgICAgLy8gQ3JlYXRlIHRoZSBTdGFyc1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5uU3RhcnM7IGkrKykge1xuXG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSAnc3RhcnMnOlxuICAgICAgICB0aGlzLnMgPSBuZXcgU3RhcigpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdoZWFydHMnOlxuICAgICAgICB0aGlzLnMgPSBuZXcgSGVhcnQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgbGV0IGEgPSBzdGVwQW5nbGUgKiBpO1xuICAgICAgbGV0IHIgPSAxNTtcblxuICAgICAgdGhpcy5zLm1lc2gucG9zaXRpb24ueSA9IE1hdGguc2luKGEpICogcjtcbiAgICAgIHRoaXMucy5tZXNoLnBvc2l0aW9uLnggPSBNYXRoLmNvcyhhKSAqIHI7XG5cbiAgICAgIHRoaXMucy5tZXNoLnJvdGF0aW9uLnogPSBhICsgTWF0aC5QSSAvIDI7XG4gICAgICB0aGlzLnMubWVzaC5wb3NpdGlvbi56ID0gMCAtIE1hdGgucmFuZG9tKCkgKiAzO1xuXG4gICAgICAgIC8vIHJhbmRvbSBzY2FsZSBmb3IgZWFjaCBjbG91ZFxuICAgICAgbGV0IHNjID0gMC41ICsgTWF0aC5yYW5kb20oKSAqIC42O1xuICAgICAgdGhpcy5zLm1lc2guc2NhbGUuc2V0KHNjLCBzYywgc2MpO1xuXG4gICAgICB0aGlzLm1lc2guYWRkKHRoaXMucy5tZXNoKTtcbiAgICAgIHN0YXJBcnJheS5wdXNoKHRoaXMucyk7XG4gICAgfVxuXG4gICAgdGhpcy5tZXNoLnJvdGF0aW9uLnggPSBNYXRoLlBJIC8gMjtcbiAgICB0aGlzLm1lc2gucG9zaXRpb24ueCA9IC0xNztcbiAgICB0aGlzLm1lc2gucG9zaXRpb24ueSA9IDg7XG4gIH1cblxuICBzcGluU2NhbGUoKSB7XG4gICAgdGhpcy5tZXNoLnJvdGF0aW9uLnogKz0gMC4wMjtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0YXJBcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgLy8gc3RhckFycmF5W2ldLm1lc2gucm90YXRpb24ueCA9IE1hdGguc2luKERhdGUubm93KCkgKiAwLjAxKSAqIE1hdGguUEkgKiAwLjEgO1xuICAgICAgc3RhckFycmF5W2ldLm1lc2gucm90YXRpb24ueiArPSAwIC0gTWF0aC5yYW5kb20oKSAqIDAuMTU7XG4gICAgICBzdGFyQXJyYXlbaV0ubWVzaC5yb3RhdGlvbi54ICs9IDAgLSBNYXRoLnJhbmRvbSgpICogMC4wNTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgSGVhcnRzR3JvdXA7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvanMvY2xhc3Nlcy9IZWFydHNHcm91cC5qcyIsImltcG9ydCBDb2xvcnMgZnJvbSAnLi4vb2JqZWN0cy9jb2xvcnMnOyBcbmNsYXNzIFN0YXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICAvLyBTVEFSXG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgIHRoaXMubWVzaCA9IG5ldyBUSFJFRS5PYmplY3QzRCgpO1xuXG4gICAgbGV0IHB0cyA9IFtdLFxuICAgICAgbnVtUHRzID0gNTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVB0cyAqIDI7IGkrKykge1xuICAgICAgbGV0IGwgPSBpICUgMiA9PSAxXG4gICAgICAgID8gMVxuICAgICAgICA6IDI7XG4gICAgICBsZXQgYSA9IGkgLyBudW1QdHMgKiBNYXRoLlBJO1xuICAgICAgcHRzLnB1c2gobmV3IFRIUkVFLlZlY3RvcjIoTWF0aC5jb3MoYSkgKiBsLCBNYXRoLnNpbihhKSAqIGwpKTtcbiAgICB9XG4gICAgbGV0IHN0YXJTaGFwZSA9IG5ldyBUSFJFRS5TaGFwZShwdHMpO1xuXG4gICAgbGV0IGV4dHJ1ZGVTZXR0aW5ncyA9IHtcbiAgICAgIGFtb3VudDogMC41LFxuICAgICAgc3RlcHM6IDEsXG4gICAgICBiZXZlbEVuYWJsZWQ6IGZhbHNlXG4gICAgfTtcbiAgICBsZXQgc3Rhckdlb20gPSBuZXcgVEhSRUUuRXh0cnVkZUdlb21ldHJ5KHN0YXJTaGFwZSwgZXh0cnVkZVNldHRpbmdzKTtcbiAgICBsZXQgbWF0ID0gbmV3IFRIUkVFLk1lc2hMYW1iZXJ0TWF0ZXJpYWwoe2NvbG9yOiBDb2xvcnMuYmxhY2ssIGZsYXRTaGFkaW5nOiB0cnVlfSlcbiAgICBsZXQgc3RhciA9IG5ldyBUSFJFRS5NZXNoKHN0YXJHZW9tLCBtYXQpO1xuICAgIHN0YXIucm90YXRpb24ueCA9IE1hdGguUEkgLyAyO1xuICAgIHRoaXMubWVzaC5hZGQoc3Rhcik7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU3RhcjtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9qcy9jbGFzc2VzL1N0YXIuanMiLCJjbGFzcyBIZWFydCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMubWVzaCA9IG5ldyBUSFJFRS5PYmplY3QzRCgpO1xuXG4gICAgY29uc3QgeCA9IDAsIHkgPSAwO1xuICAgIGNvbnN0IGhlYXJ0U2hhcGUgPSBuZXcgVEhSRUUuU2hhcGUoKTtcblxuICAgIGhlYXJ0U2hhcGUubW92ZVRvKHggKyAyNSwgeSArIDI1KTtcbiAgICBoZWFydFNoYXBlLmJlemllckN1cnZlVG8oeCArIDI1LCB5ICsgMjUsIHggKyAyMCwgeSwgeCwgeSk7XG4gICAgaGVhcnRTaGFwZS5iZXppZXJDdXJ2ZVRvKHggLSAzMCwgeSwgeCAtIDMwLCB5ICsgMzUsIHggLSAzMCwgeSArIDM1KTtcbiAgICBoZWFydFNoYXBlLmJlemllckN1cnZlVG8oeCAtIDMwLCB5ICsgNTUsIHggLSAxMCwgeSArIDc3LCB4ICsgMjUsIHkgKyA5NSk7XG4gICAgaGVhcnRTaGFwZS5iZXppZXJDdXJ2ZVRvKHggKyA2MCwgeSArIDc3LCB4ICsgODAsIHkgKyA1NSwgeCArIDgwLCB5ICsgMzUpO1xuICAgIGhlYXJ0U2hhcGUuYmV6aWVyQ3VydmVUbyh4ICsgODAsIHkgKyAzNSwgeCArIDgwLCB5LCB4ICsgNTAsIHkpO1xuICAgIGhlYXJ0U2hhcGUuYmV6aWVyQ3VydmVUbyh4ICsgMzUsIHksIHggKyAyNSwgeSArIDI1LCB4ICsgMjUsIHkgKyAyNSk7XG5cbiAgICBjb25zdCBleHRydWRlU2V0dGluZ3MgPSB7XG4gICAgICBhbW91bnQ6IDIwLFxuICAgICAgYmV2ZWxFbmFibGVkOiB0cnVlLFxuICAgICAgYmV2ZWxTZWdtZW50czogMixcbiAgICAgIHN0ZXBzOiAyLFxuICAgICAgYmV2ZWxTaXplOiAxLFxuICAgICAgYmV2ZWxUaGlja25lc3M6IDFcbiAgICB9O1xuXG4gICAgdGhpcy5hZGRTaGFwZShoZWFydFNoYXBlLCBleHRydWRlU2V0dGluZ3MsIDB4ZjljNDIxLCAwLCAwLCAwLCAwLCAxLCBNYXRoLlBJLCAwLjAzKTtcbiAgfVxuXG5cbiAgYWRkU2hhcGUoc2hhcGUsIGV4dHJ1ZGVTZXR0aW5ncywgY29sb3IsIHgsIHksIHosIHJ4LCByeSwgcnosIHMpIHtcbiAgICAvLyBleHRydWRlZCBzaGFwZVxuXG4gICAgY29uc3QgZ2VvbWV0cnkgPSBuZXcgVEhSRUUuRXh0cnVkZUdlb21ldHJ5KHNoYXBlLCBleHRydWRlU2V0dGluZ3MpO1xuXG4gICAgY29uc3QgbWVzaCA9IG5ldyBUSFJFRS5NZXNoKGdlb21ldHJ5LCBuZXcgVEhSRUUuTWVzaFBob25nTWF0ZXJpYWwoe2NvbG9yOiBjb2xvcn0pKTtcbiAgICBtZXNoLnBvc2l0aW9uLnNldCh4LCB5LCB6KTtcbiAgICBtZXNoLnJvdGF0aW9uLnNldChyeCwgcnksIHJ6KTtcbiAgICBtZXNoLnNjYWxlLnNldChzLCBzLCBzKTtcbiAgICB0aGlzLm1lc2guYWRkKG1lc2gpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEhlYXJ0O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2pzL2NsYXNzZXMvSGVhcnQuanMiXSwic291cmNlUm9vdCI6IiJ9