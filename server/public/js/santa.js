!function(e){function t(r){if(a[r])return a[r].exports;var i=a[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var a={};t.m=e,t.c=a,t.d=function(e,a,r){t.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=19)}([function(e,t,a){"use strict";var r={skin:16769213,freckles:13613718,white:15330286,glasses:16368673,teeth:16777215,black:3026478,eye:6460840,hat:7471892};t.a=r},function(e,t,a){"use strict";var r=a(5),i=a.n(r),o="/api/cart";t.a={create:function(e){var t=e.text,a=e.id,r=e.name,n=(e.blob,new FormData);return n.append("text",t),n.append("id",a),n.append("name",r),i()(o,{method:"POST",body:n}).then(function(e){return e.json()})},read:function(){return i()(o+"?isActive=true").then(function(e){return e.json()})},readOne:function(e){return i()(o+"/"+e,{method:"GET"}).then(function(e){return e.json()})}}},,function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=a(0),o=a(4),n=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(){function e(){r(this,e),this.mesh=new THREE.Object3D;var t=new THREE.BoxBufferGeometry(16,16,16),a=new THREE.MeshLambertMaterial({color:i.a.skin,flatShading:!0});new THREE.MeshPhongMaterial({color:i.a.eye,flatShading:!0});this.head=new THREE.Mesh(t,a),this.head.castShadow=!0,this.head.receiveShadow=!1,this.mesh.add(this.head),this.beard=new THREE.Object3D,this.beard.position.y=-7,this.beard.position.z=.5,this.head.add(this.beard);this.Beard(),this.Glasses(),this.Hair(),this.Eyes(),this.EyeBrows(),this.Hat(),this.Freckles(),this.Features(),this.idle(),this.normalize()}return n(e,[{key:"normalize",value:function(e,t,a,r,i){return r+(Math.max(Math.min(e,a),t)-t)/(a-t)*(i-r)}},{key:"updateBody",value:function(e,t,a,r,i,o,n){this.eyeBlueRight.position.x+=(t-this.eyeBlueRight.position.x)/e,this.eyeBlueLeft.position.x+=(a-this.eyeBlueLeft.position.x)/e,this.eyeBlueRight.position.y+=(r-this.eyeBlueRight.position.y)/e,this.eyeBlueLeft.position.y+=(i-this.eyeBlueLeft.position.y)/e,this.eyeBrowRight.position.y+=(o-this.eyeBrowRight.position.y)/e,this.eyeBrowLeft.position.y+=(n-this.eyeBrowLeft.position.y)/e}},{key:"idle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.head.rotation.z=Math.sin(.005*Date.now())*Math.PI*.005,this.head.rotation.x=Math.sin(.004*Date.now())*Math.PI*.03;var a=this.normalize(e,-200,200,-.6,.6),r=this.normalize(e,-200,200,-.6,.6),i=this.normalize(t,-200,200,.6,-.6),o=this.normalize(t,-200,200,.6,-.6),n=this.normalize(e,-200,200,-1,.8),s=this.normalize(e,-200,200,-1,.8);this.moustache.position.y=1*Math.cos(.01*Date.now())/4,this.moustache.rotation.z=Math.sin(.01*Date.now())*Math.PI*.01,this.mesh.rotation.y=Math.sin(.002*Date.now())*Math.PI*.05,this.updateBody(10,a,r,i,o,n,s)}},{key:"Beard",value:function(){var e=new THREE.Geometry,t=new THREE.BoxGeometry(2,10,16),a=new THREE.Mesh(t,o.a.whiteMat);a.applyMatrix((new THREE.Matrix4).makeTranslation(9,0,0)),a.updateMatrix(),e.merge(a.geometry,a.matrix);var r=new THREE.Mesh(t,o.a.whiteMat);r.applyMatrix((new THREE.Matrix4).makeTranslation(7,-2,2)),r.scale.z=.8,r.updateMatrix(),e.merge(r.geometry,r.matrix);var i=a.clone();i.position.x=-a.position.x,i.updateMatrix(),e.merge(i.geometry,i.matrix);var n=r.clone();n.position.x=-r.position.x,n.updateMatrix(),e.merge(n.geometry,n.matrix);var s=new THREE.BoxGeometry(3,14,10);s.vertices[2].z-=2,s.vertices[7].z-=2;var h=new THREE.Mesh(s,o.a.whiteMat);h.applyMatrix((new THREE.Matrix4).makeTranslation(5,-5,4)),h.updateMatrix(),e.merge(h.geometry,h.matrix);var l=new THREE.BoxGeometry(2.5,14,10);l.vertices[2].z-=2,l.vertices[7].z-=2;var d=new THREE.Mesh(l,o.a.whiteMat);d.applyMatrix((new THREE.Matrix4).makeTranslation(2.5,-6,6)),d.updateMatrix(),e.merge(d.geometry,d.matrix);var u=h.clone();u.position.x=-h.position.x,u.updateMatrix(),e.merge(u.geometry,u.matrix);var c=d.clone();c.position.x=-d.position.x,c.updateMatrix(),e.merge(c.geometry,c.matrix);var y=new THREE.BoxGeometry(2.5,14.5,10);y.vertices[2].z-=1,y.vertices[7].z-=1;var p=new THREE.Mesh(y,o.a.whiteMat);p.applyMatrix((new THREE.Matrix4).makeTranslation(0,-7,5.75)),p.updateMatrix(),e.merge(p.geometry,p.matrix);var f=new THREE.BoxGeometry(4,8,8),w=new THREE.Mesh(f,o.a.whiteMat);w.applyMatrix((new THREE.Matrix4).makeTranslation(-6,-1,-2)),w.updateMatrix(),e.merge(w.geometry,w.matrix);var E=new THREE.Mesh(f,o.a.whiteMat);E.applyMatrix((new THREE.Matrix4).makeTranslation(0,-5,-2)),E.updateMatrix(),e.merge(E.geometry,E.matrix);var m=new THREE.Mesh(e,o.a.whiteMat);m.castShadow=!0,m.receiveShadow=!0;var M=new THREE.BoxGeometry(10,4,1),x=new THREE.Mesh(M,o.a.blackMat);x.position.set(0,2,8),x.castShadow=!1,x.receiveShadow=!0;var T=new THREE.BoxGeometry(10,1,1),R=new THREE.Mesh(T,o.a.teethMat);R.position.set(0,.5,.1),R.castShadow=!1,R.receiveShadow=!0,x.add(R),this.beard.add(m,x);var v=new THREE.BoxGeometry(14,3,3,3);v.vertices[0].y-=2,v.vertices[1].y-=2,v.vertices[2].y-=2,v.vertices[3].y-=2,v.vertices[4].y-=2,v.vertices[5].y-=2,v.vertices[6].y-=2,v.vertices[7].y-=2,v.vertices[8].x-=1,v.vertices[9].x+=1,v.applyMatrix((new THREE.Matrix4).makeTranslation(0,4,0)),this.moustache=new THREE.Mesh(v,o.a.whiteMat),this.moustache.castShadow=!0,this.moustache.receiveShadow=!0,this.moustache.position.set(0,0,9),this.beard.add(this.moustache)}},{key:"Glasses",value:function(){this.glasses=new THREE.Object3D,this.glasses.position.set(0,0,9),this.head.add(this.glasses);var e=new THREE.MeshPhongMaterial({color:i.a.glasses,flatShading:!0}),t=new THREE.Geometry,a=new THREE.CylinderGeometry(3,3,.5,32),r=new THREE.CylinderGeometry(2.7,2.7,.5,32);a.applyMatrix((new THREE.Matrix4).makeRotationX(-Math.PI/2)),r.applyMatrix((new THREE.Matrix4).makeRotationX(-Math.PI/2));var o=new ThreeBSP(a),n=new ThreeBSP(r),s=o.subtract(n),h=s.toMesh(e);h.applyMatrix((new THREE.Matrix4).makeTranslation(4,3,0)),h.updateMatrix(),t.merge(h.geometry,h.matrix);var l=h.clone();l.applyMatrix((new THREE.Matrix4).makeRotationZ(Math.PI/30)),l.applyMatrix((new THREE.Matrix4).makeTranslation(-7.5,-.25,0)),l.updateMatrix(),t.merge(l.geometry,l.matrix);var d=new THREE.BoxGeometry(2,.3,.5),u=new THREE.Mesh(d,e);u.applyMatrix((new THREE.Matrix4).makeTranslation(0,3.3,-.3)),u.updateMatrix(),t.merge(u.geometry,u.matrix);var c=new THREE.BoxGeometry(1.5,.5,1),y=new THREE.Mesh(c,e);y.applyMatrix((new THREE.Matrix4).makeTranslation(7.5,3,0)),y.updateMatrix(),t.merge(y.geometry,y.matrix);var p=y.clone();p.position.x=-y.position.x,p.updateMatrix(),t.merge(p.geometry,p.matrix);var f=new THREE.BoxGeometry(1,.5,12),w=new THREE.Mesh(f,e);w.applyMatrix((new THREE.Matrix4).makeTranslation(8,3,-5.5)),w.updateMatrix(),t.merge(w.geometry,w.matrix);var E=w.clone();E.position.x=-w.position.x,E.updateMatrix(),t.merge(E.geometry,E.matrix);var m=new THREE.Mesh(t,e);m.castShadow=!1,m.receiveShadow=!0,this.glasses.add(m)}},{key:"Hair",value:function(){this.hair=new THREE.Object3D,this.hair.position.set(0,9,0),this.head.add(this.hair);var e=new THREE.Geometry,t=new THREE.BoxGeometry(10,2,18),a=new THREE.Mesh(t,o.a.whiteMat);a.applyMatrix((new THREE.Matrix4).makeRotationZ(-Math.PI/40)),a.applyMatrix((new THREE.Matrix4).makeTranslation(-4,-.5,0)),a.updateMatrix(),e.merge(a.geometry,a.matrix);var r=new THREE.Mesh(t,o.a.whiteMat);r.applyMatrix((new THREE.Matrix4).makeRotationZ(-Math.PI/10)),r.applyMatrix((new THREE.Matrix4).makeTranslation(-2,1,0)),r.updateMatrix(),e.merge(r.geometry,r.matrix);var i=new THREE.Mesh(t,o.a.whiteMat);i.applyMatrix((new THREE.Matrix4).makeRotationZ(-Math.PI/5)),i.applyMatrix((new THREE.Matrix4).makeTranslation(2,1,0)),i.updateMatrix(),e.merge(i.geometry,i.matrix);var n=new THREE.Mesh(t,o.a.whiteMat);n.applyMatrix((new THREE.Matrix4).makeRotationZ(-Math.PI/4)),n.applyMatrix((new THREE.Matrix4).makeTranslation(6,0,0)),n.updateMatrix(),e.merge(n.geometry,n.matrix);var s=new THREE.Mesh(t,o.a.whiteMat);s.applyMatrix((new THREE.Matrix4).makeRotationZ(-Math.PI/-3)),s.applyMatrix((new THREE.Matrix4).makeTranslation(-7.75,-.5,0)),s.updateMatrix(),e.merge(s.geometry,s.matrix);var h=new THREE.BoxGeometry(18,7,6);h.vertices[0].x-=1,h.vertices[1].x-=1,h.vertices[4].x+=1,h.vertices[5].x+=1;var l=new THREE.Mesh(h,o.a.whiteMat);l.applyMatrix((new THREE.Matrix4).makeTranslation(0,-4.5,-6)),l.updateMatrix(),e.merge(l.geometry,l.matrix);var d=new THREE.Mesh(e,o.a.whiteMat);d.castShadow=!1,d.receiveShadow=!0,this.hair.add(d)}},{key:"Eyes",value:function(){this.eyes=new THREE.Object3D,this.eyes.position.set(0,3,9),this.head.add(this.eyes);var e=new THREE.PlaneGeometry(2.5,2.5),t=new THREE.Mesh(e,o.a.whiteMat);t.position.set(-3.75,0,0),t.castShadow=!1,t.receiveShadow=!1;var a=new THREE.PlaneGeometry(1.5,1.5),r=new THREE.MeshPhongMaterial({color:i.a.eye,flatShading:!0});this.eyeBlueRight=new THREE.Mesh(a,r),this.eyeBlueRight.position.set(0,0,.01),this.eyeBlueRight.castShadow=!1,this.eyeBlueRight.receiveShadow=!1,t.add(this.eyeBlueRight);var n=new THREE.PlaneGeometry(1,1);this.eyePupilRight=new THREE.Mesh(n,o.a.blackMat),this.eyePupilRight.position.set(0,0,.02),this.eyePupilRight.castShadow=!1,this.eyePupilRight.receiveShadow=!1,this.eyeBlueRight.add(this.eyePupilRight);var s=new THREE.Mesh(e,o.a.whiteMat);s.position.set(3.75,0,0),s.castShadow=!1,s.receiveShadow=!1,this.eyeBlueLeft=new THREE.Mesh(a,r),this.eyeBlueLeft.position.set(0,0,.01),this.eyeBlueLeft.castShadow=!1,this.eyeBlueLeft.receiveShadow=!1,s.add(this.eyeBlueLeft),this.eyePupilLeft=new THREE.Mesh(n,o.a.blackMat),this.eyePupilLeft.position.set(0,0,.02),this.eyePupilLeft.castShadow=!1,this.eyePupilLeft.receiveShadow=!1,this.eyeBlueLeft.add(this.eyePupilLeft),this.eyes.add(t,s)}},{key:"EyeBrows",value:function(){this.eyeBrows=new THREE.Object3D,this.eyeBrows.position.set(0,6,8),this.head.add(this.eyeBrows);var e=new THREE.BoxGeometry(4,1,1);this.eyeBrowRight=new THREE.Mesh(e,o.a.whiteMat),this.eyeBrowRight.applyMatrix((new THREE.Matrix4).makeRotationZ(Math.PI/45)),this.eyeBrowRight.position.set(-3.75,0,0),this.eyeBrowRight.castShadow=!1,this.eyeBrowRight.receiveShadow=!1,this.eyeBrowLeft=new THREE.Mesh(e,o.a.whiteMat),this.eyeBrowLeft.applyMatrix((new THREE.Matrix4).makeRotationZ(-Math.PI/45)),this.eyeBrowLeft.position.set(3.75,0,0),this.eyeBrowLeft.castShadow=!1,this.eyeBrowLeft.receiveShadow=!1,this.eyeBrows.add(this.eyeBrowRight,this.eyeBrowLeft)}},{key:"Hat",value:function(){this.hat=new THREE.Object3D,this.hat.position.set(-.2,11,2.4),this.head.add(this.hat);var e=new THREE.MeshPhongMaterial({color:i.a.hat,flatShading:!0}),t=new THREE.TorusGeometry(9,2,16,100),a=new THREE.CylinderGeometry(1,11,12,15),r=new THREE.CylinderGeometry(.8,3,9,32),n=new THREE.SphereGeometry(1.5,8,8);this.band=new THREE.Mesh(t,o.a.teethMat),this.band.applyMatrix((new THREE.Matrix4).makeRotationX(Math.PI/2)),this.band.position.set(0,0,0),this.band.castShadow=!1,this.band.receiveShadow=!1,this.bigCone=new THREE.Mesh(a,e),this.bigCone.position.set(0,6,0),this.bigCone.castShadow=!1,this.bigCone.receiveShadow=!1,this.smallCone=new THREE.Mesh(r,e),this.smallCone.applyMatrix((new THREE.Matrix4).makeRotationX(Math.PI/2)),this.smallCone.applyMatrix((new THREE.Matrix4).makeRotationY(Math.PI/2)),this.smallCone.applyMatrix((new THREE.Matrix4).makeRotationZ(Math.PI/-8)),this.smallCone.position.set(4,7.8,-1),this.smallCone.castShadow=!1,this.smallCone.receiveShadow=!1,this.hatDingle=new THREE.Mesh(n,o.a.whiteMat),this.hatDingle.position.set(9,5.5,-1),this.hatDingle.castShadow=!1,this.hatDingle.receiveShadow=!1,this.hat.add(this.band,this.bigCone,this.smallCone,this.hatDingle)}},{key:"Freckles",value:function(){this.freckles=new THREE.Object3D,this.freckles.position.set(0,0,8),this.head.add(this.freckles);var e=new THREE.MeshLambertMaterial({color:i.a.freckles,flatShading:!0}),t=new THREE.Geometry,a=new THREE.PlaneGeometry(.5,.5),r=new THREE.Mesh(a,e);r.applyMatrix((new THREE.Matrix4).makeTranslation(-5,0,.01)),r.updateMatrix(),t.merge(r.geometry,r.matrix);var o=r.clone();o.applyMatrix((new THREE.Matrix4).makeTranslation(-.5,-1,0)),o.updateMatrix(),t.merge(o.geometry,o.matrix);var n=r.clone();n.applyMatrix((new THREE.Matrix4).makeTranslation(1,-.5,0)),n.updateMatrix(),t.merge(n.geometry,n.matrix);var s=r.clone();s.position.x=-r.position.x,s.updateMatrix(),t.merge(s.geometry,s.matrix);var h=o.clone();h.position.x=-o.position.x,h.updateMatrix(),t.merge(h.geometry,h.matrix);var l=n.clone();l.position.x=-n.position.x,l.updateMatrix(),t.merge(l.geometry,l.matrix);var d=new THREE.Mesh(t,e);d.castShadow=!1,d.receiveShadow=!1,this.freckles.add(d)}},{key:"Features",value:function(){var e=new THREE.BoxBufferGeometry(1.5,3,1.5),t=new THREE.MeshLambertMaterial({color:i.a.skin,flatShading:!0}),a=new THREE.Mesh(e,t);a.position.set(-8.5,1,3),a.castShadow=!1,a.receiveShadow=!1;var r=new THREE.Mesh(e,t);r.position.set(8.5,1,3),r.castShadow=!1,r.receiveShadow=!1;var o=new THREE.CylinderGeometry(1,2,4,4),n=new THREE.Mesh(o,t);n.scale.set(.75,1,1.3),n.position.set(0,1,8),n.castShadow=!1,n.receiveShadow=!1,this.head.add(a,r,n)}}]),e}();t.a=s},function(e,t,a){"use strict";var r=a(0),i={whiteMat:new THREE.MeshLambertMaterial({color:r.a.white,flatShading:!0}),teethMat:new THREE.MeshPhongMaterial({color:r.a.teeth,flatShading:!0}),blackMat:new THREE.MeshLambertMaterial({color:r.a.black,flatShading:!0}),normalMat:new THREE.MeshNormalMaterial({})};t.a=i},function(e,t,a){a(6),e.exports=self.fetch.bind(self)},function(e,t){!function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function a(e){return"string"!=typeof e&&(e=String(e)),e}function r(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return E.iterable&&(t[Symbol.iterator]=function(){return t}),t}function i(e){this.map={},e instanceof i?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function o(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function n(e){return new Promise(function(t,a){e.onload=function(){t(e.result)},e.onerror=function(){a(e.error)}})}function s(e){var t=new FileReader,a=n(t);return t.readAsArrayBuffer(e),a}function h(e){var t=new FileReader,a=n(t);return t.readAsText(e),a}function l(e){for(var t=new Uint8Array(e),a=new Array(t.length),r=0;r<t.length;r++)a[r]=String.fromCharCode(t[r]);return a.join("")}function d(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function u(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(E.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(E.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(E.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(E.arrayBuffer&&E.blob&&M(e))this._bodyArrayBuffer=d(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!E.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!x(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=d(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):E.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},E.blob&&(this.blob=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return h(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(l(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},E.formData&&(this.formData=function(){return this.text().then(p)}),this.json=function(){return this.text().then(JSON.parse)},this}function c(e){var t=e.toUpperCase();return T.indexOf(t)>-1?t:e}function y(e,t){t=t||{};var a=t.body;if(e instanceof y){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new i(e.headers)),this.method=e.method,this.mode=e.mode,a||null==e._bodyInit||(a=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new i(t.headers)),this.method=c(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&a)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(a)}function p(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var a=e.split("="),r=a.shift().replace(/\+/g," "),i=a.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}}),t}function f(e){var t=new i;return e.split(/\r?\n/).forEach(function(e){var a=e.split(":"),r=a.shift().trim();if(r){var i=a.join(":").trim();t.append(r,i)}}),t}function w(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new i(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var E={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(E.arrayBuffer)var m=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],M=function(e){return e&&DataView.prototype.isPrototypeOf(e)},x=ArrayBuffer.isView||function(e){return e&&m.indexOf(Object.prototype.toString.call(e))>-1};i.prototype.append=function(e,r){e=t(e),r=a(r);var i=this.map[e];this.map[e]=i?i+","+r:r},i.prototype.delete=function(e){delete this.map[t(e)]},i.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},i.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},i.prototype.set=function(e,r){this.map[t(e)]=a(r)},i.prototype.forEach=function(e,t){for(var a in this.map)this.map.hasOwnProperty(a)&&e.call(t,this.map[a],a,this)},i.prototype.keys=function(){var e=[];return this.forEach(function(t,a){e.push(a)}),r(e)},i.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),r(e)},i.prototype.entries=function(){var e=[];return this.forEach(function(t,a){e.push([a,t])}),r(e)},E.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var T=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];y.prototype.clone=function(){return new y(this,{body:this._bodyInit})},u.call(y.prototype),u.call(w.prototype),w.prototype.clone=function(){return new w(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},w.error=function(){var e=new w(null,{status:0,statusText:""});return e.type="error",e};var R=[301,302,303,307,308];w.redirect=function(e,t){if(-1===R.indexOf(t))throw new RangeError("Invalid status code");return new w(null,{status:t,headers:{location:e}})},e.Headers=i,e.Request=y,e.Response=w,e.fetch=function(e,t){return new Promise(function(a,r){var i=new y(e,t),o=new XMLHttpRequest;o.onload=function(){var e={status:o.status,statusText:o.statusText,headers:f(o.getAllResponseHeaders()||"")};e.url="responseURL"in o?o.responseURL:e.headers.get("X-Request-URL");var t="response"in o?o.response:o.responseText;a(new w(t,e))},o.onerror=function(){r(new TypeError("Network request failed"))},o.ontimeout=function(){r(new TypeError("Network request failed"))},o.open(i.method,i.url,!0),"include"===i.credentials&&(o.withCredentials=!0),"responseType"in o&&E.blob&&(o.responseType="blob"),i.headers.forEach(function(e,t){o.setRequestHeader(t,e)}),o.send(void 0===i._bodyInit?null:i._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},,,,,,,,,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(22),i=a(1),o=(a(3),window.AudioContext||window.webkitAudioContext),n=void 0,s=void 0,h=(document.getElementById("play_santa"),document.getElementById("audio")),l=void 0,d=[256,512,1024,2048,4096,8192],u=d[1],c=1,y=function(e,t,a){return e+(t-e)*a},p=function(){l&&l.disconnect(),s.createScriptProcessor?l=s.createScriptProcessor(u,1,1):s.createJavaScriptNode&&(l=s.createJavaScriptNode(u,1,1)),l.buffer=new Float32Array(2*u),l.grainWindow=f(u),l.onaudioprocess=function(e){var t=e.inputBuffer.getChannelData(0),a=e.outputBuffer.getChannelData(0);for(i=0;i<t.length;i++)t[i]*=this.grainWindow[i],this.buffer[i]=this.buffer[i+u],this.buffer[i+u]=0;for(var r=new Float32Array(2*u),i=0,o=0;i<u;i++,o+=c){var n=Math.floor(o)%u,s=t[n],h=t[(n+1)%u];r[i]+=y(s,h,o%1)*this.grainWindow[i]}for(i=0;i<u;i+=Math.round(.5*u))for(o=0;o<=u;o++)this.buffer[i+o]+=r[o];for(i=0;i<u;i++)a[i]=this.buffer[i]},l.connect(s.destination)},f=function(e){for(var t=new Float32Array(e),a=0;a<e;a++)t[a]=.5*(1-Math.cos(2*Math.PI*a/(e-1)));return t};!function(){s=new o,n=Object(r.a)("id"),n||(window.location="https://localhost:8080"),i.a.readOne(n).then(function(e){e.statusCode&&(window.location="https://localhost:8080"),document.getElementById("name").innerHTML=e.name,document.getElementById("santa_audio").src="./uploads/"+e.id+".ogg",setTimeout(function(){new BufferLoader(s,["./uploads/"+e.id+".ogg"],function(e){var t=!1,a=void 0;document.getElementById("repeat").addEventListener("click",function(){t=!t,a.stop()}),c=2,h.addEventListener("click",function(){a="",a=s.createBufferSource(),a.buffer=e[0],a.connect(l),a.loop=t,a.start()})}).load(),p()},1e3)})}()},,,function(e,t,a){"use strict";var r=function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),a=t.exec(location.search);return null!==a&&decodeURIComponent(a[1].replace(/\+/g," "))};t.a=r}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vanMvc2FudGEuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svYm9vdHN0cmFwIDJlNWJhOTJhOGVkN2U4NGM3NDk3Iiwid2VicGFjazovLy8uL3NyYy9qcy9vYmplY3RzL2NvbG9ycy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvbGliL2NhcnRBUEkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2NsYXNzZXMvSGVhZC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvb2JqZWN0cy9NYXRlcmlhbHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2lzb21vcnBoaWMtZmV0Y2gvZmV0Y2gtbnBtLWJyb3dzZXJpZnkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3doYXR3Zy1mZXRjaC9mZXRjaC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvc2FudGFTY3JpcHQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL29iamVjdHMvZ2V0VXJsUGFyYW1ldGVyLmpzIl0sIm5hbWVzIjpbIm1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpbnN0YWxsZWRNb2R1bGVzIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwiZ2V0IiwibiIsIl9fZXNNb2R1bGUiLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJfX3dlYnBhY2tfZXhwb3J0c19fIiwiQ29sb3JzIiwic2tpbiIsImZyZWNrbGVzIiwid2hpdGUiLCJnbGFzc2VzIiwidGVldGgiLCJibGFjayIsImV5ZSIsImhhdCIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9pc29tb3JwaGljX2ZldGNoX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfaXNvbW9ycGhpY19mZXRjaF9fX2RlZmF1bHQiLCJ1cmwiLCJjcmVhdGUiLCJfcmVmIiwidGV4dCIsImlkIiwiYm9keSIsImJsb2IiLCJGb3JtRGF0YSIsImFwcGVuZCIsIm1ldGhvZCIsInRoZW4iLCJyIiwianNvbiIsInJlYWQiLCJyZWFkT25lIiwiX2NsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIlR5cGVFcnJvciIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fb2JqZWN0c19jb2xvcnNfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fb2JqZWN0c19NYXRlcmlhbHNfXyIsIl9jcmVhdGVDbGFzcyIsImRlZmluZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJwcm9wcyIsImxlbmd0aCIsImRlc2NyaXB0b3IiLCJ3cml0YWJsZSIsImtleSIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsIkhlYWQiLCJ0aGlzIiwibWVzaCIsIlRIUkVFIiwiT2JqZWN0M0QiLCJoZWFkR2VvbSIsIkJveEJ1ZmZlckdlb21ldHJ5Iiwic2tpbk1hdCIsIk1lc2hMYW1iZXJ0TWF0ZXJpYWwiLCJjb2xvciIsImZsYXRTaGFkaW5nIiwiTWVzaFBob25nTWF0ZXJpYWwiLCJoZWFkIiwiTWVzaCIsImNhc3RTaGFkb3ciLCJyZWNlaXZlU2hhZG93IiwiYWRkIiwiYmVhcmQiLCJwb3NpdGlvbiIsInkiLCJ6IiwiQmVhcmQiLCJHbGFzc2VzIiwiSGFpciIsIkV5ZXMiLCJFeWVCcm93cyIsIkhhdCIsIkZyZWNrbGVzIiwiRmVhdHVyZXMiLCJpZGxlIiwibm9ybWFsaXplIiwidmFsdWUiLCJ2Iiwidm1pbiIsInZtYXgiLCJ0bWluIiwidG1heCIsIk1hdGgiLCJtYXgiLCJtaW4iLCJzcGVlZCIsImV5ZUJsdWVSaWdodFBvc1giLCJleWVCbHVlTGVmdFBvc1giLCJleWVCbHVlUmlnaHRQb3NZIiwiZXllQmx1ZUxlZnRQb3NZIiwiZXllQnJvd1JpZ2h0UG9zWSIsImV5ZUJyb3dMZWZ0UG9zWSIsImV5ZUJsdWVSaWdodCIsIngiLCJleWVCbHVlTGVmdCIsImV5ZUJyb3dSaWdodCIsImV5ZUJyb3dMZWZ0IiwieFRhcmdldCIsImFyZ3VtZW50cyIsInVuZGVmaW5lZCIsInlUYXJnZXQiLCJyb3RhdGlvbiIsInNpbiIsIkRhdGUiLCJub3ciLCJQSSIsIm1vdXN0YWNoZSIsImNvcyIsInVwZGF0ZUJvZHkiLCJiZWFyZEdlb21NZXJnZWQiLCJHZW9tZXRyeSIsImJlYXJkMUdlb20iLCJCb3hHZW9tZXRyeSIsImJlYXJkMSIsIndoaXRlTWF0IiwiYXBwbHlNYXRyaXgiLCJNYXRyaXg0IiwibWFrZVRyYW5zbGF0aW9uIiwidXBkYXRlTWF0cml4IiwibWVyZ2UiLCJnZW9tZXRyeSIsIm1hdHJpeCIsImJlYXJkMiIsInNjYWxlIiwiYmVhcmQzIiwiY2xvbmUiLCJiZWFyZDQiLCJiZWFyZDJHZW9tIiwidmVydGljZXMiLCJiZWFyZDUiLCJiZWFyZDNHZW9tIiwiYmVhcmQ2IiwiYmVhcmQ3IiwiYmVhcmQ4IiwiYmVhcmQ0R2VvbSIsImJlYXJkOSIsImJlYXJkNUdlb20iLCJiZWFyZDEwIiwiYmVhcmQxMSIsImJlYXJkTWVyZ2VkIiwibW91dGhHZW9tIiwibW91dGgiLCJibGFja01hdCIsInNldCIsInRlZXRoR2VvbSIsInRlZXRoTWF0IiwibW91c3RhY2hlR2VvbSIsImdsYXNzZXNNYXQiLCJmcmFtZUdlb21NZXJnZWQiLCJmcmFtZU91dGVyR2VvbSIsIkN5bGluZGVyR2VvbWV0cnkiLCJmcmFtZUlubmVyR2VvbSIsIm1ha2VSb3RhdGlvblgiLCJmcmFtZUJTUCIsIlRocmVlQlNQIiwiZnJhbWVDdXRCU1AiLCJmcmFtZWludGVyc2VjdGlvbkJTUCIsInN1YnRyYWN0IiwiZnJhbWVMZWZ0IiwidG9NZXNoIiwiZnJhbWVSaWdodCIsIm1ha2VSb3RhdGlvbloiLCJmcmFtZU1pZEdlb20iLCJmcmFtZU1pZCIsImZyYW1lRW5kR2VvbSIsImZyYW1lRW5kUmlnaHQiLCJmcmFtZUVuZExlZnQiLCJmcmFtZVNwb2tlR2VvbSIsImZyYW1lU3Bva2VSaWdodCIsImZyYW1lU3Bva2VMZWZ0IiwiZnJhbWVNZXJnZWQiLCJoYWlyIiwiaGFpckdlb21NZXJnZWQiLCJoYWlyRmxhdEdlb20iLCJoYWlyMSIsImhhaXIyIiwiaGFpcjMiLCJoYWlyNCIsImhhaXI2IiwiaGFpckZsYXRCYWNrR2VvbSIsImhhaXI1IiwiaGFpck1lcmdlZCIsImV5ZXMiLCJleWVXaGl0ZUdlb20iLCJQbGFuZUdlb21ldHJ5IiwiZXllV2hpdGVSaWdodCIsImV5ZUJsdWVHZW9tIiwiZXllTWF0IiwiZXllUHVwaWxHZW9tIiwiZXllUHVwaWxSaWdodCIsImV5ZVdoaXRlTGVmdCIsImV5ZVB1cGlsTGVmdCIsImV5ZUJyb3dzIiwiZXllQnJvd0dlb20iLCJoYXRNYXQiLCJiYW5kR2VvbSIsIlRvcnVzR2VvbWV0cnkiLCJiaWdDb25lR2VvbSIsInNtYWxsQ29uZUdlb20iLCJoYXREaW5nbGVHZW9tIiwiU3BoZXJlR2VvbWV0cnkiLCJiYW5kIiwiYmlnQ29uZSIsInNtYWxsQ29uZSIsIm1ha2VSb3RhdGlvblkiLCJoYXREaW5nbGUiLCJmcmVja2xlc01hdCIsImZyZWNrbGVzR2VvbU1lcmdlZCIsImZyZWNrbGVzR2VvbSIsImZyZWNrbGUxIiwiZnJlY2tsZTIiLCJmcmVja2xlMyIsImZyZWNrbGU0IiwiZnJlY2tsZTUiLCJmcmVja2xlNiIsImZyZWNrbGVkTWVyZ2VkIiwiZWFyR2VvbSIsImVhclJpZ2h0IiwiZWFyTGVmdCIsIm5vc2VHZW9tIiwibm9zZSIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fY29sb3JzX18iLCJNYXRlcmlhbHMiLCJub3JtYWxNYXQiLCJNZXNoTm9ybWFsTWF0ZXJpYWwiLCJzZWxmIiwiZmV0Y2giLCJiaW5kIiwibm9ybWFsaXplTmFtZSIsIlN0cmluZyIsInRlc3QiLCJ0b0xvd2VyQ2FzZSIsIm5vcm1hbGl6ZVZhbHVlIiwiaXRlcmF0b3JGb3IiLCJpdGVtcyIsIml0ZXJhdG9yIiwibmV4dCIsInNoaWZ0IiwiZG9uZSIsInN1cHBvcnQiLCJpdGVyYWJsZSIsIlN5bWJvbCIsIkhlYWRlcnMiLCJoZWFkZXJzIiwibWFwIiwiZm9yRWFjaCIsIkFycmF5IiwiaXNBcnJheSIsImhlYWRlciIsImdldE93blByb3BlcnR5TmFtZXMiLCJjb25zdW1lZCIsImJvZHlVc2VkIiwiUHJvbWlzZSIsInJlamVjdCIsImZpbGVSZWFkZXJSZWFkeSIsInJlYWRlciIsInJlc29sdmUiLCJvbmxvYWQiLCJyZXN1bHQiLCJvbmVycm9yIiwiZXJyb3IiLCJyZWFkQmxvYkFzQXJyYXlCdWZmZXIiLCJGaWxlUmVhZGVyIiwicHJvbWlzZSIsInJlYWRBc0FycmF5QnVmZmVyIiwicmVhZEJsb2JBc1RleHQiLCJyZWFkQXNUZXh0IiwicmVhZEFycmF5QnVmZmVyQXNUZXh0IiwiYnVmIiwidmlldyIsIlVpbnQ4QXJyYXkiLCJjaGFycyIsImZyb21DaGFyQ29kZSIsImpvaW4iLCJidWZmZXJDbG9uZSIsInNsaWNlIiwiYnl0ZUxlbmd0aCIsImJ1ZmZlciIsIkJvZHkiLCJfaW5pdEJvZHkiLCJfYm9keUluaXQiLCJfYm9keVRleHQiLCJCbG9iIiwiaXNQcm90b3R5cGVPZiIsIl9ib2R5QmxvYiIsImZvcm1EYXRhIiwiX2JvZHlGb3JtRGF0YSIsInNlYXJjaFBhcmFtcyIsIlVSTFNlYXJjaFBhcmFtcyIsInRvU3RyaW5nIiwiYXJyYXlCdWZmZXIiLCJpc0RhdGFWaWV3IiwiX2JvZHlBcnJheUJ1ZmZlciIsIkFycmF5QnVmZmVyIiwiaXNBcnJheUJ1ZmZlclZpZXciLCJFcnJvciIsInR5cGUiLCJyZWplY3RlZCIsImRlY29kZSIsIkpTT04iLCJwYXJzZSIsIm5vcm1hbGl6ZU1ldGhvZCIsInVwY2FzZWQiLCJ0b1VwcGVyQ2FzZSIsIm1ldGhvZHMiLCJpbmRleE9mIiwiUmVxdWVzdCIsImlucHV0Iiwib3B0aW9ucyIsImNyZWRlbnRpYWxzIiwibW9kZSIsInJlZmVycmVyIiwiZm9ybSIsInRyaW0iLCJzcGxpdCIsImJ5dGVzIiwicmVwbGFjZSIsImRlY29kZVVSSUNvbXBvbmVudCIsInBhcnNlSGVhZGVycyIsInJhd0hlYWRlcnMiLCJsaW5lIiwicGFydHMiLCJSZXNwb25zZSIsImJvZHlJbml0Iiwic3RhdHVzIiwib2siLCJzdGF0dXNUZXh0IiwiZSIsInZpZXdDbGFzc2VzIiwib2JqIiwiRGF0YVZpZXciLCJpc1ZpZXciLCJvbGRWYWx1ZSIsImhhcyIsImNhbGxiYWNrIiwidGhpc0FyZyIsImtleXMiLCJwdXNoIiwidmFsdWVzIiwiZW50cmllcyIsInJlc3BvbnNlIiwicmVkaXJlY3RTdGF0dXNlcyIsInJlZGlyZWN0IiwiUmFuZ2VFcnJvciIsImxvY2F0aW9uIiwiaW5pdCIsInJlcXVlc3QiLCJ4aHIiLCJYTUxIdHRwUmVxdWVzdCIsImdldEFsbFJlc3BvbnNlSGVhZGVycyIsInJlc3BvbnNlVVJMIiwicmVzcG9uc2VUZXh0Iiwib250aW1lb3V0Iiwib3BlbiIsIndpdGhDcmVkZW50aWFscyIsInJlc3BvbnNlVHlwZSIsInNldFJlcXVlc3RIZWFkZXIiLCJzZW5kIiwicG9seWZpbGwiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX29iamVjdHNfZ2V0VXJsUGFyYW1ldGVyX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2xpYl9jYXJ0QVBJX18iLCJBdWRpb0NvbnRleHQiLCJ3aW5kb3ciLCJ3ZWJraXRBdWRpb0NvbnRleHQiLCJ0YXJnZXRJZCIsImF1ZGlvQ3R4IiwiJGF1ZGlvIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInBpdGNoU2hpZnRlclByb2Nlc3NvciIsInZhbGlkR3JhblNpemVzIiwiZ3JhaW5TaXplIiwicGl0Y2hSYXRpbyIsImxpbmVhckludGVycG9sYXRpb24iLCJhIiwiYiIsInQiLCJpbml0UHJvY2Vzc29yIiwiZGlzY29ubmVjdCIsImNyZWF0ZVNjcmlwdFByb2Nlc3NvciIsImNyZWF0ZUphdmFTY3JpcHROb2RlIiwiRmxvYXQzMkFycmF5IiwiZ3JhaW5XaW5kb3ciLCJoYW5uV2luZG93Iiwib25hdWRpb3Byb2Nlc3MiLCJldmVudCIsImlucHV0RGF0YSIsImlucHV0QnVmZmVyIiwiZ2V0Q2hhbm5lbERhdGEiLCJvdXRwdXREYXRhIiwib3V0cHV0QnVmZmVyIiwiZ3JhaW5EYXRhIiwiaiIsImluZGV4IiwiZmxvb3IiLCJyb3VuZCIsImNvbm5lY3QiLCJkZXN0aW5hdGlvbiIsInN0YXR1c0NvZGUiLCJpbm5lckhUTUwiLCJzcmMiLCJzZXRUaW1lb3V0IiwiQnVmZmVyTG9hZGVyIiwiYnVmZmVyTGlzdCIsImxvb3AiLCJzb3VyY2UiLCJhZGRFdmVudExpc3RlbmVyIiwic3RvcCIsImNyZWF0ZUJ1ZmZlclNvdXJjZSIsInN0YXJ0IiwibG9hZCIsImdldFVybFBhcmFtZXRlciIsInJlZ2V4IiwiUmVnRXhwIiwicmVzdWx0cyIsImV4ZWMiLCJzZWFyY2giXSwibWFwcGluZ3MiOiJDQUFTLFNBQVVBLEdDSW5CLFFBQUFDLEdBQUFDLEdBR0EsR0FBQUMsRUFBQUQsR0FDQSxNQUFBQyxHQUFBRCxHQUFBRSxPQUdBLElBQUFDLEdBQUFGLEVBQUFELElBQ0FJLEVBQUFKLEVBQ0FLLEdBQUEsRUFDQUgsV0FVQSxPQU5BSixHQUFBRSxHQUFBTSxLQUFBSCxFQUFBRCxRQUFBQyxJQUFBRCxRQUFBSCxHQUdBSSxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBdkJBLEdBQUFELEtBNEJBRixHQUFBUSxFQUFBVCxFQUdBQyxFQUFBUyxFQUFBUCxFQUdBRixFQUFBVSxFQUFBLFNBQUFQLEVBQUFRLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFWLEVBQUFRLElBQ0FHLE9BQUFDLGVBQUFaLEVBQUFRLEdBQ0FLLGNBQUEsRUFDQUMsWUFBQSxFQUNBQyxJQUFBTixLQU1BWixFQUFBbUIsRUFBQSxTQUFBZixHQUNBLEdBQUFRLEdBQUFSLEtBQUFnQixXQUNBLFdBQTJCLE1BQUFoQixHQUFBLFNBQzNCLFdBQWlDLE1BQUFBLEdBRWpDLE9BREFKLEdBQUFVLEVBQUFFLEVBQUEsSUFBQUEsR0FDQUEsR0FJQVosRUFBQWEsRUFBQSxTQUFB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cUJBQ2xCSCxFQUFPaEksT0FBUzhILEVBQVcsR0FJM0JFLEVBQU9ULFFBQVEzQixHQUNmb0MsRUFBT0QsS0FBT0EsRUFDZEMsRUFBT0ksWUFNQUMsT0FDYmpDLEtBR0MsV1I2ekNDLENBQ0EsQ0FFRixTQUFVOVksRUFBUXVCLEVBQXFCM0IsR0FFN0MsWVNoNENBLElBQU1vYixHQUFrQixTQUFBemEsR0FDdEJBLEVBQU9BLEVBQUswVSxRQUFRLE9BQVEsT0FBT0EsUUFBUSxPQUFRLE1BQ25ELElBQU1nRyxHQUFRLEdBQUlDLFFBQU8sU0FBVzNhLEVBQU8sYUFDckM0YSxFQUFVRixFQUFNRyxLQUFLdkUsU0FBU3dFLE9BQ3BDLE9BQW1CLFFBQVpGLEdBQTJCakcsbUJBQW1CaUcsRUFBUSxHQUFHbEcsUUFBUSxNQUFPLE1BR2pGMVQsR0FBQSIsImZpbGUiOiJqcy9zYW50YS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0aTogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsOiBmYWxzZSxcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9XG4vKioqKioqLyBcdFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4vKioqKioqLyBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuLyoqKioqKi8gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbi8qKioqKiovIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbi8qKioqKiovIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbi8qKioqKiovIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbi8qKioqKiovIFx0XHRcdH0pO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuLyoqKioqKi8gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuLyoqKioqKi8gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbi8qKioqKiovIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4vKioqKioqLyBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuLyoqKioqKi8gXHRcdHJldHVybiBnZXR0ZXI7XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLyoqKioqKi8gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxOSk7XG4vKioqKioqLyB9KVxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKiovIChbXG4vKiAwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xudmFyIENvbG9ycyA9IHtcbiAgc2tpbjogMHhmZmUwYmQsXG4gIGZyZWNrbGVzOiAweGNmYmE5NixcbiAgd2hpdGU6IDB4ZTllYmVlLFxuICBnbGFzc2VzOiAweGY5YzQyMSxcbiAgdGVldGg6IDB4ZmZmZmZmLFxuICBibGFjazogMHgyZTJlMmUsXG4gIGV5ZTogMHg2Mjk1YTgsXG4gIGhhdDogMHg3MjAzMTRcbn07XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gKENvbG9ycyk7XG5cbi8qKiovIH0pLFxuLyogMSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfaXNvbW9ycGhpY19mZXRjaF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfaXNvbW9ycGhpY19mZXRjaF9fX2RlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX2lzb21vcnBoaWNfZmV0Y2hfXyk7XG5cblxudmFyIHVybCA9ICcvYXBpL2NhcnQnO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gKHtcblxuICBjcmVhdGU6IGZ1bmN0aW9uIGNyZWF0ZShfcmVmKSB7XG4gICAgdmFyIHRleHQgPSBfcmVmLnRleHQsXG4gICAgICAgIGlkID0gX3JlZi5pZCxcbiAgICAgICAgbmFtZSA9IF9yZWYubmFtZSxcbiAgICAgICAgYmxvYiA9IF9yZWYuYmxvYjtcblxuICAgIHZhciBtZXRob2QgPSAnUE9TVCc7XG4gICAgLy8gY29uc3QgbmV3RmlsZU5hbWUgPSBgJHtpZC5zcGxpdChgIGApLmpvaW4oYF9gKX1gO1xuICAgIHZhciBib2R5ID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgYm9keS5hcHBlbmQoJ3RleHQnLCB0ZXh0KTtcbiAgICBib2R5LmFwcGVuZCgnaWQnLCBpZCk7XG4gICAgYm9keS5hcHBlbmQoJ25hbWUnLCBuYW1lKTtcbiAgICAvLyBib2R5LmFwcGVuZChgc291bmRgLCBibG9iLCBuZXdGaWxlTmFtZSk7XG5cbiAgICByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX2lzb21vcnBoaWNfZmV0Y2hfX19kZWZhdWx0KCkodXJsLCB7IG1ldGhvZDogbWV0aG9kLCBib2R5OiBib2R5IH0pLnRoZW4oZnVuY3Rpb24gKHIpIHtcbiAgICAgIHJldHVybiByLmpzb24oKTtcbiAgICB9KTtcbiAgfSxcblxuICByZWFkOiBmdW5jdGlvbiByZWFkKCkge1xuICAgIHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfaXNvbW9ycGhpY19mZXRjaF9fX2RlZmF1bHQoKSh1cmwgKyAnP2lzQWN0aXZlPXRydWUnKS50aGVuKGZ1bmN0aW9uIChyKSB7XG4gICAgICByZXR1cm4gci5qc29uKCk7XG4gICAgfSk7XG4gIH0sXG5cbiAgcmVhZE9uZTogZnVuY3Rpb24gcmVhZE9uZShpZCkge1xuICAgIHZhciBtZXRob2QgPSAnR0VUJztcbiAgICByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX2lzb21vcnBoaWNfZmV0Y2hfX19kZWZhdWx0KCkodXJsICsgJy8nICsgaWQsIHsgbWV0aG9kOiBtZXRob2QgfSkudGhlbihmdW5jdGlvbiAocikge1xuICAgICAgcmV0dXJuIHIuanNvbigpO1xuICAgIH0pO1xuICB9XG59KTtcblxuLyoqKi8gfSksXG4vKiAyICovLFxuLyogMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX29iamVjdHNfY29sb3JzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fb2JqZWN0c19NYXRlcmlhbHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5cblxuXG52YXIgaXNCbGlua2luZyA9IGZhbHNlO1xuXG52YXIgSGVhZCA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gSGVhZCgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSGVhZCk7XG5cbiAgICB0aGlzLm1lc2ggPSBuZXcgVEhSRUUuT2JqZWN0M0QoKTtcblxuICAgIHZhciBoZWFkR2VvbSA9IG5ldyBUSFJFRS5Cb3hCdWZmZXJHZW9tZXRyeSgxNiwgMTYsIDE2KTtcbiAgICB2YXIgc2tpbk1hdCA9IG5ldyBUSFJFRS5NZXNoTGFtYmVydE1hdGVyaWFsKHsgY29sb3I6IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fb2JqZWN0c19jb2xvcnNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS5za2luLCBmbGF0U2hhZGluZzogdHJ1ZSB9KTtcbiAgICB2YXIgZXllTWF0ID0gbmV3IFRIUkVFLk1lc2hQaG9uZ01hdGVyaWFsKHsgY29sb3I6IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fb2JqZWN0c19jb2xvcnNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS5leWUsIGZsYXRTaGFkaW5nOiB0cnVlIH0pO1xuXG4gICAgdGhpcy5oZWFkID0gbmV3IFRIUkVFLk1lc2goaGVhZEdlb20sIHNraW5NYXQpO1xuICAgIHRoaXMuaGVhZC5jYXN0U2hhZG93ID0gdHJ1ZTtcbiAgICB0aGlzLmhlYWQucmVjZWl2ZVNoYWRvdyA9IGZhbHNlO1xuICAgIHRoaXMubWVzaC5hZGQodGhpcy5oZWFkKTtcblxuICAgIHRoaXMuYmVhcmQgPSBuZXcgVEhSRUUuT2JqZWN0M0QoKTtcbiAgICB0aGlzLmJlYXJkLnBvc2l0aW9uLnkgPSAtNztcbiAgICB0aGlzLmJlYXJkLnBvc2l0aW9uLnogPSAwLjU7XG4gICAgdGhpcy5oZWFkLmFkZCh0aGlzLmJlYXJkKTtcbiAgICB2YXIgc3RhcnMgPSB2b2lkIDA7XG5cbiAgICB0aGlzLkJlYXJkKCk7XG4gICAgdGhpcy5HbGFzc2VzKCk7XG4gICAgdGhpcy5IYWlyKCk7XG4gICAgdGhpcy5FeWVzKCk7XG4gICAgdGhpcy5FeWVCcm93cygpO1xuICAgIHRoaXMuSGF0KCk7XG4gICAgdGhpcy5GcmVja2xlcygpO1xuICAgIHRoaXMuRmVhdHVyZXMoKTtcbiAgICB0aGlzLmlkbGUoKTtcbiAgICAvLyAgICB0aGlzLmRpenp5KCk7XG4gICAgLy8gICAgdGhpcy5TdGFyKCk7XG4gICAgLy8gICAgdGhpcy5TdGFyc0dyb3VwKCk7XG4gICAgdGhpcy5ub3JtYWxpemUoKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhIZWFkLCBbe1xuICAgIGtleTogJ25vcm1hbGl6ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG5vcm1hbGl6ZSh2LCB2bWluLCB2bWF4LCB0bWluLCB0bWF4KSB7XG4gICAgICB2YXIgbnYgPSBNYXRoLm1heChNYXRoLm1pbih2LCB2bWF4KSwgdm1pbik7XG4gICAgICB2YXIgZHYgPSB2bWF4IC0gdm1pbjtcbiAgICAgIHZhciBwYyA9IChudiAtIHZtaW4pIC8gZHY7XG4gICAgICB2YXIgZHQgPSB0bWF4IC0gdG1pbjtcbiAgICAgIHZhciB0diA9IHRtaW4gKyBwYyAqIGR0O1xuICAgICAgcmV0dXJuIHR2O1xuICAgIH1cblxuICAgIC8vIFN0YXIoKSB7XG4gICAgLy8gICB0aGlzLm1lc2ggPSBuZXcgVEhSRUUuT2JqZWN0M0QoKTtcbiAgICAvL1xuICAgIC8vICAgbGV0IHB0cyA9IFtdLFxuICAgIC8vICAgICBudW1QdHMgPSA1O1xuICAgIC8vICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1QdHMgKiAyOyBpKyspIHtcbiAgICAvLyAgICAgbGV0IGwgPSBpICUgMiA9PSAxXG4gICAgLy8gICAgICAgPyAxXG4gICAgLy8gICAgICAgOiAyO1xuICAgIC8vICAgICBsZXQgYSA9IGkgLyBudW1QdHMgKiBNYXRoLlBJO1xuICAgIC8vICAgICBwdHMucHVzaChuZXcgVEhSRUUuVmVjdG9yMihNYXRoLmNvcyhhKSAqIGwsIE1hdGguc2luKGEpICogbCkpO1xuICAgIC8vICAgfVxuICAgIC8vICAgbGV0IHN0YXJTaGFwZSA9IG5ldyBUSFJFRS5TaGFwZShwdHMpO1xuICAgIC8vXG4gICAgLy8gICBsZXQgZXh0cnVkZVNldHRpbmdzID0ge1xuICAgIC8vICAgICBhbW91bnQ6IDAuNSxcbiAgICAvLyAgICAgc3RlcHM6IDEsXG4gICAgLy8gICAgIGJldmVsRW5hYmxlZDogZmFsc2VcbiAgICAvLyAgIH07XG4gICAgLy8gICBsZXQgc3Rhckdlb20gPSBuZXcgVEhSRUUuRXh0cnVkZUdlb21ldHJ5KHN0YXJTaGFwZSwgZXh0cnVkZVNldHRpbmdzKTtcbiAgICAvL1xuICAgIC8vICAgbGV0IHN0YXIgPSBuZXcgVEhSRUUuTWVzaChzdGFyR2VvbSwgTWF0LndoaXRlTWF0KTtcbiAgICAvL1xuICAgIC8vICAgc3Rhci5yb3RhdGlvbi54ID0gTWF0aC5QSSAvIDI7XG4gICAgLy9cbiAgICAvLyAgIHRoaXMubWVzaC5hZGQoc3Rhcik7XG4gICAgLy8gfVxuXG4gICAgLy8gU3RhcnNHcm91cCgpe1xuICAgIC8vICAgdGhpcy5tZXNoID0gbmV3IFRIUkVFLk9iamVjdDNEKCk7XG4gICAgLy9cbiAgICAvLyAgIHRoaXMublN0YXJzID0gMTU7XG4gICAgLy8gICBjb25zdCBzdGFyQXJyYXkgPSBbXTtcbiAgICAvLyAgIGxldCBzdGVwQW5nbGUgPSBNYXRoLlBJICogMiAvIHRoaXMublN0YXJzO1xuICAgIC8vXG4gICAgLy8gICAvLyBDcmVhdGUgdGhlIFN0YXJzXG4gICAgLy8gICAvLyBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMublN0YXJzOyBpKyspIHtcbiAgICAvLyAgIC8vXG4gICAgLy8gICAvLyAgIC8vIHRoaXMucyA9IHRoaXMuU3RhcigpO1xuICAgIC8vICAgLy8gICAvLyBsZXQgYSA9IHN0ZXBBbmdsZSAqIGk7XG4gICAgLy8gICAvLyAgIC8vIGxldCByID0gMTU7XG4gICAgLy8gICAvLyAgIC8vXG4gICAgLy8gICAvLyAgIC8vIHRoaXMucy5tZXNoLnBvc2l0aW9uLnkgPSBNYXRoLnNpbihhKSAqIHI7XG4gICAgLy8gICAvLyAgIC8vIHRoaXMucy5tZXNoLnBvc2l0aW9uLnggPSBNYXRoLmNvcyhhKSAqIHI7XG4gICAgLy8gICAvLyAgIC8vXG4gICAgLy8gICAvLyAgIC8vIHRoaXMucy5tZXNoLnJvdGF0aW9uLnogPSBhICsgTWF0aC5QSSAvIDI7XG4gICAgLy8gICAvLyAgIC8vIHRoaXMucy5tZXNoLnBvc2l0aW9uLnogPSAwIC0gTWF0aC5yYW5kb20oKSAqIDM7XG4gICAgLy8gICAvLyAgIC8vXG4gICAgLy8gICAvLyAgIC8vIC8vICByYW5kb20gc2NhbGUgZm9yIGVhY2ggY2xvdWRcbiAgICAvLyAgIC8vICAgLy8gbGV0IHNjID0gMC41ICsgTWF0aC5yYW5kb20oKSAqIC42O1xuICAgIC8vICAgLy8gICAvLyB0aGlzLnMubWVzaC5zY2FsZS5zZXQoc2MsIHNjLCBzYyk7XG4gICAgLy8gICAvLyAgIC8vXG4gICAgLy8gICAvLyAgIC8vIHRoaXMubWVzaC5hZGQodGhpcy5zLm1lc2gpO1xuICAgIC8vICAgLy9cbiAgICAvLyAgIC8vICAgc3RhckFycmF5LnB1c2godGhpcy5zKTtcbiAgICAvLyAgIC8vfVxuICAgIC8vICAgdGhpcy5tZXNoLnJvdGF0aW9uLnggPSBNYXRoLlBJIC8gMjtcbiAgICAvLyB9XG5cbiAgICAvLyBzcGluU2NhbGUoKSB7XG4gICAgLy8gICB0aGlzLm1lc2gucm90YXRpb24ueiArPSAwLjAyO1xuICAgIC8vXG4gICAgLy8gICBmb3IgKGxldCBpID0gMDsgaSA8IHN0YXJBcnJheS5sZW5ndGg7IGkrKykge1xuICAgIC8vICAgICAgc3RhckFycmF5W2ldLm1lc2gucm90YXRpb24ueCA9IE1hdGguc2luKERhdGUubm93KCkgKiAwLjAxKSAqIE1hdGguUEkgKiAwLjEgO1xuICAgIC8vICAgICBzdGFyQXJyYXlbaV0ubWVzaC5yb3RhdGlvbi56ICs9IDAgLSBNYXRoLnJhbmRvbSgpICogMC4xNTtcbiAgICAvLyAgICAgc3RhckFycmF5W2ldLm1lc2gucm90YXRpb24ueCArPSAwIC0gTWF0aC5yYW5kb20oKSAqIDAuMDU7XG4gICAgLy9cbiAgICAvLyAgIH1cbiAgICAvLyB9XG5cbiAgICAvLyBkaXp6eSgpIHtcbiAgICAvLyAgIHRoaXMuc3RhcnMgPSB0aGlzLlN0YXJzR3JvdXAoKTtcbiAgICAvL1xuICAgIC8vICAgLy8gdGhpcy5zdGFycy5tZXNoLnBvc2l0aW9uLnNldCgwLCAxMCwgMCk7XG4gICAgLy8gICBsZXQgZGlzdGFuY2UgPSAxO1xuICAgIC8vXG4gICAgLy8gICB0aGlzLmhlYWQucm90YXRpb24ueiA9IE1hdGguc2luKERhdGUubm93KCkgKiAwLjAwNSkgKiBNYXRoLlBJICogMC4wMTtcbiAgICAvLyAgIHRoaXMuaGVhZC5yb3RhdGlvbi54ID0gTWF0aC5zaW4oRGF0ZS5ub3coKSAqIDAuMDEpICogTWF0aC5QSSAqIDAuMDE7XG4gICAgLy8gICB0aGlzLmhlYWQucm90YXRpb24ueSA9IE1hdGguc2luKERhdGUubm93KCkgKiAwLjAwNSkgKiBNYXRoLlBJICogMC4wMTtcbiAgICAvL1xuICAgIC8vICAgdGhpcy5tb3VzdGFjaGUucm90YXRpb24ueiA9IE1hdGguc2luKERhdGUubm93KCkgKiAwLjAwNSkgKiBNYXRoLlBJICogMC4wNTtcbiAgICAvL1xuICAgIC8vICAgdGhpcy5zdGFycy5zcGluU2NhbGUoKTtcbiAgICAvLyB9XG5cbiAgfSwge1xuICAgIGtleTogJ3VwZGF0ZUJvZHknLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVCb2R5KHNwZWVkLCBleWVCbHVlUmlnaHRQb3NYLCBleWVCbHVlTGVmdFBvc1gsIGV5ZUJsdWVSaWdodFBvc1ksIGV5ZUJsdWVMZWZ0UG9zWSwgZXllQnJvd1JpZ2h0UG9zWSwgZXllQnJvd0xlZnRQb3NZKSB7XG4gICAgICB0aGlzLmV5ZUJsdWVSaWdodC5wb3NpdGlvbi54ICs9IChleWVCbHVlUmlnaHRQb3NYIC0gdGhpcy5leWVCbHVlUmlnaHQucG9zaXRpb24ueCkgLyBzcGVlZDtcbiAgICAgIHRoaXMuZXllQmx1ZUxlZnQucG9zaXRpb24ueCArPSAoZXllQmx1ZUxlZnRQb3NYIC0gdGhpcy5leWVCbHVlTGVmdC5wb3NpdGlvbi54KSAvIHNwZWVkO1xuXG4gICAgICB0aGlzLmV5ZUJsdWVSaWdodC5wb3NpdGlvbi55ICs9IChleWVCbHVlUmlnaHRQb3NZIC0gdGhpcy5leWVCbHVlUmlnaHQucG9zaXRpb24ueSkgLyBzcGVlZDtcbiAgICAgIHRoaXMuZXllQmx1ZUxlZnQucG9zaXRpb24ueSArPSAoZXllQmx1ZUxlZnRQb3NZIC0gdGhpcy5leWVCbHVlTGVmdC5wb3NpdGlvbi55KSAvIHNwZWVkO1xuXG4gICAgICB0aGlzLmV5ZUJyb3dSaWdodC5wb3NpdGlvbi55ICs9IChleWVCcm93UmlnaHRQb3NZIC0gdGhpcy5leWVCcm93UmlnaHQucG9zaXRpb24ueSkgLyBzcGVlZDtcbiAgICAgIHRoaXMuZXllQnJvd0xlZnQucG9zaXRpb24ueSArPSAoZXllQnJvd0xlZnRQb3NZIC0gdGhpcy5leWVCcm93TGVmdC5wb3NpdGlvbi55KSAvIHNwZWVkO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2lkbGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpZGxlKCkge1xuICAgICAgdmFyIHhUYXJnZXQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDA7XG4gICAgICB2YXIgeVRhcmdldCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDtcblxuICAgICAgdmFyIGRpc3RhbmNlID0gMTtcblxuICAgICAgdGhpcy5oZWFkLnJvdGF0aW9uLnogPSBNYXRoLnNpbihEYXRlLm5vdygpICogMC4wMDUpICogTWF0aC5QSSAqIDAuMDA1O1xuICAgICAgdGhpcy5oZWFkLnJvdGF0aW9uLnggPSBNYXRoLnNpbihEYXRlLm5vdygpICogMC4wMDQpICogTWF0aC5QSSAqIDAuMDM7XG5cbiAgICAgIHZhciBleWVCbHVlUmlnaHRQb3NYID0gdGhpcy5ub3JtYWxpemUoeFRhcmdldCwgLTIwMCwgMjAwLCAtMC42LCAwLjYpO1xuICAgICAgdmFyIGV5ZUJsdWVMZWZ0UG9zWCA9IHRoaXMubm9ybWFsaXplKHhUYXJnZXQsIC0yMDAsIDIwMCwgLTAuNiwgMC42KTtcblxuICAgICAgdmFyIGV5ZUJsdWVSaWdodFBvc1kgPSB0aGlzLm5vcm1hbGl6ZSh5VGFyZ2V0LCAtMjAwLCAyMDAsIDAuNiwgLTAuNik7XG4gICAgICB2YXIgZXllQmx1ZUxlZnRQb3NZID0gdGhpcy5ub3JtYWxpemUoeVRhcmdldCwgLTIwMCwgMjAwLCAwLjYsIC0wLjYpO1xuXG4gICAgICB2YXIgZXllQnJvd1JpZ2h0UG9zWSA9IHRoaXMubm9ybWFsaXplKHhUYXJnZXQsIC0yMDAsIDIwMCwgLTEsIDAuOCk7XG4gICAgICB2YXIgZXllQnJvd0xlZnRQb3NZID0gdGhpcy5ub3JtYWxpemUoeFRhcmdldCwgLTIwMCwgMjAwLCAtMSwgMC44KTtcblxuICAgICAgdGhpcy5tb3VzdGFjaGUucG9zaXRpb24ueSA9IE1hdGguY29zKERhdGUubm93KCkgKiAwLjAxKSAqIGRpc3RhbmNlIC8gNDtcbiAgICAgIHRoaXMubW91c3RhY2hlLnJvdGF0aW9uLnogPSBNYXRoLnNpbihEYXRlLm5vdygpICogMC4wMSkgKiBNYXRoLlBJICogMC4wMTtcblxuICAgICAgdGhpcy5tZXNoLnJvdGF0aW9uLnkgPSBNYXRoLnNpbihEYXRlLm5vdygpICogMC4wMDIpICogTWF0aC5QSSAqIDAuMDU7XG4gICAgICB0aGlzLnVwZGF0ZUJvZHkoMTAsIGV5ZUJsdWVSaWdodFBvc1gsIGV5ZUJsdWVMZWZ0UG9zWCwgZXllQmx1ZVJpZ2h0UG9zWSwgZXllQmx1ZUxlZnRQb3NZLCBleWVCcm93UmlnaHRQb3NZLCBleWVCcm93TGVmdFBvc1kpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ0JlYXJkJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gQmVhcmQoKSB7XG4gICAgICB2YXIgYmVhcmRHZW9tTWVyZ2VkID0gbmV3IFRIUkVFLkdlb21ldHJ5KCk7XG5cbiAgICAgIHZhciBiZWFyZDFHZW9tID0gbmV3IFRIUkVFLkJveEdlb21ldHJ5KDIsIDEwLCAxNik7XG5cbiAgICAgIHZhciBiZWFyZDEgPSBuZXcgVEhSRUUuTWVzaChiZWFyZDFHZW9tLCBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX29iamVjdHNfTWF0ZXJpYWxzX19bXCJhXCIgLyogZGVmYXVsdCAqL10ud2hpdGVNYXQpO1xuICAgICAgYmVhcmQxLmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVRyYW5zbGF0aW9uKDksIDAsIDApKTtcbiAgICAgIGJlYXJkMS51cGRhdGVNYXRyaXgoKTtcbiAgICAgIGJlYXJkR2VvbU1lcmdlZC5tZXJnZShiZWFyZDEuZ2VvbWV0cnksIGJlYXJkMS5tYXRyaXgpO1xuXG4gICAgICB2YXIgYmVhcmQyID0gbmV3IFRIUkVFLk1lc2goYmVhcmQxR2VvbSwgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19vYmplY3RzX01hdGVyaWFsc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLndoaXRlTWF0KTtcbiAgICAgIGJlYXJkMi5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VUcmFuc2xhdGlvbig3LCAtMiwgMikpO1xuICAgICAgYmVhcmQyLnNjYWxlLnogPSAwLjg7XG4gICAgICBiZWFyZDIudXBkYXRlTWF0cml4KCk7XG4gICAgICBiZWFyZEdlb21NZXJnZWQubWVyZ2UoYmVhcmQyLmdlb21ldHJ5LCBiZWFyZDIubWF0cml4KTtcblxuICAgICAgdmFyIGJlYXJkMyA9IGJlYXJkMS5jbG9uZSgpO1xuICAgICAgYmVhcmQzLnBvc2l0aW9uLnggPSAtYmVhcmQxLnBvc2l0aW9uLng7XG4gICAgICBiZWFyZDMudXBkYXRlTWF0cml4KCk7XG4gICAgICBiZWFyZEdlb21NZXJnZWQubWVyZ2UoYmVhcmQzLmdlb21ldHJ5LCBiZWFyZDMubWF0cml4KTtcblxuICAgICAgdmFyIGJlYXJkNCA9IGJlYXJkMi5jbG9uZSgpO1xuICAgICAgYmVhcmQ0LnBvc2l0aW9uLnggPSAtYmVhcmQyLnBvc2l0aW9uLng7XG4gICAgICBiZWFyZDQudXBkYXRlTWF0cml4KCk7XG4gICAgICBiZWFyZEdlb21NZXJnZWQubWVyZ2UoYmVhcmQ0Lmdlb21ldHJ5LCBiZWFyZDQubWF0cml4KTtcblxuICAgICAgdmFyIGJlYXJkMkdlb20gPSBuZXcgVEhSRUUuQm94R2VvbWV0cnkoMywgMTQsIDEwKTtcbiAgICAgIGJlYXJkMkdlb20udmVydGljZXNbMl0ueiAtPSAyO1xuICAgICAgYmVhcmQyR2VvbS52ZXJ0aWNlc1s3XS56IC09IDI7XG5cbiAgICAgIHZhciBiZWFyZDUgPSBuZXcgVEhSRUUuTWVzaChiZWFyZDJHZW9tLCBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX29iamVjdHNfTWF0ZXJpYWxzX19bXCJhXCIgLyogZGVmYXVsdCAqL10ud2hpdGVNYXQpO1xuICAgICAgYmVhcmQ1LmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVRyYW5zbGF0aW9uKDUsIC01LCA0KSk7XG4gICAgICBiZWFyZDUudXBkYXRlTWF0cml4KCk7XG4gICAgICBiZWFyZEdlb21NZXJnZWQubWVyZ2UoYmVhcmQ1Lmdlb21ldHJ5LCBiZWFyZDUubWF0cml4KTtcblxuICAgICAgdmFyIGJlYXJkM0dlb20gPSBuZXcgVEhSRUUuQm94R2VvbWV0cnkoMi41LCAxNCwgMTApO1xuICAgICAgYmVhcmQzR2VvbS52ZXJ0aWNlc1syXS56IC09IDI7XG4gICAgICBiZWFyZDNHZW9tLnZlcnRpY2VzWzddLnogLT0gMjtcblxuICAgICAgdmFyIGJlYXJkNiA9IG5ldyBUSFJFRS5NZXNoKGJlYXJkM0dlb20sIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fb2JqZWN0c19NYXRlcmlhbHNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS53aGl0ZU1hdCk7XG4gICAgICBiZWFyZDYuYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlVHJhbnNsYXRpb24oMi41LCAtNiwgNikpO1xuICAgICAgYmVhcmQ2LnVwZGF0ZU1hdHJpeCgpO1xuICAgICAgYmVhcmRHZW9tTWVyZ2VkLm1lcmdlKGJlYXJkNi5nZW9tZXRyeSwgYmVhcmQ2Lm1hdHJpeCk7XG5cbiAgICAgIHZhciBiZWFyZDcgPSBiZWFyZDUuY2xvbmUoKTtcbiAgICAgIGJlYXJkNy5wb3NpdGlvbi54ID0gLWJlYXJkNS5wb3NpdGlvbi54O1xuICAgICAgYmVhcmQ3LnVwZGF0ZU1hdHJpeCgpO1xuICAgICAgYmVhcmRHZW9tTWVyZ2VkLm1lcmdlKGJlYXJkNy5nZW9tZXRyeSwgYmVhcmQ3Lm1hdHJpeCk7XG5cbiAgICAgIHZhciBiZWFyZDggPSBiZWFyZDYuY2xvbmUoKTtcbiAgICAgIGJlYXJkOC5wb3NpdGlvbi54ID0gLWJlYXJkNi5wb3NpdGlvbi54O1xuICAgICAgYmVhcmQ4LnVwZGF0ZU1hdHJpeCgpO1xuICAgICAgYmVhcmRHZW9tTWVyZ2VkLm1lcmdlKGJlYXJkOC5nZW9tZXRyeSwgYmVhcmQ4Lm1hdHJpeCk7XG5cbiAgICAgIHZhciBiZWFyZDRHZW9tID0gbmV3IFRIUkVFLkJveEdlb21ldHJ5KDIuNSwgMTQuNSwgMTApO1xuICAgICAgYmVhcmQ0R2VvbS52ZXJ0aWNlc1syXS56IC09IDE7XG4gICAgICBiZWFyZDRHZW9tLnZlcnRpY2VzWzddLnogLT0gMTtcblxuICAgICAgdmFyIGJlYXJkOSA9IG5ldyBUSFJFRS5NZXNoKGJlYXJkNEdlb20sIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fb2JqZWN0c19NYXRlcmlhbHNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS53aGl0ZU1hdCk7XG4gICAgICBiZWFyZDkuYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlVHJhbnNsYXRpb24oMCwgLTcsIDUuNzUpKTtcbiAgICAgIGJlYXJkOS51cGRhdGVNYXRyaXgoKTtcbiAgICAgIGJlYXJkR2VvbU1lcmdlZC5tZXJnZShiZWFyZDkuZ2VvbWV0cnksIGJlYXJkOS5tYXRyaXgpO1xuXG4gICAgICB2YXIgYmVhcmQ1R2VvbSA9IG5ldyBUSFJFRS5Cb3hHZW9tZXRyeSg0LCA4LCA4KTtcbiAgICAgIHZhciBiZWFyZDEwID0gbmV3IFRIUkVFLk1lc2goYmVhcmQ1R2VvbSwgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19vYmplY3RzX01hdGVyaWFsc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLndoaXRlTWF0KTtcbiAgICAgIGJlYXJkMTAuYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlVHJhbnNsYXRpb24oLTYsIC0xLCAtMikpO1xuICAgICAgYmVhcmQxMC51cGRhdGVNYXRyaXgoKTtcbiAgICAgIGJlYXJkR2VvbU1lcmdlZC5tZXJnZShiZWFyZDEwLmdlb21ldHJ5LCBiZWFyZDEwLm1hdHJpeCk7XG5cbiAgICAgIHZhciBiZWFyZDExID0gbmV3IFRIUkVFLk1lc2goYmVhcmQ1R2VvbSwgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19vYmplY3RzX01hdGVyaWFsc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLndoaXRlTWF0KTtcbiAgICAgIGJlYXJkMTEuYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlVHJhbnNsYXRpb24oMCwgLTUsIC0yKSk7XG4gICAgICBiZWFyZDExLnVwZGF0ZU1hdHJpeCgpO1xuICAgICAgYmVhcmRHZW9tTWVyZ2VkLm1lcmdlKGJlYXJkMTEuZ2VvbWV0cnksIGJlYXJkMTEubWF0cml4KTtcblxuICAgICAgdmFyIGJlYXJkTWVyZ2VkID0gbmV3IFRIUkVFLk1lc2goYmVhcmRHZW9tTWVyZ2VkLCBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX29iamVjdHNfTWF0ZXJpYWxzX19bXCJhXCIgLyogZGVmYXVsdCAqL10ud2hpdGVNYXQpO1xuICAgICAgYmVhcmRNZXJnZWQuY2FzdFNoYWRvdyA9IHRydWU7XG4gICAgICBiZWFyZE1lcmdlZC5yZWNlaXZlU2hhZG93ID0gdHJ1ZTtcblxuICAgICAgdmFyIG1vdXRoR2VvbSA9IG5ldyBUSFJFRS5Cb3hHZW9tZXRyeSgxMCwgNCwgMSk7XG4gICAgICB2YXIgbW91dGggPSBuZXcgVEhSRUUuTWVzaChtb3V0aEdlb20sIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fb2JqZWN0c19NYXRlcmlhbHNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS5ibGFja01hdCk7XG4gICAgICBtb3V0aC5wb3NpdGlvbi5zZXQoMCwgMiwgOCk7XG4gICAgICBtb3V0aC5jYXN0U2hhZG93ID0gZmFsc2U7XG4gICAgICBtb3V0aC5yZWNlaXZlU2hhZG93ID0gdHJ1ZTtcblxuICAgICAgdmFyIHRlZXRoR2VvbSA9IG5ldyBUSFJFRS5Cb3hHZW9tZXRyeSgxMCwgMSwgMSk7XG4gICAgICB2YXIgdGVldGggPSBuZXcgVEhSRUUuTWVzaCh0ZWV0aEdlb20sIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fb2JqZWN0c19NYXRlcmlhbHNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS50ZWV0aE1hdCk7XG4gICAgICB0ZWV0aC5wb3NpdGlvbi5zZXQoMCwgMC41LCAwLjEpO1xuICAgICAgdGVldGguY2FzdFNoYWRvdyA9IGZhbHNlO1xuICAgICAgdGVldGgucmVjZWl2ZVNoYWRvdyA9IHRydWU7XG4gICAgICBtb3V0aC5hZGQodGVldGgpO1xuXG4gICAgICB0aGlzLmJlYXJkLmFkZChiZWFyZE1lcmdlZCwgbW91dGgpO1xuXG4gICAgICB2YXIgbW91c3RhY2hlR2VvbSA9IG5ldyBUSFJFRS5Cb3hHZW9tZXRyeSgxNCwgMywgMywgMyk7XG4gICAgICBtb3VzdGFjaGVHZW9tLnZlcnRpY2VzWzBdLnkgLT0gMjtcbiAgICAgIG1vdXN0YWNoZUdlb20udmVydGljZXNbMV0ueSAtPSAyO1xuICAgICAgbW91c3RhY2hlR2VvbS52ZXJ0aWNlc1syXS55IC09IDI7XG4gICAgICBtb3VzdGFjaGVHZW9tLnZlcnRpY2VzWzNdLnkgLT0gMjtcbiAgICAgIG1vdXN0YWNoZUdlb20udmVydGljZXNbNF0ueSAtPSAyO1xuICAgICAgbW91c3RhY2hlR2VvbS52ZXJ0aWNlc1s1XS55IC09IDI7XG4gICAgICBtb3VzdGFjaGVHZW9tLnZlcnRpY2VzWzZdLnkgLT0gMjtcbiAgICAgIG1vdXN0YWNoZUdlb20udmVydGljZXNbN10ueSAtPSAyO1xuICAgICAgbW91c3RhY2hlR2VvbS52ZXJ0aWNlc1s4XS54IC09IDE7XG4gICAgICBtb3VzdGFjaGVHZW9tLnZlcnRpY2VzWzldLnggKz0gMTtcblxuICAgICAgbW91c3RhY2hlR2VvbS5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VUcmFuc2xhdGlvbigwLCA0LCAwKSk7XG4gICAgICB0aGlzLm1vdXN0YWNoZSA9IG5ldyBUSFJFRS5NZXNoKG1vdXN0YWNoZUdlb20sIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fb2JqZWN0c19NYXRlcmlhbHNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS53aGl0ZU1hdCk7XG4gICAgICB0aGlzLm1vdXN0YWNoZS5jYXN0U2hhZG93ID0gdHJ1ZTtcbiAgICAgIHRoaXMubW91c3RhY2hlLnJlY2VpdmVTaGFkb3cgPSB0cnVlO1xuXG4gICAgICB0aGlzLm1vdXN0YWNoZS5wb3NpdGlvbi5zZXQoMCwgMCwgOSk7XG4gICAgICB0aGlzLmJlYXJkLmFkZCh0aGlzLm1vdXN0YWNoZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnR2xhc3NlcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIEdsYXNzZXMoKSB7XG5cbiAgICAgIHRoaXMuZ2xhc3NlcyA9IG5ldyBUSFJFRS5PYmplY3QzRCgpO1xuICAgICAgdGhpcy5nbGFzc2VzLnBvc2l0aW9uLnNldCgwLCAwLCA5KTtcbiAgICAgIHRoaXMuaGVhZC5hZGQodGhpcy5nbGFzc2VzKTtcbiAgICAgIHZhciBnbGFzc2VzTWF0ID0gbmV3IFRIUkVFLk1lc2hQaG9uZ01hdGVyaWFsKHsgY29sb3I6IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fb2JqZWN0c19jb2xvcnNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS5nbGFzc2VzLCBmbGF0U2hhZGluZzogdHJ1ZSB9KTtcblxuICAgICAgdmFyIGZyYW1lR2VvbU1lcmdlZCA9IG5ldyBUSFJFRS5HZW9tZXRyeSgpO1xuXG4gICAgICB2YXIgZnJhbWVPdXRlckdlb20gPSBuZXcgVEhSRUUuQ3lsaW5kZXJHZW9tZXRyeSgzLCAzLCAwLjUsIDMyKTtcbiAgICAgIHZhciBmcmFtZUlubmVyR2VvbSA9IG5ldyBUSFJFRS5DeWxpbmRlckdlb21ldHJ5KDIuNywgMi43LCAwLjUsIDMyKTtcblxuICAgICAgZnJhbWVPdXRlckdlb20uYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlUm90YXRpb25YKC1NYXRoLlBJIC8gMikpO1xuICAgICAgZnJhbWVJbm5lckdlb20uYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlUm90YXRpb25YKC1NYXRoLlBJIC8gMikpO1xuXG4gICAgICB2YXIgZnJhbWVCU1AgPSBuZXcgVGhyZWVCU1AoZnJhbWVPdXRlckdlb20pO1xuICAgICAgdmFyIGZyYW1lQ3V0QlNQID0gbmV3IFRocmVlQlNQKGZyYW1lSW5uZXJHZW9tKTtcblxuICAgICAgdmFyIGZyYW1laW50ZXJzZWN0aW9uQlNQID0gZnJhbWVCU1Auc3VidHJhY3QoZnJhbWVDdXRCU1ApO1xuICAgICAgdmFyIGZyYW1lTGVmdCA9IGZyYW1laW50ZXJzZWN0aW9uQlNQLnRvTWVzaChnbGFzc2VzTWF0KTtcblxuICAgICAgZnJhbWVMZWZ0LmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVRyYW5zbGF0aW9uKDQsIDMsIDApKTtcbiAgICAgIGZyYW1lTGVmdC51cGRhdGVNYXRyaXgoKTtcbiAgICAgIGZyYW1lR2VvbU1lcmdlZC5tZXJnZShmcmFtZUxlZnQuZ2VvbWV0cnksIGZyYW1lTGVmdC5tYXRyaXgpO1xuXG4gICAgICB2YXIgZnJhbWVSaWdodCA9IGZyYW1lTGVmdC5jbG9uZSgpO1xuICAgICAgZnJhbWVSaWdodC5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VSb3RhdGlvblooTWF0aC5QSSAvIDMwKSk7XG4gICAgICBmcmFtZVJpZ2h0LmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVRyYW5zbGF0aW9uKC03LjUsIC0wLjI1LCAwKSk7XG4gICAgICBmcmFtZVJpZ2h0LnVwZGF0ZU1hdHJpeCgpO1xuICAgICAgZnJhbWVHZW9tTWVyZ2VkLm1lcmdlKGZyYW1lUmlnaHQuZ2VvbWV0cnksIGZyYW1lUmlnaHQubWF0cml4KTtcblxuICAgICAgdmFyIGZyYW1lTWlkR2VvbSA9IG5ldyBUSFJFRS5Cb3hHZW9tZXRyeSgyLCAuMywgLjUpO1xuICAgICAgdmFyIGZyYW1lTWlkID0gbmV3IFRIUkVFLk1lc2goZnJhbWVNaWRHZW9tLCBnbGFzc2VzTWF0KTtcbiAgICAgIGZyYW1lTWlkLmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVRyYW5zbGF0aW9uKDAsIDMuMywgLTAuMykpO1xuICAgICAgZnJhbWVNaWQudXBkYXRlTWF0cml4KCk7XG4gICAgICBmcmFtZUdlb21NZXJnZWQubWVyZ2UoZnJhbWVNaWQuZ2VvbWV0cnksIGZyYW1lTWlkLm1hdHJpeCk7XG5cbiAgICAgIHZhciBmcmFtZUVuZEdlb20gPSBuZXcgVEhSRUUuQm94R2VvbWV0cnkoMS41LCAuNSwgMSk7XG4gICAgICB2YXIgZnJhbWVFbmRSaWdodCA9IG5ldyBUSFJFRS5NZXNoKGZyYW1lRW5kR2VvbSwgZ2xhc3Nlc01hdCk7XG4gICAgICBmcmFtZUVuZFJpZ2h0LmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVRyYW5zbGF0aW9uKDcuNSwgMywgMCkpO1xuICAgICAgZnJhbWVFbmRSaWdodC51cGRhdGVNYXRyaXgoKTtcbiAgICAgIGZyYW1lR2VvbU1lcmdlZC5tZXJnZShmcmFtZUVuZFJpZ2h0Lmdlb21ldHJ5LCBmcmFtZUVuZFJpZ2h0Lm1hdHJpeCk7XG5cbiAgICAgIHZhciBmcmFtZUVuZExlZnQgPSBmcmFtZUVuZFJpZ2h0LmNsb25lKCk7XG4gICAgICBmcmFtZUVuZExlZnQucG9zaXRpb24ueCA9IC1mcmFtZUVuZFJpZ2h0LnBvc2l0aW9uLng7XG4gICAgICBmcmFtZUVuZExlZnQudXBkYXRlTWF0cml4KCk7XG4gICAgICBmcmFtZUdlb21NZXJnZWQubWVyZ2UoZnJhbWVFbmRMZWZ0Lmdlb21ldHJ5LCBmcmFtZUVuZExlZnQubWF0cml4KTtcblxuICAgICAgdmFyIGZyYW1lU3Bva2VHZW9tID0gbmV3IFRIUkVFLkJveEdlb21ldHJ5KDEsIDAuNSwgMTIpO1xuICAgICAgdmFyIGZyYW1lU3Bva2VSaWdodCA9IG5ldyBUSFJFRS5NZXNoKGZyYW1lU3Bva2VHZW9tLCBnbGFzc2VzTWF0KTtcbiAgICAgIGZyYW1lU3Bva2VSaWdodC5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VUcmFuc2xhdGlvbig4LCAzLCAtNS41KSk7XG4gICAgICBmcmFtZVNwb2tlUmlnaHQudXBkYXRlTWF0cml4KCk7XG4gICAgICBmcmFtZUdlb21NZXJnZWQubWVyZ2UoZnJhbWVTcG9rZVJpZ2h0Lmdlb21ldHJ5LCBmcmFtZVNwb2tlUmlnaHQubWF0cml4KTtcblxuICAgICAgdmFyIGZyYW1lU3Bva2VMZWZ0ID0gZnJhbWVTcG9rZVJpZ2h0LmNsb25lKCk7XG4gICAgICBmcmFtZVNwb2tlTGVmdC5wb3NpdGlvbi54ID0gLWZyYW1lU3Bva2VSaWdodC5wb3NpdGlvbi54O1xuICAgICAgZnJhbWVTcG9rZUxlZnQudXBkYXRlTWF0cml4KCk7XG4gICAgICBmcmFtZUdlb21NZXJnZWQubWVyZ2UoZnJhbWVTcG9rZUxlZnQuZ2VvbWV0cnksIGZyYW1lU3Bva2VMZWZ0Lm1hdHJpeCk7XG5cbiAgICAgIHZhciBmcmFtZU1lcmdlZCA9IG5ldyBUSFJFRS5NZXNoKGZyYW1lR2VvbU1lcmdlZCwgZ2xhc3Nlc01hdCk7XG4gICAgICBmcmFtZU1lcmdlZC5jYXN0U2hhZG93ID0gZmFsc2U7XG4gICAgICBmcmFtZU1lcmdlZC5yZWNlaXZlU2hhZG93ID0gdHJ1ZTtcblxuICAgICAgdGhpcy5nbGFzc2VzLmFkZChmcmFtZU1lcmdlZCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnSGFpcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIEhhaXIoKSB7XG5cbiAgICAgIHRoaXMuaGFpciA9IG5ldyBUSFJFRS5PYmplY3QzRCgpO1xuICAgICAgdGhpcy5oYWlyLnBvc2l0aW9uLnNldCgwLCA5LCAwKTtcbiAgICAgIHRoaXMuaGVhZC5hZGQodGhpcy5oYWlyKTtcblxuICAgICAgdmFyIGhhaXJHZW9tTWVyZ2VkID0gbmV3IFRIUkVFLkdlb21ldHJ5KCk7XG5cbiAgICAgIHZhciBoYWlyRmxhdEdlb20gPSBuZXcgVEhSRUUuQm94R2VvbWV0cnkoMTAsIDIsIDE4KTtcblxuICAgICAgdmFyIGhhaXIxID0gbmV3IFRIUkVFLk1lc2goaGFpckZsYXRHZW9tLCBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX29iamVjdHNfTWF0ZXJpYWxzX19bXCJhXCIgLyogZGVmYXVsdCAqL10ud2hpdGVNYXQpO1xuICAgICAgaGFpcjEuYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlUm90YXRpb25aKC1NYXRoLlBJIC8gNDApKTtcbiAgICAgIGhhaXIxLmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVRyYW5zbGF0aW9uKC00LCAtMC41LCAwKSk7XG4gICAgICBoYWlyMS51cGRhdGVNYXRyaXgoKTtcbiAgICAgIGhhaXJHZW9tTWVyZ2VkLm1lcmdlKGhhaXIxLmdlb21ldHJ5LCBoYWlyMS5tYXRyaXgpO1xuXG4gICAgICB2YXIgaGFpcjIgPSBuZXcgVEhSRUUuTWVzaChoYWlyRmxhdEdlb20sIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fb2JqZWN0c19NYXRlcmlhbHNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS53aGl0ZU1hdCk7XG4gICAgICBoYWlyMi5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VSb3RhdGlvblooLU1hdGguUEkgLyAxMCkpO1xuICAgICAgaGFpcjIuYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlVHJhbnNsYXRpb24oLTIsIDEsIDApKTtcbiAgICAgIGhhaXIyLnVwZGF0ZU1hdHJpeCgpO1xuICAgICAgaGFpckdlb21NZXJnZWQubWVyZ2UoaGFpcjIuZ2VvbWV0cnksIGhhaXIyLm1hdHJpeCk7XG5cbiAgICAgIHZhciBoYWlyMyA9IG5ldyBUSFJFRS5NZXNoKGhhaXJGbGF0R2VvbSwgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19vYmplY3RzX01hdGVyaWFsc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLndoaXRlTWF0KTtcbiAgICAgIGhhaXIzLmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVJvdGF0aW9uWigtTWF0aC5QSSAvIDUpKTtcbiAgICAgIGhhaXIzLmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVRyYW5zbGF0aW9uKDIsIDEsIDApKTtcbiAgICAgIGhhaXIzLnVwZGF0ZU1hdHJpeCgpO1xuICAgICAgaGFpckdlb21NZXJnZWQubWVyZ2UoaGFpcjMuZ2VvbWV0cnksIGhhaXIzLm1hdHJpeCk7XG5cbiAgICAgIHZhciBoYWlyNCA9IG5ldyBUSFJFRS5NZXNoKGhhaXJGbGF0R2VvbSwgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19vYmplY3RzX01hdGVyaWFsc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLndoaXRlTWF0KTtcbiAgICAgIGhhaXI0LmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVJvdGF0aW9uWigtTWF0aC5QSSAvIDQpKTtcbiAgICAgIGhhaXI0LmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVRyYW5zbGF0aW9uKDYsIDAsIDApKTtcbiAgICAgIGhhaXI0LnVwZGF0ZU1hdHJpeCgpO1xuICAgICAgaGFpckdlb21NZXJnZWQubWVyZ2UoaGFpcjQuZ2VvbWV0cnksIGhhaXI0Lm1hdHJpeCk7XG5cbiAgICAgIHZhciBoYWlyNiA9IG5ldyBUSFJFRS5NZXNoKGhhaXJGbGF0R2VvbSwgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19vYmplY3RzX01hdGVyaWFsc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLndoaXRlTWF0KTtcbiAgICAgIGhhaXI2LmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVJvdGF0aW9uWigtTWF0aC5QSSAvIC0zKSk7XG4gICAgICBoYWlyNi5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VUcmFuc2xhdGlvbigtNy43NSwgLS41LCAwKSk7XG4gICAgICBoYWlyNi51cGRhdGVNYXRyaXgoKTtcbiAgICAgIGhhaXJHZW9tTWVyZ2VkLm1lcmdlKGhhaXI2Lmdlb21ldHJ5LCBoYWlyNi5tYXRyaXgpO1xuXG4gICAgICB2YXIgaGFpckZsYXRCYWNrR2VvbSA9IG5ldyBUSFJFRS5Cb3hHZW9tZXRyeSgxOCwgNywgNik7XG4gICAgICBoYWlyRmxhdEJhY2tHZW9tLnZlcnRpY2VzWzBdLnggLT0gMTtcbiAgICAgIGhhaXJGbGF0QmFja0dlb20udmVydGljZXNbMV0ueCAtPSAxO1xuICAgICAgaGFpckZsYXRCYWNrR2VvbS52ZXJ0aWNlc1s0XS54ICs9IDE7XG4gICAgICBoYWlyRmxhdEJhY2tHZW9tLnZlcnRpY2VzWzVdLnggKz0gMTtcblxuICAgICAgdmFyIGhhaXI1ID0gbmV3IFRIUkVFLk1lc2goaGFpckZsYXRCYWNrR2VvbSwgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19vYmplY3RzX01hdGVyaWFsc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLndoaXRlTWF0KTtcbiAgICAgIGhhaXI1LmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVRyYW5zbGF0aW9uKDAsIC00LjUsIC02KSk7XG4gICAgICBoYWlyNS51cGRhdGVNYXRyaXgoKTtcbiAgICAgIGhhaXJHZW9tTWVyZ2VkLm1lcmdlKGhhaXI1Lmdlb21ldHJ5LCBoYWlyNS5tYXRyaXgpO1xuXG4gICAgICB2YXIgaGFpck1lcmdlZCA9IG5ldyBUSFJFRS5NZXNoKGhhaXJHZW9tTWVyZ2VkLCBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX29iamVjdHNfTWF0ZXJpYWxzX19bXCJhXCIgLyogZGVmYXVsdCAqL10ud2hpdGVNYXQpO1xuICAgICAgaGFpck1lcmdlZC5jYXN0U2hhZG93ID0gZmFsc2U7XG4gICAgICBoYWlyTWVyZ2VkLnJlY2VpdmVTaGFkb3cgPSB0cnVlO1xuXG4gICAgICB0aGlzLmhhaXIuYWRkKGhhaXJNZXJnZWQpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ0V5ZXMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBFeWVzKCkge1xuXG4gICAgICB0aGlzLmV5ZXMgPSBuZXcgVEhSRUUuT2JqZWN0M0QoKTtcbiAgICAgIHRoaXMuZXllcy5wb3NpdGlvbi5zZXQoMCwgMywgOSk7XG4gICAgICB0aGlzLmhlYWQuYWRkKHRoaXMuZXllcyk7XG5cbiAgICAgIHZhciBleWVXaGl0ZUdlb20gPSBuZXcgVEhSRUUuUGxhbmVHZW9tZXRyeSgyLjUsIDIuNSk7XG5cbiAgICAgIHZhciBleWVXaGl0ZVJpZ2h0ID0gbmV3IFRIUkVFLk1lc2goZXllV2hpdGVHZW9tLCBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX29iamVjdHNfTWF0ZXJpYWxzX19bXCJhXCIgLyogZGVmYXVsdCAqL10ud2hpdGVNYXQpO1xuICAgICAgZXllV2hpdGVSaWdodC5wb3NpdGlvbi5zZXQoLTMuNzUsIDAsIDApO1xuICAgICAgZXllV2hpdGVSaWdodC5jYXN0U2hhZG93ID0gZmFsc2U7XG4gICAgICBleWVXaGl0ZVJpZ2h0LnJlY2VpdmVTaGFkb3cgPSBmYWxzZTtcblxuICAgICAgdmFyIGV5ZUJsdWVHZW9tID0gbmV3IFRIUkVFLlBsYW5lR2VvbWV0cnkoMS41LCAxLjUpO1xuXG4gICAgICB2YXIgZXllTWF0ID0gbmV3IFRIUkVFLk1lc2hQaG9uZ01hdGVyaWFsKHsgY29sb3I6IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fb2JqZWN0c19jb2xvcnNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS5leWUsIGZsYXRTaGFkaW5nOiB0cnVlIH0pO1xuXG4gICAgICB0aGlzLmV5ZUJsdWVSaWdodCA9IG5ldyBUSFJFRS5NZXNoKGV5ZUJsdWVHZW9tLCBleWVNYXQpO1xuICAgICAgdGhpcy5leWVCbHVlUmlnaHQucG9zaXRpb24uc2V0KDAsIDAsIC4wMSk7XG4gICAgICB0aGlzLmV5ZUJsdWVSaWdodC5jYXN0U2hhZG93ID0gZmFsc2U7XG4gICAgICB0aGlzLmV5ZUJsdWVSaWdodC5yZWNlaXZlU2hhZG93ID0gZmFsc2U7XG5cbiAgICAgIGV5ZVdoaXRlUmlnaHQuYWRkKHRoaXMuZXllQmx1ZVJpZ2h0KTtcblxuICAgICAgdmFyIGV5ZVB1cGlsR2VvbSA9IG5ldyBUSFJFRS5QbGFuZUdlb21ldHJ5KDEsIDEpO1xuXG4gICAgICB0aGlzLmV5ZVB1cGlsUmlnaHQgPSBuZXcgVEhSRUUuTWVzaChleWVQdXBpbEdlb20sIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fb2JqZWN0c19NYXRlcmlhbHNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS5ibGFja01hdCk7XG4gICAgICB0aGlzLmV5ZVB1cGlsUmlnaHQucG9zaXRpb24uc2V0KDAsIDAsIC4wMik7XG4gICAgICB0aGlzLmV5ZVB1cGlsUmlnaHQuY2FzdFNoYWRvdyA9IGZhbHNlO1xuICAgICAgdGhpcy5leWVQdXBpbFJpZ2h0LnJlY2VpdmVTaGFkb3cgPSBmYWxzZTtcblxuICAgICAgdGhpcy5leWVCbHVlUmlnaHQuYWRkKHRoaXMuZXllUHVwaWxSaWdodCk7XG5cbiAgICAgIHZhciBleWVXaGl0ZUxlZnQgPSBuZXcgVEhSRUUuTWVzaChleWVXaGl0ZUdlb20sIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fb2JqZWN0c19NYXRlcmlhbHNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS53aGl0ZU1hdCk7XG4gICAgICBleWVXaGl0ZUxlZnQucG9zaXRpb24uc2V0KDMuNzUsIDAsIDApO1xuICAgICAgZXllV2hpdGVMZWZ0LmNhc3RTaGFkb3cgPSBmYWxzZTtcbiAgICAgIGV5ZVdoaXRlTGVmdC5yZWNlaXZlU2hhZG93ID0gZmFsc2U7XG5cbiAgICAgIHRoaXMuZXllQmx1ZUxlZnQgPSBuZXcgVEhSRUUuTWVzaChleWVCbHVlR2VvbSwgZXllTWF0KTtcbiAgICAgIHRoaXMuZXllQmx1ZUxlZnQucG9zaXRpb24uc2V0KDAsIDAsIC4wMSk7XG4gICAgICB0aGlzLmV5ZUJsdWVMZWZ0LmNhc3RTaGFkb3cgPSBmYWxzZTtcbiAgICAgIHRoaXMuZXllQmx1ZUxlZnQucmVjZWl2ZVNoYWRvdyA9IGZhbHNlO1xuXG4gICAgICBleWVXaGl0ZUxlZnQuYWRkKHRoaXMuZXllQmx1ZUxlZnQpO1xuXG4gICAgICB0aGlzLmV5ZVB1cGlsTGVmdCA9IG5ldyBUSFJFRS5NZXNoKGV5ZVB1cGlsR2VvbSwgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19vYmplY3RzX01hdGVyaWFsc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLmJsYWNrTWF0KTtcbiAgICAgIHRoaXMuZXllUHVwaWxMZWZ0LnBvc2l0aW9uLnNldCgwLCAwLCAuMDIpO1xuICAgICAgdGhpcy5leWVQdXBpbExlZnQuY2FzdFNoYWRvdyA9IGZhbHNlO1xuICAgICAgdGhpcy5leWVQdXBpbExlZnQucmVjZWl2ZVNoYWRvdyA9IGZhbHNlO1xuXG4gICAgICB0aGlzLmV5ZUJsdWVMZWZ0LmFkZCh0aGlzLmV5ZVB1cGlsTGVmdCk7XG5cbiAgICAgIHRoaXMuZXllcy5hZGQoZXllV2hpdGVSaWdodCwgZXllV2hpdGVMZWZ0KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdFeWVCcm93cycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIEV5ZUJyb3dzKCkge1xuICAgICAgdGhpcy5leWVCcm93cyA9IG5ldyBUSFJFRS5PYmplY3QzRCgpO1xuICAgICAgdGhpcy5leWVCcm93cy5wb3NpdGlvbi5zZXQoMCwgNiwgOCk7XG4gICAgICB0aGlzLmhlYWQuYWRkKHRoaXMuZXllQnJvd3MpO1xuXG4gICAgICB2YXIgZXllQnJvd0dlb20gPSBuZXcgVEhSRUUuQm94R2VvbWV0cnkoNCwgMSwgMSk7XG5cbiAgICAgIHRoaXMuZXllQnJvd1JpZ2h0ID0gbmV3IFRIUkVFLk1lc2goZXllQnJvd0dlb20sIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fb2JqZWN0c19NYXRlcmlhbHNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS53aGl0ZU1hdCk7XG4gICAgICB0aGlzLmV5ZUJyb3dSaWdodC5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VSb3RhdGlvblooTWF0aC5QSSAvIDQ1KSk7XG4gICAgICB0aGlzLmV5ZUJyb3dSaWdodC5wb3NpdGlvbi5zZXQoLTMuNzUsIDAsIDApO1xuICAgICAgdGhpcy5leWVCcm93UmlnaHQuY2FzdFNoYWRvdyA9IGZhbHNlO1xuICAgICAgdGhpcy5leWVCcm93UmlnaHQucmVjZWl2ZVNoYWRvdyA9IGZhbHNlO1xuXG4gICAgICB0aGlzLmV5ZUJyb3dMZWZ0ID0gbmV3IFRIUkVFLk1lc2goZXllQnJvd0dlb20sIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fb2JqZWN0c19NYXRlcmlhbHNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS53aGl0ZU1hdCk7XG4gICAgICB0aGlzLmV5ZUJyb3dMZWZ0LmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVJvdGF0aW9uWigtTWF0aC5QSSAvIDQ1KSk7XG4gICAgICB0aGlzLmV5ZUJyb3dMZWZ0LnBvc2l0aW9uLnNldCgzLjc1LCAwLCAwKTtcbiAgICAgIHRoaXMuZXllQnJvd0xlZnQuY2FzdFNoYWRvdyA9IGZhbHNlO1xuICAgICAgdGhpcy5leWVCcm93TGVmdC5yZWNlaXZlU2hhZG93ID0gZmFsc2U7XG5cbiAgICAgIHRoaXMuZXllQnJvd3MuYWRkKHRoaXMuZXllQnJvd1JpZ2h0LCB0aGlzLmV5ZUJyb3dMZWZ0KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdIYXQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBIYXQoKSB7XG4gICAgICB0aGlzLmhhdCA9IG5ldyBUSFJFRS5PYmplY3QzRCgpO1xuICAgICAgdGhpcy5oYXQucG9zaXRpb24uc2V0KC0wLjIsIDExLCAyLjQpO1xuICAgICAgdGhpcy5oZWFkLmFkZCh0aGlzLmhhdCk7XG5cbiAgICAgIHZhciBoYXRNYXQgPSBuZXcgVEhSRUUuTWVzaFBob25nTWF0ZXJpYWwoeyBjb2xvcjogX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19vYmplY3RzX2NvbG9yc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLmhhdCwgZmxhdFNoYWRpbmc6IHRydWUgfSk7XG5cbiAgICAgIHZhciBiYW5kR2VvbSA9IG5ldyBUSFJFRS5Ub3J1c0dlb21ldHJ5KDksIDIsIDE2LCAxMDApO1xuICAgICAgdmFyIGJpZ0NvbmVHZW9tID0gbmV3IFRIUkVFLkN5bGluZGVyR2VvbWV0cnkoMSwgMTEsIDEyLCAxNSk7XG4gICAgICB2YXIgc21hbGxDb25lR2VvbSA9IG5ldyBUSFJFRS5DeWxpbmRlckdlb21ldHJ5KDAuOCwgMywgOSwgMzIpO1xuICAgICAgdmFyIGhhdERpbmdsZUdlb20gPSBuZXcgVEhSRUUuU3BoZXJlR2VvbWV0cnkoMS41LCA4LCA4KTtcblxuICAgICAgdGhpcy5iYW5kID0gbmV3IFRIUkVFLk1lc2goYmFuZEdlb20sIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fb2JqZWN0c19NYXRlcmlhbHNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS50ZWV0aE1hdCk7XG4gICAgICB0aGlzLmJhbmQuYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlUm90YXRpb25YKE1hdGguUEkgLyAyKSk7XG4gICAgICB0aGlzLmJhbmQucG9zaXRpb24uc2V0KDAsIDAsIDApO1xuICAgICAgdGhpcy5iYW5kLmNhc3RTaGFkb3cgPSBmYWxzZTtcbiAgICAgIHRoaXMuYmFuZC5yZWNlaXZlU2hhZG93ID0gZmFsc2U7XG5cbiAgICAgIHRoaXMuYmlnQ29uZSA9IG5ldyBUSFJFRS5NZXNoKGJpZ0NvbmVHZW9tLCBoYXRNYXQpO1xuICAgICAgdGhpcy5iaWdDb25lLnBvc2l0aW9uLnNldCgwLCA2LCAwKTtcbiAgICAgIHRoaXMuYmlnQ29uZS5jYXN0U2hhZG93ID0gZmFsc2U7XG4gICAgICB0aGlzLmJpZ0NvbmUucmVjZWl2ZVNoYWRvdyA9IGZhbHNlO1xuXG4gICAgICB0aGlzLnNtYWxsQ29uZSA9IG5ldyBUSFJFRS5NZXNoKHNtYWxsQ29uZUdlb20sIGhhdE1hdCk7XG4gICAgICB0aGlzLnNtYWxsQ29uZS5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VSb3RhdGlvblgoTWF0aC5QSSAvIDIpKTtcbiAgICAgIHRoaXMuc21hbGxDb25lLmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVJvdGF0aW9uWShNYXRoLlBJIC8gMikpO1xuICAgICAgdGhpcy5zbWFsbENvbmUuYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlUm90YXRpb25aKE1hdGguUEkgLyAtOCkpO1xuICAgICAgdGhpcy5zbWFsbENvbmUucG9zaXRpb24uc2V0KDQsIDcuOCwgLTEpO1xuICAgICAgdGhpcy5zbWFsbENvbmUuY2FzdFNoYWRvdyA9IGZhbHNlO1xuICAgICAgdGhpcy5zbWFsbENvbmUucmVjZWl2ZVNoYWRvdyA9IGZhbHNlO1xuXG4gICAgICB0aGlzLmhhdERpbmdsZSA9IG5ldyBUSFJFRS5NZXNoKGhhdERpbmdsZUdlb20sIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fb2JqZWN0c19NYXRlcmlhbHNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS53aGl0ZU1hdCk7XG4gICAgICB0aGlzLmhhdERpbmdsZS5wb3NpdGlvbi5zZXQoOSwgNS41LCAtMSk7XG4gICAgICB0aGlzLmhhdERpbmdsZS5jYXN0U2hhZG93ID0gZmFsc2U7XG4gICAgICB0aGlzLmhhdERpbmdsZS5yZWNlaXZlU2hhZG93ID0gZmFsc2U7XG5cbiAgICAgIHRoaXMuaGF0LmFkZCh0aGlzLmJhbmQsIHRoaXMuYmlnQ29uZSwgdGhpcy5zbWFsbENvbmUsIHRoaXMuaGF0RGluZ2xlKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdGcmVja2xlcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIEZyZWNrbGVzKCkge1xuICAgICAgdGhpcy5mcmVja2xlcyA9IG5ldyBUSFJFRS5PYmplY3QzRCgpO1xuICAgICAgdGhpcy5mcmVja2xlcy5wb3NpdGlvbi5zZXQoMCwgMCwgOCk7XG4gICAgICB0aGlzLmhlYWQuYWRkKHRoaXMuZnJlY2tsZXMpO1xuXG4gICAgICB2YXIgZnJlY2tsZXNNYXQgPSBuZXcgVEhSRUUuTWVzaExhbWJlcnRNYXRlcmlhbCh7IGNvbG9yOiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX29iamVjdHNfY29sb3JzX19bXCJhXCIgLyogZGVmYXVsdCAqL10uZnJlY2tsZXMsIGZsYXRTaGFkaW5nOiB0cnVlIH0pO1xuICAgICAgdmFyIGZyZWNrbGVzR2VvbU1lcmdlZCA9IG5ldyBUSFJFRS5HZW9tZXRyeSgpO1xuXG4gICAgICB2YXIgZnJlY2tsZXNHZW9tID0gbmV3IFRIUkVFLlBsYW5lR2VvbWV0cnkoMC41LCAwLjUpO1xuXG4gICAgICB2YXIgZnJlY2tsZTEgPSBuZXcgVEhSRUUuTWVzaChmcmVja2xlc0dlb20sIGZyZWNrbGVzTWF0KTtcbiAgICAgIGZyZWNrbGUxLmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVRyYW5zbGF0aW9uKC01LCAwLCAwLjAxKSk7XG4gICAgICBmcmVja2xlMS51cGRhdGVNYXRyaXgoKTtcbiAgICAgIGZyZWNrbGVzR2VvbU1lcmdlZC5tZXJnZShmcmVja2xlMS5nZW9tZXRyeSwgZnJlY2tsZTEubWF0cml4KTtcblxuICAgICAgdmFyIGZyZWNrbGUyID0gZnJlY2tsZTEuY2xvbmUoKTtcbiAgICAgIGZyZWNrbGUyLmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVRyYW5zbGF0aW9uKC0wLjUsIC0xLCAwKSk7XG4gICAgICBmcmVja2xlMi51cGRhdGVNYXRyaXgoKTtcbiAgICAgIGZyZWNrbGVzR2VvbU1lcmdlZC5tZXJnZShmcmVja2xlMi5nZW9tZXRyeSwgZnJlY2tsZTIubWF0cml4KTtcblxuICAgICAgdmFyIGZyZWNrbGUzID0gZnJlY2tsZTEuY2xvbmUoKTtcbiAgICAgIGZyZWNrbGUzLmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVRyYW5zbGF0aW9uKDEsIC0wLjUsIDApKTtcbiAgICAgIGZyZWNrbGUzLnVwZGF0ZU1hdHJpeCgpO1xuICAgICAgZnJlY2tsZXNHZW9tTWVyZ2VkLm1lcmdlKGZyZWNrbGUzLmdlb21ldHJ5LCBmcmVja2xlMy5tYXRyaXgpO1xuXG4gICAgICB2YXIgZnJlY2tsZTQgPSBmcmVja2xlMS5jbG9uZSgpO1xuICAgICAgZnJlY2tsZTQucG9zaXRpb24ueCA9IC1mcmVja2xlMS5wb3NpdGlvbi54O1xuICAgICAgZnJlY2tsZTQudXBkYXRlTWF0cml4KCk7XG4gICAgICBmcmVja2xlc0dlb21NZXJnZWQubWVyZ2UoZnJlY2tsZTQuZ2VvbWV0cnksIGZyZWNrbGU0Lm1hdHJpeCk7XG4gICAgICB2YXIgZnJlY2tsZTUgPSBmcmVja2xlMi5jbG9uZSgpO1xuICAgICAgZnJlY2tsZTUucG9zaXRpb24ueCA9IC1mcmVja2xlMi5wb3NpdGlvbi54O1xuICAgICAgZnJlY2tsZTUudXBkYXRlTWF0cml4KCk7XG4gICAgICBmcmVja2xlc0dlb21NZXJnZWQubWVyZ2UoZnJlY2tsZTUuZ2VvbWV0cnksIGZyZWNrbGU1Lm1hdHJpeCk7XG4gICAgICB2YXIgZnJlY2tsZTYgPSBmcmVja2xlMy5jbG9uZSgpO1xuICAgICAgZnJlY2tsZTYucG9zaXRpb24ueCA9IC1mcmVja2xlMy5wb3NpdGlvbi54O1xuICAgICAgZnJlY2tsZTYudXBkYXRlTWF0cml4KCk7XG4gICAgICBmcmVja2xlc0dlb21NZXJnZWQubWVyZ2UoZnJlY2tsZTYuZ2VvbWV0cnksIGZyZWNrbGU2Lm1hdHJpeCk7XG5cbiAgICAgIHZhciBmcmVja2xlZE1lcmdlZCA9IG5ldyBUSFJFRS5NZXNoKGZyZWNrbGVzR2VvbU1lcmdlZCwgZnJlY2tsZXNNYXQpO1xuICAgICAgZnJlY2tsZWRNZXJnZWQuY2FzdFNoYWRvdyA9IGZhbHNlO1xuICAgICAgZnJlY2tsZWRNZXJnZWQucmVjZWl2ZVNoYWRvdyA9IGZhbHNlO1xuXG4gICAgICB0aGlzLmZyZWNrbGVzLmFkZChmcmVja2xlZE1lcmdlZCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnRmVhdHVyZXMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBGZWF0dXJlcygpIHtcbiAgICAgIHZhciBlYXJHZW9tID0gbmV3IFRIUkVFLkJveEJ1ZmZlckdlb21ldHJ5KDEuNSwgMywgMS41KTtcbiAgICAgIHZhciBza2luTWF0ID0gbmV3IFRIUkVFLk1lc2hMYW1iZXJ0TWF0ZXJpYWwoeyBjb2xvcjogX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19vYmplY3RzX2NvbG9yc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLnNraW4sIGZsYXRTaGFkaW5nOiB0cnVlIH0pO1xuICAgICAgdmFyIGVhclJpZ2h0ID0gbmV3IFRIUkVFLk1lc2goZWFyR2VvbSwgc2tpbk1hdCk7XG4gICAgICBlYXJSaWdodC5wb3NpdGlvbi5zZXQoLTguNSwgMSwgMyk7XG4gICAgICBlYXJSaWdodC5jYXN0U2hhZG93ID0gZmFsc2U7XG4gICAgICBlYXJSaWdodC5yZWNlaXZlU2hhZG93ID0gZmFsc2U7XG5cbiAgICAgIHZhciBlYXJMZWZ0ID0gbmV3IFRIUkVFLk1lc2goZWFyR2VvbSwgc2tpbk1hdCk7XG4gICAgICBlYXJMZWZ0LnBvc2l0aW9uLnNldCg4LjUsIDEsIDMpO1xuICAgICAgZWFyTGVmdC5jYXN0U2hhZG93ID0gZmFsc2U7XG4gICAgICBlYXJMZWZ0LnJlY2VpdmVTaGFkb3cgPSBmYWxzZTtcblxuICAgICAgdmFyIG5vc2VHZW9tID0gbmV3IFRIUkVFLkN5bGluZGVyR2VvbWV0cnkoMSwgMiwgNCwgNCk7XG4gICAgICB2YXIgbm9zZSA9IG5ldyBUSFJFRS5NZXNoKG5vc2VHZW9tLCBza2luTWF0KTtcbiAgICAgIG5vc2Uuc2NhbGUuc2V0KC43NSwgMSwgMS4zKTtcbiAgICAgIG5vc2UucG9zaXRpb24uc2V0KDAsIDEsIDgpO1xuICAgICAgbm9zZS5jYXN0U2hhZG93ID0gZmFsc2U7XG4gICAgICBub3NlLnJlY2VpdmVTaGFkb3cgPSBmYWxzZTtcblxuICAgICAgdGhpcy5oZWFkLmFkZChlYXJSaWdodCwgZWFyTGVmdCwgbm9zZSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEhlYWQ7XG59KCk7XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSAoSGVhZCk7XG5cbi8qKiovIH0pLFxuLyogNCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2NvbG9yc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIE1hdGVyaWFscyA9IHtcbiAgXCJ3aGl0ZU1hdFwiOiBuZXcgVEhSRUUuTWVzaExhbWJlcnRNYXRlcmlhbCh7IGNvbG9yOiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2NvbG9yc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLndoaXRlLCBmbGF0U2hhZGluZzogdHJ1ZSB9KSxcbiAgXCJ0ZWV0aE1hdFwiOiBuZXcgVEhSRUUuTWVzaFBob25nTWF0ZXJpYWwoeyBjb2xvcjogX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19jb2xvcnNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS50ZWV0aCwgZmxhdFNoYWRpbmc6IHRydWUgfSksXG4gIFwiYmxhY2tNYXRcIjogbmV3IFRIUkVFLk1lc2hMYW1iZXJ0TWF0ZXJpYWwoeyBjb2xvcjogX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19jb2xvcnNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS5ibGFjaywgZmxhdFNoYWRpbmc6IHRydWUgfSksXG4gIFwibm9ybWFsTWF0XCI6IG5ldyBUSFJFRS5NZXNoTm9ybWFsTWF0ZXJpYWwoe30pXG59O1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gKE1hdGVyaWFscyk7XG5cbi8qKiovIH0pLFxuLyogNSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyB0aGUgd2hhdHdnLWZldGNoIHBvbHlmaWxsIGluc3RhbGxzIHRoZSBmZXRjaCgpIGZ1bmN0aW9uXG4vLyBvbiB0aGUgZ2xvYmFsIG9iamVjdCAod2luZG93IG9yIHNlbGYpXG4vL1xuLy8gUmV0dXJuIHRoYXQgYXMgdGhlIGV4cG9ydCBmb3IgdXNlIGluIFdlYnBhY2ssIEJyb3dzZXJpZnkgZXRjLlxuX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcbm1vZHVsZS5leHBvcnRzID0gc2VsZi5mZXRjaC5iaW5kKHNlbGYpO1xuXG5cbi8qKiovIH0pLFxuLyogNiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG4oZnVuY3Rpb24oc2VsZikge1xuICAndXNlIHN0cmljdCc7XG5cbiAgaWYgKHNlbGYuZmV0Y2gpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIHZhciBzdXBwb3J0ID0ge1xuICAgIHNlYXJjaFBhcmFtczogJ1VSTFNlYXJjaFBhcmFtcycgaW4gc2VsZixcbiAgICBpdGVyYWJsZTogJ1N5bWJvbCcgaW4gc2VsZiAmJiAnaXRlcmF0b3InIGluIFN5bWJvbCxcbiAgICBibG9iOiAnRmlsZVJlYWRlcicgaW4gc2VsZiAmJiAnQmxvYicgaW4gc2VsZiAmJiAoZnVuY3Rpb24oKSB7XG4gICAgICB0cnkge1xuICAgICAgICBuZXcgQmxvYigpXG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgfSkoKSxcbiAgICBmb3JtRGF0YTogJ0Zvcm1EYXRhJyBpbiBzZWxmLFxuICAgIGFycmF5QnVmZmVyOiAnQXJyYXlCdWZmZXInIGluIHNlbGZcbiAgfVxuXG4gIGlmIChzdXBwb3J0LmFycmF5QnVmZmVyKSB7XG4gICAgdmFyIHZpZXdDbGFzc2VzID0gW1xuICAgICAgJ1tvYmplY3QgSW50OEFycmF5XScsXG4gICAgICAnW29iamVjdCBVaW50OEFycmF5XScsXG4gICAgICAnW29iamVjdCBVaW50OENsYW1wZWRBcnJheV0nLFxuICAgICAgJ1tvYmplY3QgSW50MTZBcnJheV0nLFxuICAgICAgJ1tvYmplY3QgVWludDE2QXJyYXldJyxcbiAgICAgICdbb2JqZWN0IEludDMyQXJyYXldJyxcbiAgICAgICdbb2JqZWN0IFVpbnQzMkFycmF5XScsXG4gICAgICAnW29iamVjdCBGbG9hdDMyQXJyYXldJyxcbiAgICAgICdbb2JqZWN0IEZsb2F0NjRBcnJheV0nXG4gICAgXVxuXG4gICAgdmFyIGlzRGF0YVZpZXcgPSBmdW5jdGlvbihvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgRGF0YVZpZXcucHJvdG90eXBlLmlzUHJvdG90eXBlT2Yob2JqKVxuICAgIH1cblxuICAgIHZhciBpc0FycmF5QnVmZmVyVmlldyA9IEFycmF5QnVmZmVyLmlzVmlldyB8fCBmdW5jdGlvbihvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgdmlld0NsYXNzZXMuaW5kZXhPZihPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSkgPiAtMVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG5vcm1hbGl6ZU5hbWUobmFtZSkge1xuICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIG5hbWUgPSBTdHJpbmcobmFtZSlcbiAgICB9XG4gICAgaWYgKC9bXmEtejAtOVxcLSMkJSYnKisuXFxeX2B8fl0vaS50ZXN0KG5hbWUpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGNoYXJhY3RlciBpbiBoZWFkZXIgZmllbGQgbmFtZScpXG4gICAgfVxuICAgIHJldHVybiBuYW1lLnRvTG93ZXJDYXNlKClcbiAgfVxuXG4gIGZ1bmN0aW9uIG5vcm1hbGl6ZVZhbHVlKHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHZhbHVlID0gU3RyaW5nKHZhbHVlKVxuICAgIH1cbiAgICByZXR1cm4gdmFsdWVcbiAgfVxuXG4gIC8vIEJ1aWxkIGEgZGVzdHJ1Y3RpdmUgaXRlcmF0b3IgZm9yIHRoZSB2YWx1ZSBsaXN0XG4gIGZ1bmN0aW9uIGl0ZXJhdG9yRm9yKGl0ZW1zKSB7XG4gICAgdmFyIGl0ZXJhdG9yID0ge1xuICAgICAgbmV4dDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGl0ZW1zLnNoaWZ0KClcbiAgICAgICAgcmV0dXJuIHtkb25lOiB2YWx1ZSA9PT0gdW5kZWZpbmVkLCB2YWx1ZTogdmFsdWV9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHN1cHBvcnQuaXRlcmFibGUpIHtcbiAgICAgIGl0ZXJhdG9yW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhdG9yXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGl0ZXJhdG9yXG4gIH1cblxuICBmdW5jdGlvbiBIZWFkZXJzKGhlYWRlcnMpIHtcbiAgICB0aGlzLm1hcCA9IHt9XG5cbiAgICBpZiAoaGVhZGVycyBpbnN0YW5jZW9mIEhlYWRlcnMpIHtcbiAgICAgIGhlYWRlcnMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwgbmFtZSkge1xuICAgICAgICB0aGlzLmFwcGVuZChuYW1lLCB2YWx1ZSlcbiAgICAgIH0sIHRoaXMpXG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGhlYWRlcnMpKSB7XG4gICAgICBoZWFkZXJzLmZvckVhY2goZnVuY3Rpb24oaGVhZGVyKSB7XG4gICAgICAgIHRoaXMuYXBwZW5kKGhlYWRlclswXSwgaGVhZGVyWzFdKVxuICAgICAgfSwgdGhpcylcbiAgICB9IGVsc2UgaWYgKGhlYWRlcnMpIHtcbiAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGhlYWRlcnMpLmZvckVhY2goZnVuY3Rpb24obmFtZSkge1xuICAgICAgICB0aGlzLmFwcGVuZChuYW1lLCBoZWFkZXJzW25hbWVdKVxuICAgICAgfSwgdGhpcylcbiAgICB9XG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS5hcHBlbmQgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgIG5hbWUgPSBub3JtYWxpemVOYW1lKG5hbWUpXG4gICAgdmFsdWUgPSBub3JtYWxpemVWYWx1ZSh2YWx1ZSlcbiAgICB2YXIgb2xkVmFsdWUgPSB0aGlzLm1hcFtuYW1lXVxuICAgIHRoaXMubWFwW25hbWVdID0gb2xkVmFsdWUgPyBvbGRWYWx1ZSsnLCcrdmFsdWUgOiB2YWx1ZVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGVbJ2RlbGV0ZSddID0gZnVuY3Rpb24obmFtZSkge1xuICAgIGRlbGV0ZSB0aGlzLm1hcFtub3JtYWxpemVOYW1lKG5hbWUpXVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24obmFtZSkge1xuICAgIG5hbWUgPSBub3JtYWxpemVOYW1lKG5hbWUpXG4gICAgcmV0dXJuIHRoaXMuaGFzKG5hbWUpID8gdGhpcy5tYXBbbmFtZV0gOiBudWxsXG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbihuYW1lKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwLmhhc093blByb3BlcnR5KG5vcm1hbGl6ZU5hbWUobmFtZSkpXG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgIHRoaXMubWFwW25vcm1hbGl6ZU5hbWUobmFtZSldID0gbm9ybWFsaXplVmFsdWUodmFsdWUpXG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24oY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICBmb3IgKHZhciBuYW1lIGluIHRoaXMubWFwKSB7XG4gICAgICBpZiAodGhpcy5tYXAuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgY2FsbGJhY2suY2FsbCh0aGlzQXJnLCB0aGlzLm1hcFtuYW1lXSwgbmFtZSwgdGhpcylcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS5rZXlzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGl0ZW1zID0gW11cbiAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIG5hbWUpIHsgaXRlbXMucHVzaChuYW1lKSB9KVxuICAgIHJldHVybiBpdGVyYXRvckZvcihpdGVtcylcbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLnZhbHVlcyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpdGVtcyA9IFtdXG4gICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlKSB7IGl0ZW1zLnB1c2godmFsdWUpIH0pXG4gICAgcmV0dXJuIGl0ZXJhdG9yRm9yKGl0ZW1zKVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuZW50cmllcyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpdGVtcyA9IFtdXG4gICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7IGl0ZW1zLnB1c2goW25hbWUsIHZhbHVlXSkgfSlcbiAgICByZXR1cm4gaXRlcmF0b3JGb3IoaXRlbXMpXG4gIH1cblxuICBpZiAoc3VwcG9ydC5pdGVyYWJsZSkge1xuICAgIEhlYWRlcnMucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl0gPSBIZWFkZXJzLnByb3RvdHlwZS5lbnRyaWVzXG4gIH1cblxuICBmdW5jdGlvbiBjb25zdW1lZChib2R5KSB7XG4gICAgaWYgKGJvZHkuYm9keVVzZWQpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgVHlwZUVycm9yKCdBbHJlYWR5IHJlYWQnKSlcbiAgICB9XG4gICAgYm9keS5ib2R5VXNlZCA9IHRydWVcbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbGVSZWFkZXJSZWFkeShyZWFkZXIpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJlc29sdmUocmVhZGVyLnJlc3VsdClcbiAgICAgIH1cbiAgICAgIHJlYWRlci5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJlamVjdChyZWFkZXIuZXJyb3IpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWRCbG9iQXNBcnJheUJ1ZmZlcihibG9iKSB7XG4gICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKClcbiAgICB2YXIgcHJvbWlzZSA9IGZpbGVSZWFkZXJSZWFkeShyZWFkZXIpXG4gICAgcmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKGJsb2IpXG4gICAgcmV0dXJuIHByb21pc2VcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWRCbG9iQXNUZXh0KGJsb2IpIHtcbiAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKVxuICAgIHZhciBwcm9taXNlID0gZmlsZVJlYWRlclJlYWR5KHJlYWRlcilcbiAgICByZWFkZXIucmVhZEFzVGV4dChibG9iKVxuICAgIHJldHVybiBwcm9taXNlXG4gIH1cblxuICBmdW5jdGlvbiByZWFkQXJyYXlCdWZmZXJBc1RleHQoYnVmKSB7XG4gICAgdmFyIHZpZXcgPSBuZXcgVWludDhBcnJheShidWYpXG4gICAgdmFyIGNoYXJzID0gbmV3IEFycmF5KHZpZXcubGVuZ3RoKVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2aWV3Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBjaGFyc1tpXSA9IFN0cmluZy5mcm9tQ2hhckNvZGUodmlld1tpXSlcbiAgICB9XG4gICAgcmV0dXJuIGNoYXJzLmpvaW4oJycpXG4gIH1cblxuICBmdW5jdGlvbiBidWZmZXJDbG9uZShidWYpIHtcbiAgICBpZiAoYnVmLnNsaWNlKSB7XG4gICAgICByZXR1cm4gYnVmLnNsaWNlKDApXG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB2aWV3ID0gbmV3IFVpbnQ4QXJyYXkoYnVmLmJ5dGVMZW5ndGgpXG4gICAgICB2aWV3LnNldChuZXcgVWludDhBcnJheShidWYpKVxuICAgICAgcmV0dXJuIHZpZXcuYnVmZmVyXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gQm9keSgpIHtcbiAgICB0aGlzLmJvZHlVc2VkID0gZmFsc2VcblxuICAgIHRoaXMuX2luaXRCb2R5ID0gZnVuY3Rpb24oYm9keSkge1xuICAgICAgdGhpcy5fYm9keUluaXQgPSBib2R5XG4gICAgICBpZiAoIWJvZHkpIHtcbiAgICAgICAgdGhpcy5fYm9keVRleHQgPSAnJ1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgYm9keSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGhpcy5fYm9keVRleHQgPSBib2R5XG4gICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuYmxvYiAmJiBCbG9iLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG4gICAgICAgIHRoaXMuX2JvZHlCbG9iID0gYm9keVxuICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LmZvcm1EYXRhICYmIEZvcm1EYXRhLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG4gICAgICAgIHRoaXMuX2JvZHlGb3JtRGF0YSA9IGJvZHlcbiAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5zZWFyY2hQYXJhbXMgJiYgVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG4gICAgICAgIHRoaXMuX2JvZHlUZXh0ID0gYm9keS50b1N0cmluZygpXG4gICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuYXJyYXlCdWZmZXIgJiYgc3VwcG9ydC5ibG9iICYmIGlzRGF0YVZpZXcoYm9keSkpIHtcbiAgICAgICAgdGhpcy5fYm9keUFycmF5QnVmZmVyID0gYnVmZmVyQ2xvbmUoYm9keS5idWZmZXIpXG4gICAgICAgIC8vIElFIDEwLTExIGNhbid0IGhhbmRsZSBhIERhdGFWaWV3IGJvZHkuXG4gICAgICAgIHRoaXMuX2JvZHlJbml0ID0gbmV3IEJsb2IoW3RoaXMuX2JvZHlBcnJheUJ1ZmZlcl0pXG4gICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuYXJyYXlCdWZmZXIgJiYgKEFycmF5QnVmZmVyLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpIHx8IGlzQXJyYXlCdWZmZXJWaWV3KGJvZHkpKSkge1xuICAgICAgICB0aGlzLl9ib2R5QXJyYXlCdWZmZXIgPSBidWZmZXJDbG9uZShib2R5KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bnN1cHBvcnRlZCBCb2R5SW5pdCB0eXBlJylcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLmhlYWRlcnMuZ2V0KCdjb250ZW50LXR5cGUnKSkge1xuICAgICAgICBpZiAodHlwZW9mIGJvZHkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgdGhpcy5oZWFkZXJzLnNldCgnY29udGVudC10eXBlJywgJ3RleHQvcGxhaW47Y2hhcnNldD1VVEYtOCcpXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUJsb2IgJiYgdGhpcy5fYm9keUJsb2IudHlwZSkge1xuICAgICAgICAgIHRoaXMuaGVhZGVycy5zZXQoJ2NvbnRlbnQtdHlwZScsIHRoaXMuX2JvZHlCbG9iLnR5cGUpXG4gICAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5zZWFyY2hQYXJhbXMgJiYgVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG4gICAgICAgICAgdGhpcy5oZWFkZXJzLnNldCgnY29udGVudC10eXBlJywgJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PVVURi04JylcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzdXBwb3J0LmJsb2IpIHtcbiAgICAgIHRoaXMuYmxvYiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcmVqZWN0ZWQgPSBjb25zdW1lZCh0aGlzKVxuICAgICAgICBpZiAocmVqZWN0ZWQpIHtcbiAgICAgICAgICByZXR1cm4gcmVqZWN0ZWRcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9ib2R5QmxvYikge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fYm9keUJsb2IpXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUFycmF5QnVmZmVyKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShuZXcgQmxvYihbdGhpcy5fYm9keUFycmF5QnVmZmVyXSkpXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUZvcm1EYXRhKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjb3VsZCBub3QgcmVhZCBGb3JtRGF0YSBib2R5IGFzIGJsb2InKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobmV3IEJsb2IoW3RoaXMuX2JvZHlUZXh0XSkpXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhpcy5hcnJheUJ1ZmZlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5fYm9keUFycmF5QnVmZmVyKSB7XG4gICAgICAgICAgcmV0dXJuIGNvbnN1bWVkKHRoaXMpIHx8IFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuYmxvYigpLnRoZW4ocmVhZEJsb2JBc0FycmF5QnVmZmVyKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy50ZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcmVqZWN0ZWQgPSBjb25zdW1lZCh0aGlzKVxuICAgICAgaWYgKHJlamVjdGVkKSB7XG4gICAgICAgIHJldHVybiByZWplY3RlZFxuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5fYm9keUJsb2IpIHtcbiAgICAgICAgcmV0dXJuIHJlYWRCbG9iQXNUZXh0KHRoaXMuX2JvZHlCbG9iKVxuICAgICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZWFkQXJyYXlCdWZmZXJBc1RleHQodGhpcy5fYm9keUFycmF5QnVmZmVyKSlcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUZvcm1EYXRhKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignY291bGQgbm90IHJlYWQgRm9ybURhdGEgYm9keSBhcyB0ZXh0JylcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fYm9keVRleHQpXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHN1cHBvcnQuZm9ybURhdGEpIHtcbiAgICAgIHRoaXMuZm9ybURhdGEgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGV4dCgpLnRoZW4oZGVjb2RlKVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuanNvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMudGV4dCgpLnRoZW4oSlNPTi5wYXJzZSlcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLy8gSFRUUCBtZXRob2RzIHdob3NlIGNhcGl0YWxpemF0aW9uIHNob3VsZCBiZSBub3JtYWxpemVkXG4gIHZhciBtZXRob2RzID0gWydERUxFVEUnLCAnR0VUJywgJ0hFQUQnLCAnT1BUSU9OUycsICdQT1NUJywgJ1BVVCddXG5cbiAgZnVuY3Rpb24gbm9ybWFsaXplTWV0aG9kKG1ldGhvZCkge1xuICAgIHZhciB1cGNhc2VkID0gbWV0aG9kLnRvVXBwZXJDYXNlKClcbiAgICByZXR1cm4gKG1ldGhvZHMuaW5kZXhPZih1cGNhc2VkKSA+IC0xKSA/IHVwY2FzZWQgOiBtZXRob2RcbiAgfVxuXG4gIGZ1bmN0aW9uIFJlcXVlc3QoaW5wdXQsIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fVxuICAgIHZhciBib2R5ID0gb3B0aW9ucy5ib2R5XG5cbiAgICBpZiAoaW5wdXQgaW5zdGFuY2VvZiBSZXF1ZXN0KSB7XG4gICAgICBpZiAoaW5wdXQuYm9keVVzZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQWxyZWFkeSByZWFkJylcbiAgICAgIH1cbiAgICAgIHRoaXMudXJsID0gaW5wdXQudXJsXG4gICAgICB0aGlzLmNyZWRlbnRpYWxzID0gaW5wdXQuY3JlZGVudGlhbHNcbiAgICAgIGlmICghb3B0aW9ucy5oZWFkZXJzKSB7XG4gICAgICAgIHRoaXMuaGVhZGVycyA9IG5ldyBIZWFkZXJzKGlucHV0LmhlYWRlcnMpXG4gICAgICB9XG4gICAgICB0aGlzLm1ldGhvZCA9IGlucHV0Lm1ldGhvZFxuICAgICAgdGhpcy5tb2RlID0gaW5wdXQubW9kZVxuICAgICAgaWYgKCFib2R5ICYmIGlucHV0Ll9ib2R5SW5pdCAhPSBudWxsKSB7XG4gICAgICAgIGJvZHkgPSBpbnB1dC5fYm9keUluaXRcbiAgICAgICAgaW5wdXQuYm9keVVzZWQgPSB0cnVlXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudXJsID0gU3RyaW5nKGlucHV0KVxuICAgIH1cblxuICAgIHRoaXMuY3JlZGVudGlhbHMgPSBvcHRpb25zLmNyZWRlbnRpYWxzIHx8IHRoaXMuY3JlZGVudGlhbHMgfHwgJ29taXQnXG4gICAgaWYgKG9wdGlvbnMuaGVhZGVycyB8fCAhdGhpcy5oZWFkZXJzKSB7XG4gICAgICB0aGlzLmhlYWRlcnMgPSBuZXcgSGVhZGVycyhvcHRpb25zLmhlYWRlcnMpXG4gICAgfVxuICAgIHRoaXMubWV0aG9kID0gbm9ybWFsaXplTWV0aG9kKG9wdGlvbnMubWV0aG9kIHx8IHRoaXMubWV0aG9kIHx8ICdHRVQnKVxuICAgIHRoaXMubW9kZSA9IG9wdGlvbnMubW9kZSB8fCB0aGlzLm1vZGUgfHwgbnVsbFxuICAgIHRoaXMucmVmZXJyZXIgPSBudWxsXG5cbiAgICBpZiAoKHRoaXMubWV0aG9kID09PSAnR0VUJyB8fCB0aGlzLm1ldGhvZCA9PT0gJ0hFQUQnKSAmJiBib2R5KSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdCb2R5IG5vdCBhbGxvd2VkIGZvciBHRVQgb3IgSEVBRCByZXF1ZXN0cycpXG4gICAgfVxuICAgIHRoaXMuX2luaXRCb2R5KGJvZHkpXG4gIH1cblxuICBSZXF1ZXN0LnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBuZXcgUmVxdWVzdCh0aGlzLCB7IGJvZHk6IHRoaXMuX2JvZHlJbml0IH0pXG4gIH1cblxuICBmdW5jdGlvbiBkZWNvZGUoYm9keSkge1xuICAgIHZhciBmb3JtID0gbmV3IEZvcm1EYXRhKClcbiAgICBib2R5LnRyaW0oKS5zcGxpdCgnJicpLmZvckVhY2goZnVuY3Rpb24oYnl0ZXMpIHtcbiAgICAgIGlmIChieXRlcykge1xuICAgICAgICB2YXIgc3BsaXQgPSBieXRlcy5zcGxpdCgnPScpXG4gICAgICAgIHZhciBuYW1lID0gc3BsaXQuc2hpZnQoKS5yZXBsYWNlKC9cXCsvZywgJyAnKVxuICAgICAgICB2YXIgdmFsdWUgPSBzcGxpdC5qb2luKCc9JykucmVwbGFjZSgvXFwrL2csICcgJylcbiAgICAgICAgZm9ybS5hcHBlbmQoZGVjb2RlVVJJQ29tcG9uZW50KG5hbWUpLCBkZWNvZGVVUklDb21wb25lbnQodmFsdWUpKVxuICAgICAgfVxuICAgIH0pXG4gICAgcmV0dXJuIGZvcm1cbiAgfVxuXG4gIGZ1bmN0aW9uIHBhcnNlSGVhZGVycyhyYXdIZWFkZXJzKSB7XG4gICAgdmFyIGhlYWRlcnMgPSBuZXcgSGVhZGVycygpXG4gICAgcmF3SGVhZGVycy5zcGxpdCgvXFxyP1xcbi8pLmZvckVhY2goZnVuY3Rpb24obGluZSkge1xuICAgICAgdmFyIHBhcnRzID0gbGluZS5zcGxpdCgnOicpXG4gICAgICB2YXIga2V5ID0gcGFydHMuc2hpZnQoKS50cmltKClcbiAgICAgIGlmIChrZXkpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gcGFydHMuam9pbignOicpLnRyaW0oKVxuICAgICAgICBoZWFkZXJzLmFwcGVuZChrZXksIHZhbHVlKVxuICAgICAgfVxuICAgIH0pXG4gICAgcmV0dXJuIGhlYWRlcnNcbiAgfVxuXG4gIEJvZHkuY2FsbChSZXF1ZXN0LnByb3RvdHlwZSlcblxuICBmdW5jdGlvbiBSZXNwb25zZShib2R5SW5pdCwgb3B0aW9ucykge1xuICAgIGlmICghb3B0aW9ucykge1xuICAgICAgb3B0aW9ucyA9IHt9XG4gICAgfVxuXG4gICAgdGhpcy50eXBlID0gJ2RlZmF1bHQnXG4gICAgdGhpcy5zdGF0dXMgPSAnc3RhdHVzJyBpbiBvcHRpb25zID8gb3B0aW9ucy5zdGF0dXMgOiAyMDBcbiAgICB0aGlzLm9rID0gdGhpcy5zdGF0dXMgPj0gMjAwICYmIHRoaXMuc3RhdHVzIDwgMzAwXG4gICAgdGhpcy5zdGF0dXNUZXh0ID0gJ3N0YXR1c1RleHQnIGluIG9wdGlvbnMgPyBvcHRpb25zLnN0YXR1c1RleHQgOiAnT0snXG4gICAgdGhpcy5oZWFkZXJzID0gbmV3IEhlYWRlcnMob3B0aW9ucy5oZWFkZXJzKVxuICAgIHRoaXMudXJsID0gb3B0aW9ucy51cmwgfHwgJydcbiAgICB0aGlzLl9pbml0Qm9keShib2R5SW5pdClcbiAgfVxuXG4gIEJvZHkuY2FsbChSZXNwb25zZS5wcm90b3R5cGUpXG5cbiAgUmVzcG9uc2UucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZSh0aGlzLl9ib2R5SW5pdCwge1xuICAgICAgc3RhdHVzOiB0aGlzLnN0YXR1cyxcbiAgICAgIHN0YXR1c1RleHQ6IHRoaXMuc3RhdHVzVGV4dCxcbiAgICAgIGhlYWRlcnM6IG5ldyBIZWFkZXJzKHRoaXMuaGVhZGVycyksXG4gICAgICB1cmw6IHRoaXMudXJsXG4gICAgfSlcbiAgfVxuXG4gIFJlc3BvbnNlLmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHJlc3BvbnNlID0gbmV3IFJlc3BvbnNlKG51bGwsIHtzdGF0dXM6IDAsIHN0YXR1c1RleHQ6ICcnfSlcbiAgICByZXNwb25zZS50eXBlID0gJ2Vycm9yJ1xuICAgIHJldHVybiByZXNwb25zZVxuICB9XG5cbiAgdmFyIHJlZGlyZWN0U3RhdHVzZXMgPSBbMzAxLCAzMDIsIDMwMywgMzA3LCAzMDhdXG5cbiAgUmVzcG9uc2UucmVkaXJlY3QgPSBmdW5jdGlvbih1cmwsIHN0YXR1cykge1xuICAgIGlmIChyZWRpcmVjdFN0YXR1c2VzLmluZGV4T2Yoc3RhdHVzKSA9PT0gLTEpIHtcbiAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbnZhbGlkIHN0YXR1cyBjb2RlJylcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFJlc3BvbnNlKG51bGwsIHtzdGF0dXM6IHN0YXR1cywgaGVhZGVyczoge2xvY2F0aW9uOiB1cmx9fSlcbiAgfVxuXG4gIHNlbGYuSGVhZGVycyA9IEhlYWRlcnNcbiAgc2VsZi5SZXF1ZXN0ID0gUmVxdWVzdFxuICBzZWxmLlJlc3BvbnNlID0gUmVzcG9uc2VcblxuICBzZWxmLmZldGNoID0gZnVuY3Rpb24oaW5wdXQsIGluaXQpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgcmVxdWVzdCA9IG5ldyBSZXF1ZXN0KGlucHV0LCBpbml0KVxuICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpXG5cbiAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgICAgc3RhdHVzOiB4aHIuc3RhdHVzLFxuICAgICAgICAgIHN0YXR1c1RleHQ6IHhoci5zdGF0dXNUZXh0LFxuICAgICAgICAgIGhlYWRlcnM6IHBhcnNlSGVhZGVycyh4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkgfHwgJycpXG4gICAgICAgIH1cbiAgICAgICAgb3B0aW9ucy51cmwgPSAncmVzcG9uc2VVUkwnIGluIHhociA/IHhoci5yZXNwb25zZVVSTCA6IG9wdGlvbnMuaGVhZGVycy5nZXQoJ1gtUmVxdWVzdC1VUkwnKVxuICAgICAgICB2YXIgYm9keSA9ICdyZXNwb25zZScgaW4geGhyID8geGhyLnJlc3BvbnNlIDogeGhyLnJlc3BvbnNlVGV4dFxuICAgICAgICByZXNvbHZlKG5ldyBSZXNwb25zZShib2R5LCBvcHRpb25zKSlcbiAgICAgIH1cblxuICAgICAgeGhyLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmVqZWN0KG5ldyBUeXBlRXJyb3IoJ05ldHdvcmsgcmVxdWVzdCBmYWlsZWQnKSlcbiAgICAgIH1cblxuICAgICAgeGhyLm9udGltZW91dCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZWplY3QobmV3IFR5cGVFcnJvcignTmV0d29yayByZXF1ZXN0IGZhaWxlZCcpKVxuICAgICAgfVxuXG4gICAgICB4aHIub3BlbihyZXF1ZXN0Lm1ldGhvZCwgcmVxdWVzdC51cmwsIHRydWUpXG5cbiAgICAgIGlmIChyZXF1ZXN0LmNyZWRlbnRpYWxzID09PSAnaW5jbHVkZScpIHtcbiAgICAgICAgeGhyLndpdGhDcmVkZW50aWFscyA9IHRydWVcbiAgICAgIH1cblxuICAgICAgaWYgKCdyZXNwb25zZVR5cGUnIGluIHhociAmJiBzdXBwb3J0LmJsb2IpIHtcbiAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdibG9iJ1xuICAgICAgfVxuXG4gICAgICByZXF1ZXN0LmhlYWRlcnMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwgbmFtZSkge1xuICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihuYW1lLCB2YWx1ZSlcbiAgICAgIH0pXG5cbiAgICAgIHhoci5zZW5kKHR5cGVvZiByZXF1ZXN0Ll9ib2R5SW5pdCA9PT0gJ3VuZGVmaW5lZCcgPyBudWxsIDogcmVxdWVzdC5fYm9keUluaXQpXG4gICAgfSlcbiAgfVxuICBzZWxmLmZldGNoLnBvbHlmaWxsID0gdHJ1ZVxufSkodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHRoaXMpO1xuXG5cbi8qKiovIH0pLFxuLyogNyAqLyxcbi8qIDggKi8sXG4vKiA5ICovLFxuLyogMTAgKi8sXG4vKiAxMSAqLyxcbi8qIDEyICovLFxuLyogMTMgKi8sXG4vKiAxNCAqLyxcbi8qIDE1ICovLFxuLyogMTYgKi8sXG4vKiAxNyAqLyxcbi8qIDE4ICovLFxuLyogMTkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19vYmplY3RzX2dldFVybFBhcmFtZXRlcl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19saWJfY2FydEFQSV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX2NsYXNzZXNfSGVhZF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcbnZhciBBdWRpb0NvbnRleHQgPSB3aW5kb3cuQXVkaW9Db250ZXh0IHx8IHdpbmRvdy53ZWJraXRBdWRpb0NvbnRleHQ7XG5cblxuXG5cbnZhciB0YXJnZXRJZCA9IHZvaWQgMCxcbiAgICBhdWRpb0N0eCA9IHZvaWQgMDtcbnZhciBwbGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BsYXlfc2FudGEnKTtcbnZhciAkYXVkaW8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXVkaW8nKTtcblxudmFyIGF1ZGlvU291cmNlcyA9IFtdLFxuICAgIHBpdGNoU2hpZnRlclByb2Nlc3NvciA9IHZvaWQgMDtcblxudmFyIGF1ZGlvU291cmNlSW5kZXggPSAwLFxuICAgIGF1ZGlvVmlzdWFsaXNhdGlvbkluZGV4ID0gMCxcbiAgICB2YWxpZEdyYW5TaXplcyA9IFsyNTYsIDUxMiwgMTAyNCwgMjA0OCwgNDA5NiwgODE5Ml0sXG4gICAgZ3JhaW5TaXplID0gdmFsaWRHcmFuU2l6ZXNbMV0sXG4gICAgcGl0Y2hSYXRpbyA9IDEuMCxcbiAgICBvdmVybGFwUmF0aW8gPSAwLjUwO1xuXG52YXIgaW5pdCA9IGZ1bmN0aW9uIGluaXQoKSB7XG4gIGF1ZGlvQ3R4ID0gbmV3IEF1ZGlvQ29udGV4dCgpO1xuICB0YXJnZXRJZCA9IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX29iamVjdHNfZ2V0VXJsUGFyYW1ldGVyX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKFwiaWRcIik7XG4gIGlmICghdGFyZ2V0SWQpIHdpbmRvdy5sb2NhdGlvbiA9IFwiaHR0cHM6Ly9sb2NhbGhvc3Q6ODA4MFwiO1xuXG4gIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fbGliX2NhcnRBUElfX1tcImFcIiAvKiBkZWZhdWx0ICovXS5yZWFkT25lKHRhcmdldElkKS50aGVuKGZ1bmN0aW9uIChkKSB7XG4gICAgaWYgKGQuc3RhdHVzQ29kZSkgd2luZG93LmxvY2F0aW9uID0gXCJodHRwczovL2xvY2FsaG9zdDo4MDgwXCI7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25hbWUnKS5pbm5lckhUTUwgPSBkLm5hbWU7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NhbnRhX2F1ZGlvJykuc3JjID0gJy4vdXBsb2Fkcy8nICsgZC5pZCArICcub2dnJztcblxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGJ1ZmZlckxvYWRlciA9IG5ldyBCdWZmZXJMb2FkZXIoYXVkaW9DdHgsIFsnLi91cGxvYWRzLycgKyBkLmlkICsgJy5vZ2cnXSwgZnVuY3Rpb24gKGJ1ZmZlckxpc3QpIHtcblxuICAgICAgICB2YXIgbG9vcCA9IGZhbHNlO1xuICAgICAgICB2YXIgc291cmNlID0gdm9pZCAwO1xuXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXBlYXQnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBsb29wID0gIWxvb3A7XG4gICAgICAgICAgc291cmNlLnN0b3AoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcGl0Y2hSYXRpbyA9IDI7XG5cbiAgICAgICAgJGF1ZGlvLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHNvdXJjZSA9ICcnO1xuICAgICAgICAgIHNvdXJjZSA9IGF1ZGlvQ3R4LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpO1xuICAgICAgICAgIHNvdXJjZS5idWZmZXIgPSBidWZmZXJMaXN0WzBdO1xuXG4gICAgICAgICAgLy8gc291cmNlLmNvbm5lY3QoYXVkaW9DdHguZGVzdGluYXRpb24pXG5cbiAgICAgICAgICBzb3VyY2UuY29ubmVjdChwaXRjaFNoaWZ0ZXJQcm9jZXNzb3IpO1xuICAgICAgICAgIHNvdXJjZS5sb29wID0gbG9vcDtcbiAgICAgICAgICBzb3VyY2Uuc3RhcnQoKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgYnVmZmVyTG9hZGVyLmxvYWQoKTtcbiAgICAgIGluaXRQcm9jZXNzb3IoKTtcbiAgICAgIC8vIHRoaXMuaW5pdFNsaWRlcnMoKTtcbiAgICB9LCAxMDAwKTtcbiAgfSk7XG59O1xuXG52YXIgbGluZWFySW50ZXJwb2xhdGlvbiA9IGZ1bmN0aW9uIGxpbmVhckludGVycG9sYXRpb24oYSwgYiwgdCkge1xuICByZXR1cm4gYSArIChiIC0gYSkgKiB0O1xufTtcblxudmFyIGluaXRQcm9jZXNzb3IgPSBmdW5jdGlvbiBpbml0UHJvY2Vzc29yKCkge1xuXG4gIGlmIChwaXRjaFNoaWZ0ZXJQcm9jZXNzb3IpIHtcbiAgICBwaXRjaFNoaWZ0ZXJQcm9jZXNzb3IuZGlzY29ubmVjdCgpO1xuICB9XG5cbiAgaWYgKGF1ZGlvQ3R4LmNyZWF0ZVNjcmlwdFByb2Nlc3Nvcikge1xuICAgIHBpdGNoU2hpZnRlclByb2Nlc3NvciA9IGF1ZGlvQ3R4LmNyZWF0ZVNjcmlwdFByb2Nlc3NvcihncmFpblNpemUsIDEsIDEpO1xuICB9IGVsc2UgaWYgKGF1ZGlvQ3R4LmNyZWF0ZUphdmFTY3JpcHROb2RlKSB7XG4gICAgcGl0Y2hTaGlmdGVyUHJvY2Vzc29yID0gYXVkaW9DdHguY3JlYXRlSmF2YVNjcmlwdE5vZGUoZ3JhaW5TaXplLCAxLCAxKTtcbiAgfVxuXG4gIHBpdGNoU2hpZnRlclByb2Nlc3Nvci5idWZmZXIgPSBuZXcgRmxvYXQzMkFycmF5KGdyYWluU2l6ZSAqIDIpO1xuICBwaXRjaFNoaWZ0ZXJQcm9jZXNzb3IuZ3JhaW5XaW5kb3cgPSBoYW5uV2luZG93KGdyYWluU2l6ZSk7XG5cbiAgcGl0Y2hTaGlmdGVyUHJvY2Vzc29yLm9uYXVkaW9wcm9jZXNzID0gZnVuY3Rpb24gKGV2ZW50KSB7XG5cbiAgICB2YXIgaW5wdXREYXRhID0gZXZlbnQuaW5wdXRCdWZmZXIuZ2V0Q2hhbm5lbERhdGEoMCk7XG4gICAgdmFyIG91dHB1dERhdGEgPSBldmVudC5vdXRwdXRCdWZmZXIuZ2V0Q2hhbm5lbERhdGEoMCk7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgaW5wdXREYXRhLmxlbmd0aDsgaSsrKSB7XG5cbiAgICAgIC8vIEFwcGx5IHRoZSB3aW5kb3cgdG8gdGhlIGlucHV0IGJ1ZmZlclxuICAgICAgaW5wdXREYXRhW2ldICo9IHRoaXMuZ3JhaW5XaW5kb3dbaV07XG5cbiAgICAgIC8vIFNoaWZ0IGhhbGYgb2YgdGhlIGJ1ZmZlclxuICAgICAgdGhpcy5idWZmZXJbaV0gPSB0aGlzLmJ1ZmZlcltpICsgZ3JhaW5TaXplXTtcblxuICAgICAgLy8gRW1wdHkgdGhlIGJ1ZmZlciB0YWlsXG4gICAgICB0aGlzLmJ1ZmZlcltpICsgZ3JhaW5TaXplXSA9IDAuMDtcbiAgICB9XG5cbiAgICAvLyBDYWxjdWxhdGUgdGhlIHBpdGNoIHNoaWZ0ZWQgZ3JhaW4gcmUtc2FtcGxpbmcgYW5kIGxvb3BpbmcgdGhlIGlucHV0XG4gICAgdmFyIGdyYWluRGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoZ3JhaW5TaXplICogMik7XG4gICAgZm9yICh2YXIgaSA9IDAsIGogPSAwLjA7IGkgPCBncmFpblNpemU7IGkrKywgaiArPSBwaXRjaFJhdGlvKSB7XG5cbiAgICAgIHZhciBpbmRleCA9IE1hdGguZmxvb3IoaikgJSBncmFpblNpemU7XG4gICAgICB2YXIgYSA9IGlucHV0RGF0YVtpbmRleF07XG4gICAgICB2YXIgYiA9IGlucHV0RGF0YVsoaW5kZXggKyAxKSAlIGdyYWluU2l6ZV07XG4gICAgICBncmFpbkRhdGFbaV0gKz0gbGluZWFySW50ZXJwb2xhdGlvbihhLCBiLCBqICUgMS4wKSAqIHRoaXMuZ3JhaW5XaW5kb3dbaV07XG4gICAgfVxuXG4gICAgLy8gQ29weSB0aGUgZ3JhaW4gbXVsdGlwbGUgdGltZXMgb3ZlcmxhcHBpbmcgaXRcbiAgICBmb3IgKGkgPSAwOyBpIDwgZ3JhaW5TaXplOyBpICs9IE1hdGgucm91bmQoZ3JhaW5TaXplICogKDEgLSBvdmVybGFwUmF0aW8pKSkge1xuICAgICAgZm9yIChqID0gMDsgaiA8PSBncmFpblNpemU7IGorKykge1xuICAgICAgICB0aGlzLmJ1ZmZlcltpICsgal0gKz0gZ3JhaW5EYXRhW2pdO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIE91dHB1dCB0aGUgZmlyc3QgaGFsZiBvZiB0aGUgYnVmZmVyXG4gICAgZm9yIChpID0gMDsgaSA8IGdyYWluU2l6ZTsgaSsrKSB7XG4gICAgICBvdXRwdXREYXRhW2ldID0gdGhpcy5idWZmZXJbaV07XG4gICAgfVxuICB9O1xuXG4gIHBpdGNoU2hpZnRlclByb2Nlc3Nvci5jb25uZWN0KGF1ZGlvQ3R4LmRlc3RpbmF0aW9uKTtcbn07XG5cbnZhciBoYW5uV2luZG93ID0gZnVuY3Rpb24gaGFubldpbmRvdyhsZW5ndGgpIHtcbiAgdmFyIHdpbmRvdyA9IG5ldyBGbG9hdDMyQXJyYXkobGVuZ3RoKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIHdpbmRvd1tpXSA9IDAuNSAqICgxIC0gTWF0aC5jb3MoMiAqIE1hdGguUEkgKiBpIC8gKGxlbmd0aCAtIDEpKSk7XG4gIH1cbiAgcmV0dXJuIHdpbmRvdztcbn07XG5pbml0KCk7XG5cbi8qKiovIH0pLFxuLyogMjAgKi8sXG4vKiAyMSAqLyxcbi8qIDIyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xudmFyIGdldFVybFBhcmFtZXRlciA9IGZ1bmN0aW9uIGdldFVybFBhcmFtZXRlcihuYW1lKSB7XG4gIG5hbWUgPSBuYW1lLnJlcGxhY2UoL1tcXFtdLywgJ1xcXFxbJykucmVwbGFjZSgvW1xcXV0vLCAnXFxcXF0nKTtcbiAgdmFyIHJlZ2V4ID0gbmV3IFJlZ0V4cCgnW1xcXFw/Jl0nICsgbmFtZSArICc9KFteJiNdKiknKTtcbiAgdmFyIHJlc3VsdHMgPSByZWdleC5leGVjKGxvY2F0aW9uLnNlYXJjaCk7XG4gIHJldHVybiByZXN1bHRzID09PSBudWxsID8gZmFsc2UgOiBkZWNvZGVVUklDb21wb25lbnQocmVzdWx0c1sxXS5yZXBsYWNlKC9cXCsvZywgJyAnKSk7XG59O1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gKGdldFVybFBhcmFtZXRlcik7XG5cbi8qKiovIH0pXG4vKioqKioqLyBdKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8ganMvc2FudGEuanMiLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbiBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbiBcdFx0XHR9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxOSk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjay9ib290c3RyYXAgMmU1YmE5MmE4ZWQ3ZTg0Yzc0OTciLCJjb25zdCBDb2xvcnMgPSB7XG4gIHNraW46IDB4ZmZlMGJkLFxuICBmcmVja2xlczogMHhjZmJhOTYsXG4gIHdoaXRlOiAweGU5ZWJlZSxcbiAgZ2xhc3NlczogMHhmOWM0MjEsXG4gIHRlZXRoOiAweGZmZmZmZixcbiAgYmxhY2s6IDB4MmUyZTJlLFxuICBleWU6IDB4NjI5NWE4LFxuICBoYXQ6IDB4NzIwMzE0XG59O1xuZXhwb3J0IGRlZmF1bHQgQ29sb3JzO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2pzL29iamVjdHMvY29sb3JzLmpzIiwiaW1wb3J0IGZldGNoIGZyb20gJ2lzb21vcnBoaWMtZmV0Y2gnO1xuXG5jb25zdCB1cmwgPSBgL2FwaS9jYXJ0YDtcblxuZXhwb3J0IGRlZmF1bHQge1xuXG4gIGNyZWF0ZTogKHt0ZXh0LCBpZCwgbmFtZSwgYmxvYn0pID0+IHtcbiAgICBjb25zdCBtZXRob2QgPSBgUE9TVGA7XG4gICAgLy8gY29uc3QgbmV3RmlsZU5hbWUgPSBgJHtpZC5zcGxpdChgIGApLmpvaW4oYF9gKX1gO1xuICAgIGNvbnN0IGJvZHkgPSBuZXcgRm9ybURhdGEoKTtcbiAgICBib2R5LmFwcGVuZChgdGV4dGAsIHRleHQpO1xuICAgIGJvZHkuYXBwZW5kKGBpZGAsIGlkKTtcbiAgICBib2R5LmFwcGVuZChgbmFtZWAsIG5hbWUpO1xuICAgIC8vIGJvZHkuYXBwZW5kKGBzb3VuZGAsIGJsb2IsIG5ld0ZpbGVOYW1lKTtcblxuICAgIHJldHVybiBmZXRjaCh1cmwsIHttZXRob2QsIGJvZHl9KVxuICAgICAgLnRoZW4ociA9PiByLmpzb24oKSk7XG4gIH0sXG5cbiAgcmVhZDogKCkgPT4ge1xuICAgIHJldHVybiBmZXRjaChgJHt1cmx9P2lzQWN0aXZlPXRydWVgKVxuICAgICAgLnRoZW4ociA9PiByLmpzb24oKSk7XG4gIH0sXG5cbiAgcmVhZE9uZTogaWQgPT4ge1xuICAgIGNvbnN0IG1ldGhvZCA9IGBHRVRgO1xuICAgIHJldHVybiBmZXRjaChgJHt1cmx9LyR7aWR9YCwge21ldGhvZH0pLnRoZW4ociA9PiByLmpzb24oKSk7XG4gIH1cbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvanMvbGliL2NhcnRBUEkuanMiLCJpbXBvcnQgQ29sb3JzIGZyb20gJy4uL29iamVjdHMvY29sb3JzJztcbmltcG9ydCBNYXQgZnJvbSAnLi4vb2JqZWN0cy9NYXRlcmlhbHMnO1xuXG5sZXQgaXNCbGlua2luZyA9IGZhbHNlO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBIZWFkIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5tZXNoID0gbmV3IFRIUkVFLk9iamVjdDNEKCk7XG5cbiAgICBsZXQgaGVhZEdlb20gPSBuZXcgVEhSRUUuQm94QnVmZmVyR2VvbWV0cnkoMTYsIDE2LCAxNik7XG4gICAgbGV0IHNraW5NYXQgPSBuZXcgVEhSRUUuTWVzaExhbWJlcnRNYXRlcmlhbCh7Y29sb3I6IENvbG9ycy5za2luLCBmbGF0U2hhZGluZzogdHJ1ZX0pO1xuICAgIGxldCBleWVNYXQgPSBuZXcgVEhSRUUuTWVzaFBob25nTWF0ZXJpYWwoe2NvbG9yOiBDb2xvcnMuZXllLCBmbGF0U2hhZGluZzogdHJ1ZX0pO1xuXG4gICAgdGhpcy5oZWFkID0gbmV3IFRIUkVFLk1lc2goaGVhZEdlb20sc2tpbk1hdCk7XG4gICAgdGhpcy5oZWFkLmNhc3RTaGFkb3cgPSB0cnVlO1xuICAgIHRoaXMuaGVhZC5yZWNlaXZlU2hhZG93ID0gZmFsc2U7XG4gICAgdGhpcy5tZXNoLmFkZCh0aGlzLmhlYWQpO1xuXG4gICAgdGhpcy5iZWFyZCA9IG5ldyBUSFJFRS5PYmplY3QzRCgpO1xuICAgIHRoaXMuYmVhcmQucG9zaXRpb24ueSA9IC03O1xuICAgIHRoaXMuYmVhcmQucG9zaXRpb24ueiA9IDAuNTtcbiAgICB0aGlzLmhlYWQuYWRkKHRoaXMuYmVhcmQpO1xuICAgIGxldCBzdGFycztcblxuICAgIHRoaXMuQmVhcmQoKTtcbiAgICB0aGlzLkdsYXNzZXMoKTtcbiAgICB0aGlzLkhhaXIoKTtcbiAgICB0aGlzLkV5ZXMoKTtcbiAgICB0aGlzLkV5ZUJyb3dzKCk7XG4gICAgdGhpcy5IYXQoKTtcbiAgICB0aGlzLkZyZWNrbGVzKCk7XG4gICAgdGhpcy5GZWF0dXJlcygpO1xuICAgIHRoaXMuaWRsZSgpO1xuLy8gICAgdGhpcy5kaXp6eSgpO1xuLy8gICAgdGhpcy5TdGFyKCk7XG4vLyAgICB0aGlzLlN0YXJzR3JvdXAoKTtcbiAgICB0aGlzLm5vcm1hbGl6ZSgpO1xuICB9XG5cbiAgbm9ybWFsaXplKHYsIHZtaW4sIHZtYXgsIHRtaW4sIHRtYXgpIHtcbiAgICBjb25zdCBudiA9IE1hdGgubWF4KE1hdGgubWluKHYsIHZtYXgpLCB2bWluKTtcbiAgICBjb25zdCBkdiA9IHZtYXggLSB2bWluO1xuICAgIGNvbnN0IHBjID0gKG52IC0gdm1pbikgLyBkdjtcbiAgICBjb25zdCBkdCA9IHRtYXggLSB0bWluO1xuICAgIGNvbnN0IHR2ID0gdG1pbiArIChwYyAqIGR0KTtcbiAgICByZXR1cm4gdHY7XG4gIH1cblxuICAvLyBTdGFyKCkge1xuICAvLyAgIHRoaXMubWVzaCA9IG5ldyBUSFJFRS5PYmplY3QzRCgpO1xuICAvL1xuICAvLyAgIGxldCBwdHMgPSBbXSxcbiAgLy8gICAgIG51bVB0cyA9IDU7XG4gIC8vICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1QdHMgKiAyOyBpKyspIHtcbiAgLy8gICAgIGxldCBsID0gaSAlIDIgPT0gMVxuICAvLyAgICAgICA/IDFcbiAgLy8gICAgICAgOiAyO1xuICAvLyAgICAgbGV0IGEgPSBpIC8gbnVtUHRzICogTWF0aC5QSTtcbiAgLy8gICAgIHB0cy5wdXNoKG5ldyBUSFJFRS5WZWN0b3IyKE1hdGguY29zKGEpICogbCwgTWF0aC5zaW4oYSkgKiBsKSk7XG4gIC8vICAgfVxuICAvLyAgIGxldCBzdGFyU2hhcGUgPSBuZXcgVEhSRUUuU2hhcGUocHRzKTtcbiAgLy9cbiAgLy8gICBsZXQgZXh0cnVkZVNldHRpbmdzID0ge1xuICAvLyAgICAgYW1vdW50OiAwLjUsXG4gIC8vICAgICBzdGVwczogMSxcbiAgLy8gICAgIGJldmVsRW5hYmxlZDogZmFsc2VcbiAgLy8gICB9O1xuICAvLyAgIGxldCBzdGFyR2VvbSA9IG5ldyBUSFJFRS5FeHRydWRlR2VvbWV0cnkoc3RhclNoYXBlLCBleHRydWRlU2V0dGluZ3MpO1xuICAvL1xuICAvLyAgIGxldCBzdGFyID0gbmV3IFRIUkVFLk1lc2goc3Rhckdlb20sIE1hdC53aGl0ZU1hdCk7XG4gIC8vXG4gIC8vICAgc3Rhci5yb3RhdGlvbi54ID0gTWF0aC5QSSAvIDI7XG4gIC8vXG4gIC8vICAgdGhpcy5tZXNoLmFkZChzdGFyKTtcbiAgLy8gfVxuXG4gIC8vIFN0YXJzR3JvdXAoKXtcbiAgLy8gICB0aGlzLm1lc2ggPSBuZXcgVEhSRUUuT2JqZWN0M0QoKTtcbiAgLy9cbiAgLy8gICB0aGlzLm5TdGFycyA9IDE1O1xuICAvLyAgIGNvbnN0IHN0YXJBcnJheSA9IFtdO1xuICAvLyAgIGxldCBzdGVwQW5nbGUgPSBNYXRoLlBJICogMiAvIHRoaXMublN0YXJzO1xuICAvL1xuICAvLyAgIC8vIENyZWF0ZSB0aGUgU3RhcnNcbiAgLy8gICAvLyBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMublN0YXJzOyBpKyspIHtcbiAgLy8gICAvL1xuICAvLyAgIC8vICAgLy8gdGhpcy5zID0gdGhpcy5TdGFyKCk7XG4gIC8vICAgLy8gICAvLyBsZXQgYSA9IHN0ZXBBbmdsZSAqIGk7XG4gIC8vICAgLy8gICAvLyBsZXQgciA9IDE1O1xuICAvLyAgIC8vICAgLy9cbiAgLy8gICAvLyAgIC8vIHRoaXMucy5tZXNoLnBvc2l0aW9uLnkgPSBNYXRoLnNpbihhKSAqIHI7XG4gIC8vICAgLy8gICAvLyB0aGlzLnMubWVzaC5wb3NpdGlvbi54ID0gTWF0aC5jb3MoYSkgKiByO1xuICAvLyAgIC8vICAgLy9cbiAgLy8gICAvLyAgIC8vIHRoaXMucy5tZXNoLnJvdGF0aW9uLnogPSBhICsgTWF0aC5QSSAvIDI7XG4gIC8vICAgLy8gICAvLyB0aGlzLnMubWVzaC5wb3NpdGlvbi56ID0gMCAtIE1hdGgucmFuZG9tKCkgKiAzO1xuICAvLyAgIC8vICAgLy9cbiAgLy8gICAvLyAgIC8vIC8vICByYW5kb20gc2NhbGUgZm9yIGVhY2ggY2xvdWRcbiAgLy8gICAvLyAgIC8vIGxldCBzYyA9IDAuNSArIE1hdGgucmFuZG9tKCkgKiAuNjtcbiAgLy8gICAvLyAgIC8vIHRoaXMucy5tZXNoLnNjYWxlLnNldChzYywgc2MsIHNjKTtcbiAgLy8gICAvLyAgIC8vXG4gIC8vICAgLy8gICAvLyB0aGlzLm1lc2guYWRkKHRoaXMucy5tZXNoKTtcbiAgLy8gICAvL1xuICAvLyAgIC8vICAgc3RhckFycmF5LnB1c2godGhpcy5zKTtcbiAgLy8gICAvL31cbiAgLy8gICB0aGlzLm1lc2gucm90YXRpb24ueCA9IE1hdGguUEkgLyAyO1xuICAvLyB9XG5cbiAgLy8gc3BpblNjYWxlKCkge1xuICAvLyAgIHRoaXMubWVzaC5yb3RhdGlvbi56ICs9IDAuMDI7XG4gIC8vXG4gIC8vICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdGFyQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgLy8gICAgICBzdGFyQXJyYXlbaV0ubWVzaC5yb3RhdGlvbi54ID0gTWF0aC5zaW4oRGF0ZS5ub3coKSAqIDAuMDEpICogTWF0aC5QSSAqIDAuMSA7XG4gIC8vICAgICBzdGFyQXJyYXlbaV0ubWVzaC5yb3RhdGlvbi56ICs9IDAgLSBNYXRoLnJhbmRvbSgpICogMC4xNTtcbiAgLy8gICAgIHN0YXJBcnJheVtpXS5tZXNoLnJvdGF0aW9uLnggKz0gMCAtIE1hdGgucmFuZG9tKCkgKiAwLjA1O1xuICAvL1xuICAvLyAgIH1cbiAgLy8gfVxuXG4gIC8vIGRpenp5KCkge1xuICAvLyAgIHRoaXMuc3RhcnMgPSB0aGlzLlN0YXJzR3JvdXAoKTtcbiAgLy9cbiAgLy8gICAvLyB0aGlzLnN0YXJzLm1lc2gucG9zaXRpb24uc2V0KDAsIDEwLCAwKTtcbiAgLy8gICBsZXQgZGlzdGFuY2UgPSAxO1xuICAvL1xuICAvLyAgIHRoaXMuaGVhZC5yb3RhdGlvbi56ID0gTWF0aC5zaW4oRGF0ZS5ub3coKSAqIDAuMDA1KSAqIE1hdGguUEkgKiAwLjAxO1xuICAvLyAgIHRoaXMuaGVhZC5yb3RhdGlvbi54ID0gTWF0aC5zaW4oRGF0ZS5ub3coKSAqIDAuMDEpICogTWF0aC5QSSAqIDAuMDE7XG4gIC8vICAgdGhpcy5oZWFkLnJvdGF0aW9uLnkgPSBNYXRoLnNpbihEYXRlLm5vdygpICogMC4wMDUpICogTWF0aC5QSSAqIDAuMDE7XG4gIC8vXG4gIC8vICAgdGhpcy5tb3VzdGFjaGUucm90YXRpb24ueiA9IE1hdGguc2luKERhdGUubm93KCkgKiAwLjAwNSkgKiBNYXRoLlBJICogMC4wNTtcbiAgLy9cbiAgLy8gICB0aGlzLnN0YXJzLnNwaW5TY2FsZSgpO1xuICAvLyB9XG5cbiAgdXBkYXRlQm9keShzcGVlZCwgZXllQmx1ZVJpZ2h0UG9zWCwgZXllQmx1ZUxlZnRQb3NYLCBleWVCbHVlUmlnaHRQb3NZLCBleWVCbHVlTGVmdFBvc1ksIGV5ZUJyb3dSaWdodFBvc1ksIGV5ZUJyb3dMZWZ0UG9zWSkge1xuICAgIHRoaXMuZXllQmx1ZVJpZ2h0LnBvc2l0aW9uLnggKz0gKGV5ZUJsdWVSaWdodFBvc1ggLSB0aGlzLmV5ZUJsdWVSaWdodC5wb3NpdGlvbi54KSAvIHNwZWVkO1xuICAgIHRoaXMuZXllQmx1ZUxlZnQucG9zaXRpb24ueCArPSAoZXllQmx1ZUxlZnRQb3NYIC0gdGhpcy5leWVCbHVlTGVmdC5wb3NpdGlvbi54KSAvIHNwZWVkO1xuXG4gICAgdGhpcy5leWVCbHVlUmlnaHQucG9zaXRpb24ueSArPSAoZXllQmx1ZVJpZ2h0UG9zWSAtIHRoaXMuZXllQmx1ZVJpZ2h0LnBvc2l0aW9uLnkpIC8gc3BlZWQ7XG4gICAgdGhpcy5leWVCbHVlTGVmdC5wb3NpdGlvbi55ICs9IChleWVCbHVlTGVmdFBvc1kgLSB0aGlzLmV5ZUJsdWVMZWZ0LnBvc2l0aW9uLnkpIC8gc3BlZWQ7XG5cbiAgICB0aGlzLmV5ZUJyb3dSaWdodC5wb3NpdGlvbi55ICs9IChleWVCcm93UmlnaHRQb3NZIC0gdGhpcy5leWVCcm93UmlnaHQucG9zaXRpb24ueSkgLyBzcGVlZDtcbiAgICB0aGlzLmV5ZUJyb3dMZWZ0LnBvc2l0aW9uLnkgKz0gKGV5ZUJyb3dMZWZ0UG9zWSAtIHRoaXMuZXllQnJvd0xlZnQucG9zaXRpb24ueSkgLyBzcGVlZDtcbiAgfVxuXG4gIGlkbGUoeFRhcmdldCA9IDAsIHlUYXJnZXQgPSAwKSB7XG4gICAgbGV0IGRpc3RhbmNlID0gMTtcblxuICAgIHRoaXMuaGVhZC5yb3RhdGlvbi56ID0gTWF0aC5zaW4oRGF0ZS5ub3coKSAqIDAuMDA1KSAqIE1hdGguUEkgKiAwLjAwNTtcbiAgICB0aGlzLmhlYWQucm90YXRpb24ueCA9IE1hdGguc2luKERhdGUubm93KCkgKiAwLjAwNCkgKiBNYXRoLlBJICogMC4wMztcblxuICAgIGNvbnN0IGV5ZUJsdWVSaWdodFBvc1ggPSB0aGlzLm5vcm1hbGl6ZSh4VGFyZ2V0LCAtMjAwLCAyMDAsIC0wLjYsIDAuNik7XG4gICAgY29uc3QgZXllQmx1ZUxlZnRQb3NYID0gdGhpcy5ub3JtYWxpemUoeFRhcmdldCwgLTIwMCwgMjAwLCAtMC42LCAwLjYpO1xuXG4gICAgY29uc3QgZXllQmx1ZVJpZ2h0UG9zWSA9IHRoaXMubm9ybWFsaXplKHlUYXJnZXQsIC0yMDAsIDIwMCwgMC42LCAtMC42KTtcbiAgICBjb25zdCBleWVCbHVlTGVmdFBvc1kgPSB0aGlzLm5vcm1hbGl6ZSh5VGFyZ2V0LCAtMjAwLCAyMDAsIDAuNiwgLTAuNik7XG5cbiAgICBjb25zdCBleWVCcm93UmlnaHRQb3NZID0gdGhpcy5ub3JtYWxpemUoeFRhcmdldCwgLTIwMCwgMjAwLCAtMSwgMC44KTtcbiAgICBjb25zdCBleWVCcm93TGVmdFBvc1kgPSB0aGlzLm5vcm1hbGl6ZSh4VGFyZ2V0LCAtMjAwLCAyMDAsIC0xLCAwLjgpO1xuXG4gICAgdGhpcy5tb3VzdGFjaGUucG9zaXRpb24ueSA9IE1hdGguY29zKERhdGUubm93KCkgKiAwLjAxKSAqIGRpc3RhbmNlIC8gNDtcbiAgICB0aGlzLm1vdXN0YWNoZS5yb3RhdGlvbi56ID0gTWF0aC5zaW4oRGF0ZS5ub3coKSAqIDAuMDEpICogTWF0aC5QSSAqIDAuMDE7XG5cbiAgICB0aGlzLm1lc2gucm90YXRpb24ueSA9IE1hdGguc2luKERhdGUubm93KCkgKiAwLjAwMikgKiBNYXRoLlBJICogMC4wNTtcbiAgICB0aGlzLnVwZGF0ZUJvZHkoMTAsIGV5ZUJsdWVSaWdodFBvc1gsIGV5ZUJsdWVMZWZ0UG9zWCwgZXllQmx1ZVJpZ2h0UG9zWSwgZXllQmx1ZUxlZnRQb3NZLCBleWVCcm93UmlnaHRQb3NZLCBleWVCcm93TGVmdFBvc1kpO1xuICB9XG5cbiAgQmVhcmQoKSB7XG4gICAgbGV0IGJlYXJkR2VvbU1lcmdlZCA9IG5ldyBUSFJFRS5HZW9tZXRyeSgpO1xuXG4gICAgbGV0IGJlYXJkMUdlb20gPSBuZXcgVEhSRUUuQm94R2VvbWV0cnkoMiwgMTAsIDE2KTtcblxuICAgIGxldCBiZWFyZDEgPSBuZXcgVEhSRUUuTWVzaChiZWFyZDFHZW9tLCBNYXQud2hpdGVNYXQpO1xuICAgIGJlYXJkMS5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VUcmFuc2xhdGlvbig5LCAwLCAwKSk7XG4gICAgYmVhcmQxLnVwZGF0ZU1hdHJpeCgpO1xuICAgIGJlYXJkR2VvbU1lcmdlZC5tZXJnZShiZWFyZDEuZ2VvbWV0cnksIGJlYXJkMS5tYXRyaXgpO1xuXG4gICAgbGV0IGJlYXJkMiA9IG5ldyBUSFJFRS5NZXNoKGJlYXJkMUdlb20sIE1hdC53aGl0ZU1hdCk7XG4gICAgYmVhcmQyLmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVRyYW5zbGF0aW9uKDcsIC0yLCAyKSk7XG4gICAgYmVhcmQyLnNjYWxlLnogPSAwLjg7XG4gICAgYmVhcmQyLnVwZGF0ZU1hdHJpeCgpO1xuICAgIGJlYXJkR2VvbU1lcmdlZC5tZXJnZShiZWFyZDIuZ2VvbWV0cnksIGJlYXJkMi5tYXRyaXgpO1xuXG4gICAgbGV0IGJlYXJkMyA9IGJlYXJkMS5jbG9uZSgpO1xuICAgIGJlYXJkMy5wb3NpdGlvbi54ID0gLWJlYXJkMS5wb3NpdGlvbi54O1xuICAgIGJlYXJkMy51cGRhdGVNYXRyaXgoKTtcbiAgICBiZWFyZEdlb21NZXJnZWQubWVyZ2UoYmVhcmQzLmdlb21ldHJ5LCBiZWFyZDMubWF0cml4KTtcblxuICAgIGxldCBiZWFyZDQgPSBiZWFyZDIuY2xvbmUoKTtcbiAgICBiZWFyZDQucG9zaXRpb24ueCA9IC1iZWFyZDIucG9zaXRpb24ueDtcbiAgICBiZWFyZDQudXBkYXRlTWF0cml4KCk7XG4gICAgYmVhcmRHZW9tTWVyZ2VkLm1lcmdlKGJlYXJkNC5nZW9tZXRyeSwgYmVhcmQ0Lm1hdHJpeCk7XG5cbiAgICBsZXQgYmVhcmQyR2VvbSA9IG5ldyBUSFJFRS5Cb3hHZW9tZXRyeSgzLCAxNCwgMTApO1xuICAgIGJlYXJkMkdlb20udmVydGljZXNbMl0ueiAtPSAyO1xuICAgIGJlYXJkMkdlb20udmVydGljZXNbN10ueiAtPSAyO1xuXG4gICAgbGV0IGJlYXJkNSA9IG5ldyBUSFJFRS5NZXNoKGJlYXJkMkdlb20sIE1hdC53aGl0ZU1hdCk7XG4gICAgYmVhcmQ1LmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVRyYW5zbGF0aW9uKDUsIC01LCA0KSk7XG4gICAgYmVhcmQ1LnVwZGF0ZU1hdHJpeCgpO1xuICAgIGJlYXJkR2VvbU1lcmdlZC5tZXJnZShiZWFyZDUuZ2VvbWV0cnksIGJlYXJkNS5tYXRyaXgpO1xuXG4gICAgbGV0IGJlYXJkM0dlb20gPSBuZXcgVEhSRUUuQm94R2VvbWV0cnkoMi41LCAxNCwgMTApO1xuICAgIGJlYXJkM0dlb20udmVydGljZXNbMl0ueiAtPSAyO1xuICAgIGJlYXJkM0dlb20udmVydGljZXNbN10ueiAtPSAyO1xuXG4gICAgbGV0IGJlYXJkNiA9IG5ldyBUSFJFRS5NZXNoKGJlYXJkM0dlb20sIE1hdC53aGl0ZU1hdCk7XG4gICAgYmVhcmQ2LmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVRyYW5zbGF0aW9uKDIuNSwgLTYsIDYpKTtcbiAgICBiZWFyZDYudXBkYXRlTWF0cml4KCk7XG4gICAgYmVhcmRHZW9tTWVyZ2VkLm1lcmdlKGJlYXJkNi5nZW9tZXRyeSwgYmVhcmQ2Lm1hdHJpeCk7XG5cbiAgICBsZXQgYmVhcmQ3ID0gYmVhcmQ1LmNsb25lKCk7XG4gICAgYmVhcmQ3LnBvc2l0aW9uLnggPSAtYmVhcmQ1LnBvc2l0aW9uLng7XG4gICAgYmVhcmQ3LnVwZGF0ZU1hdHJpeCgpO1xuICAgIGJlYXJkR2VvbU1lcmdlZC5tZXJnZShiZWFyZDcuZ2VvbWV0cnksIGJlYXJkNy5tYXRyaXgpO1xuXG4gICAgbGV0IGJlYXJkOCA9IGJlYXJkNi5jbG9uZSgpO1xuICAgIGJlYXJkOC5wb3NpdGlvbi54ID0gLWJlYXJkNi5wb3NpdGlvbi54O1xuICAgIGJlYXJkOC51cGRhdGVNYXRyaXgoKTtcbiAgICBiZWFyZEdlb21NZXJnZWQubWVyZ2UoYmVhcmQ4Lmdlb21ldHJ5LCBiZWFyZDgubWF0cml4KTtcblxuICAgIGxldCBiZWFyZDRHZW9tID0gbmV3IFRIUkVFLkJveEdlb21ldHJ5KDIuNSwgMTQuNSwgMTApO1xuICAgIGJlYXJkNEdlb20udmVydGljZXNbMl0ueiAtPSAxO1xuICAgIGJlYXJkNEdlb20udmVydGljZXNbN10ueiAtPSAxO1xuXG4gICAgbGV0IGJlYXJkOSA9IG5ldyBUSFJFRS5NZXNoKGJlYXJkNEdlb20sIE1hdC53aGl0ZU1hdCk7XG4gICAgYmVhcmQ5LmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVRyYW5zbGF0aW9uKDAsIC03LCA1Ljc1KSk7XG4gICAgYmVhcmQ5LnVwZGF0ZU1hdHJpeCgpO1xuICAgIGJlYXJkR2VvbU1lcmdlZC5tZXJnZShiZWFyZDkuZ2VvbWV0cnksIGJlYXJkOS5tYXRyaXgpO1xuXG4gICAgbGV0IGJlYXJkNUdlb20gPSBuZXcgVEhSRUUuQm94R2VvbWV0cnkoNCwgOCwgOCk7XG4gICAgbGV0IGJlYXJkMTAgPSBuZXcgVEhSRUUuTWVzaChiZWFyZDVHZW9tLCBNYXQud2hpdGVNYXQpO1xuICAgIGJlYXJkMTAuYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlVHJhbnNsYXRpb24oLTYsIC0xLCAtMikpO1xuICAgIGJlYXJkMTAudXBkYXRlTWF0cml4KCk7XG4gICAgYmVhcmRHZW9tTWVyZ2VkLm1lcmdlKGJlYXJkMTAuZ2VvbWV0cnksIGJlYXJkMTAubWF0cml4KTtcblxuICAgIGxldCBiZWFyZDExID0gbmV3IFRIUkVFLk1lc2goYmVhcmQ1R2VvbSwgTWF0LndoaXRlTWF0KTtcbiAgICBiZWFyZDExLmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVRyYW5zbGF0aW9uKDAsIC01LCAtMikpO1xuICAgIGJlYXJkMTEudXBkYXRlTWF0cml4KCk7XG4gICAgYmVhcmRHZW9tTWVyZ2VkLm1lcmdlKGJlYXJkMTEuZ2VvbWV0cnksIGJlYXJkMTEubWF0cml4KTtcblxuICAgIGxldCBiZWFyZE1lcmdlZCA9IG5ldyBUSFJFRS5NZXNoKGJlYXJkR2VvbU1lcmdlZCwgTWF0LndoaXRlTWF0KTtcbiAgICBiZWFyZE1lcmdlZC5jYXN0U2hhZG93ID0gdHJ1ZTtcbiAgICBiZWFyZE1lcmdlZC5yZWNlaXZlU2hhZG93ID0gdHJ1ZTtcblxuICAgIGxldCBtb3V0aEdlb20gPSBuZXcgVEhSRUUuQm94R2VvbWV0cnkoMTAsIDQsIDEpO1xuICAgIGxldCBtb3V0aCA9IG5ldyBUSFJFRS5NZXNoKG1vdXRoR2VvbSwgTWF0LmJsYWNrTWF0KTtcbiAgICBtb3V0aC5wb3NpdGlvbi5zZXQoMCwgMiwgOCk7XG4gICAgbW91dGguY2FzdFNoYWRvdyA9IGZhbHNlO1xuICAgIG1vdXRoLnJlY2VpdmVTaGFkb3cgPSB0cnVlO1xuXG4gICAgbGV0IHRlZXRoR2VvbSA9IG5ldyBUSFJFRS5Cb3hHZW9tZXRyeSgxMCwgMSwgMSk7XG4gICAgbGV0IHRlZXRoID0gbmV3IFRIUkVFLk1lc2godGVldGhHZW9tLCBNYXQudGVldGhNYXQpO1xuICAgIHRlZXRoLnBvc2l0aW9uLnNldCgwLCAwLjUsIDAuMSk7XG4gICAgdGVldGguY2FzdFNoYWRvdyA9IGZhbHNlO1xuICAgIHRlZXRoLnJlY2VpdmVTaGFkb3cgPSB0cnVlO1xuICAgIG1vdXRoLmFkZCh0ZWV0aClcblxuICAgIHRoaXMuYmVhcmQuYWRkKGJlYXJkTWVyZ2VkLCBtb3V0aCk7XG5cbiAgICBsZXQgbW91c3RhY2hlR2VvbSA9IG5ldyBUSFJFRS5Cb3hHZW9tZXRyeSgxNCwgMywgMywgMyk7XG4gICAgbW91c3RhY2hlR2VvbS52ZXJ0aWNlc1swXS55IC09IDI7XG4gICAgbW91c3RhY2hlR2VvbS52ZXJ0aWNlc1sxXS55IC09IDI7XG4gICAgbW91c3RhY2hlR2VvbS52ZXJ0aWNlc1syXS55IC09IDI7XG4gICAgbW91c3RhY2hlR2VvbS52ZXJ0aWNlc1szXS55IC09IDI7XG4gICAgbW91c3RhY2hlR2VvbS52ZXJ0aWNlc1s0XS55IC09IDI7XG4gICAgbW91c3RhY2hlR2VvbS52ZXJ0aWNlc1s1XS55IC09IDI7XG4gICAgbW91c3RhY2hlR2VvbS52ZXJ0aWNlc1s2XS55IC09IDI7XG4gICAgbW91c3RhY2hlR2VvbS52ZXJ0aWNlc1s3XS55IC09IDI7XG4gICAgbW91c3RhY2hlR2VvbS52ZXJ0aWNlc1s4XS54IC09IDE7XG4gICAgbW91c3RhY2hlR2VvbS52ZXJ0aWNlc1s5XS54ICs9IDE7XG5cbiAgICBtb3VzdGFjaGVHZW9tLmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVRyYW5zbGF0aW9uKDAsIDQsIDApKTtcbiAgICB0aGlzLm1vdXN0YWNoZSA9IG5ldyBUSFJFRS5NZXNoKG1vdXN0YWNoZUdlb20sIE1hdC53aGl0ZU1hdCk7XG4gICAgdGhpcy5tb3VzdGFjaGUuY2FzdFNoYWRvdyA9IHRydWU7XG4gICAgdGhpcy5tb3VzdGFjaGUucmVjZWl2ZVNoYWRvdyA9IHRydWU7XG5cbiAgICB0aGlzLm1vdXN0YWNoZS5wb3NpdGlvbi5zZXQoMCwgMCwgOSk7XG4gICAgdGhpcy5iZWFyZC5hZGQodGhpcy5tb3VzdGFjaGUpO1xuICB9XG5cbiAgR2xhc3NlcygpIHtcblxuICAgIHRoaXMuZ2xhc3NlcyA9IG5ldyBUSFJFRS5PYmplY3QzRCgpO1xuICAgIHRoaXMuZ2xhc3Nlcy5wb3NpdGlvbi5zZXQoMCwgMCwgOSk7XG4gICAgdGhpcy5oZWFkLmFkZCh0aGlzLmdsYXNzZXMpO1xuICAgIGxldCBnbGFzc2VzTWF0ID0gbmV3IFRIUkVFLk1lc2hQaG9uZ01hdGVyaWFsKHtjb2xvcjogQ29sb3JzLmdsYXNzZXMsIGZsYXRTaGFkaW5nOiB0cnVlfSk7XG5cbiAgICBsZXQgZnJhbWVHZW9tTWVyZ2VkID0gbmV3IFRIUkVFLkdlb21ldHJ5KCk7XG5cbiAgICBsZXQgZnJhbWVPdXRlckdlb20gPSBuZXcgVEhSRUUuQ3lsaW5kZXJHZW9tZXRyeSgzLCAzLCAwLjUsIDMyKVxuICAgIGxldCBmcmFtZUlubmVyR2VvbSA9IG5ldyBUSFJFRS5DeWxpbmRlckdlb21ldHJ5KDIuNywgMi43LCAwLjUsIDMyKVxuXG4gICAgZnJhbWVPdXRlckdlb20uYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlUm90YXRpb25YKC1NYXRoLlBJIC8gMikpO1xuICAgIGZyYW1lSW5uZXJHZW9tLmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVJvdGF0aW9uWCgtTWF0aC5QSSAvIDIpKTtcblxuICAgIGxldCBmcmFtZUJTUCA9IG5ldyBUaHJlZUJTUChmcmFtZU91dGVyR2VvbSk7XG4gICAgbGV0IGZyYW1lQ3V0QlNQID0gbmV3IFRocmVlQlNQKGZyYW1lSW5uZXJHZW9tKTtcblxuICAgIGxldCBmcmFtZWludGVyc2VjdGlvbkJTUCA9IGZyYW1lQlNQLnN1YnRyYWN0KGZyYW1lQ3V0QlNQKTtcbiAgICBsZXQgZnJhbWVMZWZ0ID0gZnJhbWVpbnRlcnNlY3Rpb25CU1AudG9NZXNoKGdsYXNzZXNNYXQpO1xuXG4gICAgZnJhbWVMZWZ0LmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVRyYW5zbGF0aW9uKDQsIDMsIDApKTtcbiAgICBmcmFtZUxlZnQudXBkYXRlTWF0cml4KCk7XG4gICAgZnJhbWVHZW9tTWVyZ2VkLm1lcmdlKGZyYW1lTGVmdC5nZW9tZXRyeSwgZnJhbWVMZWZ0Lm1hdHJpeCk7XG5cbiAgICBsZXQgZnJhbWVSaWdodCA9IGZyYW1lTGVmdC5jbG9uZSgpO1xuICAgIGZyYW1lUmlnaHQuYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlUm90YXRpb25aKE1hdGguUEkgLyAzMCkpO1xuICAgIGZyYW1lUmlnaHQuYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlVHJhbnNsYXRpb24oLTcuNSwgLTAuMjUsIDApKTtcbiAgICBmcmFtZVJpZ2h0LnVwZGF0ZU1hdHJpeCgpO1xuICAgIGZyYW1lR2VvbU1lcmdlZC5tZXJnZShmcmFtZVJpZ2h0Lmdlb21ldHJ5LCBmcmFtZVJpZ2h0Lm1hdHJpeCk7XG5cbiAgICBsZXQgZnJhbWVNaWRHZW9tID0gbmV3IFRIUkVFLkJveEdlb21ldHJ5KDIsIC4zLCAuNSk7XG4gICAgbGV0IGZyYW1lTWlkID0gbmV3IFRIUkVFLk1lc2goZnJhbWVNaWRHZW9tLCBnbGFzc2VzTWF0KTtcbiAgICBmcmFtZU1pZC5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VUcmFuc2xhdGlvbigwLCAzLjMsIC0wLjMpKTtcbiAgICBmcmFtZU1pZC51cGRhdGVNYXRyaXgoKTtcbiAgICBmcmFtZUdlb21NZXJnZWQubWVyZ2UoZnJhbWVNaWQuZ2VvbWV0cnksIGZyYW1lTWlkLm1hdHJpeCk7XG5cbiAgICBsZXQgZnJhbWVFbmRHZW9tID0gbmV3IFRIUkVFLkJveEdlb21ldHJ5KDEuNSwgLjUsIDEpO1xuICAgIGxldCBmcmFtZUVuZFJpZ2h0ID0gbmV3IFRIUkVFLk1lc2goZnJhbWVFbmRHZW9tLCBnbGFzc2VzTWF0KTtcbiAgICBmcmFtZUVuZFJpZ2h0LmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVRyYW5zbGF0aW9uKDcuNSwgMywgMCkpO1xuICAgIGZyYW1lRW5kUmlnaHQudXBkYXRlTWF0cml4KCk7XG4gICAgZnJhbWVHZW9tTWVyZ2VkLm1lcmdlKGZyYW1lRW5kUmlnaHQuZ2VvbWV0cnksIGZyYW1lRW5kUmlnaHQubWF0cml4KTtcblxuICAgIGxldCBmcmFtZUVuZExlZnQgPSBmcmFtZUVuZFJpZ2h0LmNsb25lKCk7XG4gICAgZnJhbWVFbmRMZWZ0LnBvc2l0aW9uLnggPSAtZnJhbWVFbmRSaWdodC5wb3NpdGlvbi54O1xuICAgIGZyYW1lRW5kTGVmdC51cGRhdGVNYXRyaXgoKTtcbiAgICBmcmFtZUdlb21NZXJnZWQubWVyZ2UoZnJhbWVFbmRMZWZ0Lmdlb21ldHJ5LCBmcmFtZUVuZExlZnQubWF0cml4KTtcblxuICAgIGxldCBmcmFtZVNwb2tlR2VvbSA9IG5ldyBUSFJFRS5Cb3hHZW9tZXRyeSgxLCAwLjUsIDEyKTtcbiAgICBsZXQgZnJhbWVTcG9rZVJpZ2h0ID0gbmV3IFRIUkVFLk1lc2goZnJhbWVTcG9rZUdlb20sIGdsYXNzZXNNYXQpO1xuICAgIGZyYW1lU3Bva2VSaWdodC5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VUcmFuc2xhdGlvbig4LCAzLCAtNS41KSk7XG4gICAgZnJhbWVTcG9rZVJpZ2h0LnVwZGF0ZU1hdHJpeCgpO1xuICAgIGZyYW1lR2VvbU1lcmdlZC5tZXJnZShmcmFtZVNwb2tlUmlnaHQuZ2VvbWV0cnksIGZyYW1lU3Bva2VSaWdodC5tYXRyaXgpO1xuXG4gICAgbGV0IGZyYW1lU3Bva2VMZWZ0ID0gZnJhbWVTcG9rZVJpZ2h0LmNsb25lKCk7XG4gICAgZnJhbWVTcG9rZUxlZnQucG9zaXRpb24ueCA9IC1mcmFtZVNwb2tlUmlnaHQucG9zaXRpb24ueDtcbiAgICBmcmFtZVNwb2tlTGVmdC51cGRhdGVNYXRyaXgoKTtcbiAgICBmcmFtZUdlb21NZXJnZWQubWVyZ2UoZnJhbWVTcG9rZUxlZnQuZ2VvbWV0cnksIGZyYW1lU3Bva2VMZWZ0Lm1hdHJpeCk7XG5cbiAgICBsZXQgZnJhbWVNZXJnZWQgPSBuZXcgVEhSRUUuTWVzaChmcmFtZUdlb21NZXJnZWQsIGdsYXNzZXNNYXQpO1xuICAgIGZyYW1lTWVyZ2VkLmNhc3RTaGFkb3cgPSBmYWxzZTtcbiAgICBmcmFtZU1lcmdlZC5yZWNlaXZlU2hhZG93ID0gdHJ1ZTtcblxuICAgIHRoaXMuZ2xhc3Nlcy5hZGQoZnJhbWVNZXJnZWQpO1xuXG4gIH1cblxuICBIYWlyKCkge1xuXG4gICAgdGhpcy5oYWlyID0gbmV3IFRIUkVFLk9iamVjdDNEKCk7XG4gICAgdGhpcy5oYWlyLnBvc2l0aW9uLnNldCgwLCA5LCAwKTtcbiAgICB0aGlzLmhlYWQuYWRkKHRoaXMuaGFpcik7XG5cbiAgICBsZXQgaGFpckdlb21NZXJnZWQgPSBuZXcgVEhSRUUuR2VvbWV0cnkoKTtcblxuICAgIGxldCBoYWlyRmxhdEdlb20gPSBuZXcgVEhSRUUuQm94R2VvbWV0cnkoMTAsIDIsIDE4KTtcblxuICAgIGxldCBoYWlyMSA9IG5ldyBUSFJFRS5NZXNoKGhhaXJGbGF0R2VvbSwgTWF0LndoaXRlTWF0KTtcbiAgICBoYWlyMS5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VSb3RhdGlvblooLU1hdGguUEkgLyA0MCkpO1xuICAgIGhhaXIxLmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVRyYW5zbGF0aW9uKC00LCAtMC41LCAwKSk7XG4gICAgaGFpcjEudXBkYXRlTWF0cml4KCk7XG4gICAgaGFpckdlb21NZXJnZWQubWVyZ2UoaGFpcjEuZ2VvbWV0cnksIGhhaXIxLm1hdHJpeCk7XG5cbiAgICBsZXQgaGFpcjIgPSBuZXcgVEhSRUUuTWVzaChoYWlyRmxhdEdlb20sIE1hdC53aGl0ZU1hdCk7XG4gICAgaGFpcjIuYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlUm90YXRpb25aKC1NYXRoLlBJIC8gMTApKTtcbiAgICBoYWlyMi5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VUcmFuc2xhdGlvbigtMiwgMSwgMCkpO1xuICAgIGhhaXIyLnVwZGF0ZU1hdHJpeCgpO1xuICAgIGhhaXJHZW9tTWVyZ2VkLm1lcmdlKGhhaXIyLmdlb21ldHJ5LCBoYWlyMi5tYXRyaXgpO1xuXG4gICAgbGV0IGhhaXIzID0gbmV3IFRIUkVFLk1lc2goaGFpckZsYXRHZW9tLCBNYXQud2hpdGVNYXQpO1xuICAgIGhhaXIzLmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVJvdGF0aW9uWigtTWF0aC5QSSAvIDUpKTtcbiAgICBoYWlyMy5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VUcmFuc2xhdGlvbigyLCAxLCAwKSk7XG4gICAgaGFpcjMudXBkYXRlTWF0cml4KCk7XG4gICAgaGFpckdlb21NZXJnZWQubWVyZ2UoaGFpcjMuZ2VvbWV0cnksIGhhaXIzLm1hdHJpeCk7XG5cbiAgICBsZXQgaGFpcjQgPSBuZXcgVEhSRUUuTWVzaChoYWlyRmxhdEdlb20sIE1hdC53aGl0ZU1hdCk7XG4gICAgaGFpcjQuYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlUm90YXRpb25aKC1NYXRoLlBJIC8gNCkpO1xuICAgIGhhaXI0LmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVRyYW5zbGF0aW9uKDYsIDAsIDApKTtcbiAgICBoYWlyNC51cGRhdGVNYXRyaXgoKTtcbiAgICBoYWlyR2VvbU1lcmdlZC5tZXJnZShoYWlyNC5nZW9tZXRyeSwgaGFpcjQubWF0cml4KTtcblxuICAgIGxldCBoYWlyNiA9IG5ldyBUSFJFRS5NZXNoKGhhaXJGbGF0R2VvbSwgTWF0LndoaXRlTWF0KTtcbiAgICBoYWlyNi5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VSb3RhdGlvblooLU1hdGguUEkgLyAtMykpO1xuICAgIGhhaXI2LmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVRyYW5zbGF0aW9uKC03Ljc1LCAtLjUsIDApKTtcbiAgICBoYWlyNi51cGRhdGVNYXRyaXgoKTtcbiAgICBoYWlyR2VvbU1lcmdlZC5tZXJnZShoYWlyNi5nZW9tZXRyeSwgaGFpcjYubWF0cml4KTtcblxuICAgIGxldCBoYWlyRmxhdEJhY2tHZW9tID0gbmV3IFRIUkVFLkJveEdlb21ldHJ5KDE4LCA3LCA2KTtcbiAgICBoYWlyRmxhdEJhY2tHZW9tLnZlcnRpY2VzWzBdLnggLT0gMTtcbiAgICBoYWlyRmxhdEJhY2tHZW9tLnZlcnRpY2VzWzFdLnggLT0gMTtcbiAgICBoYWlyRmxhdEJhY2tHZW9tLnZlcnRpY2VzWzRdLnggKz0gMTtcbiAgICBoYWlyRmxhdEJhY2tHZW9tLnZlcnRpY2VzWzVdLnggKz0gMTtcblxuICAgIGxldCBoYWlyNSA9IG5ldyBUSFJFRS5NZXNoKGhhaXJGbGF0QmFja0dlb20sIE1hdC53aGl0ZU1hdCk7XG4gICAgaGFpcjUuYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlVHJhbnNsYXRpb24oMCwgLTQuNSwgLTYpKTtcbiAgICBoYWlyNS51cGRhdGVNYXRyaXgoKTtcbiAgICBoYWlyR2VvbU1lcmdlZC5tZXJnZShoYWlyNS5nZW9tZXRyeSwgaGFpcjUubWF0cml4KTtcblxuICAgIGxldCBoYWlyTWVyZ2VkID0gbmV3IFRIUkVFLk1lc2goaGFpckdlb21NZXJnZWQsIE1hdC53aGl0ZU1hdCk7XG4gICAgaGFpck1lcmdlZC5jYXN0U2hhZG93ID0gZmFsc2U7XG4gICAgaGFpck1lcmdlZC5yZWNlaXZlU2hhZG93ID0gdHJ1ZTtcblxuICAgIHRoaXMuaGFpci5hZGQoaGFpck1lcmdlZCk7XG5cbiAgfVxuXG4gIEV5ZXMoKSB7XG5cbiAgICB0aGlzLmV5ZXMgPSBuZXcgVEhSRUUuT2JqZWN0M0QoKTtcbiAgICB0aGlzLmV5ZXMucG9zaXRpb24uc2V0KDAsIDMsIDkpO1xuICAgIHRoaXMuaGVhZC5hZGQodGhpcy5leWVzKTtcblxuICAgIGxldCBleWVXaGl0ZUdlb20gPSBuZXcgVEhSRUUuUGxhbmVHZW9tZXRyeSgyLjUsIDIuNSk7XG5cbiAgICBsZXQgZXllV2hpdGVSaWdodCA9IG5ldyBUSFJFRS5NZXNoKGV5ZVdoaXRlR2VvbSwgTWF0LndoaXRlTWF0KTtcbiAgICBleWVXaGl0ZVJpZ2h0LnBvc2l0aW9uLnNldCgtMy43NSwgMCwgMCk7XG4gICAgZXllV2hpdGVSaWdodC5jYXN0U2hhZG93ID0gZmFsc2U7XG4gICAgZXllV2hpdGVSaWdodC5yZWNlaXZlU2hhZG93ID0gZmFsc2U7XG5cbiAgICBsZXQgZXllQmx1ZUdlb20gPSBuZXcgVEhSRUUuUGxhbmVHZW9tZXRyeSgxLjUsIDEuNSk7XG5cbiAgICBsZXQgZXllTWF0ID0gbmV3IFRIUkVFLk1lc2hQaG9uZ01hdGVyaWFsKHtjb2xvcjogQ29sb3JzLmV5ZSwgZmxhdFNoYWRpbmc6IHRydWV9KTtcblxuICAgIHRoaXMuZXllQmx1ZVJpZ2h0ID0gbmV3IFRIUkVFLk1lc2goZXllQmx1ZUdlb20sIGV5ZU1hdCk7XG4gICAgdGhpcy5leWVCbHVlUmlnaHQucG9zaXRpb24uc2V0KDAsIDAsIC4wMSk7XG4gICAgdGhpcy5leWVCbHVlUmlnaHQuY2FzdFNoYWRvdyA9IGZhbHNlO1xuICAgIHRoaXMuZXllQmx1ZVJpZ2h0LnJlY2VpdmVTaGFkb3cgPSBmYWxzZTtcblxuICAgIGV5ZVdoaXRlUmlnaHQuYWRkKHRoaXMuZXllQmx1ZVJpZ2h0KTtcblxuICAgIGxldCBleWVQdXBpbEdlb20gPSBuZXcgVEhSRUUuUGxhbmVHZW9tZXRyeSgxLCAxKTtcblxuICAgIHRoaXMuZXllUHVwaWxSaWdodCA9IG5ldyBUSFJFRS5NZXNoKGV5ZVB1cGlsR2VvbSwgTWF0LmJsYWNrTWF0KTtcbiAgICB0aGlzLmV5ZVB1cGlsUmlnaHQucG9zaXRpb24uc2V0KDAsIDAsIC4wMik7XG4gICAgdGhpcy5leWVQdXBpbFJpZ2h0LmNhc3RTaGFkb3cgPSBmYWxzZTtcbiAgICB0aGlzLmV5ZVB1cGlsUmlnaHQucmVjZWl2ZVNoYWRvdyA9IGZhbHNlO1xuXG4gICAgdGhpcy5leWVCbHVlUmlnaHQuYWRkKHRoaXMuZXllUHVwaWxSaWdodCk7XG5cbiAgICBsZXQgZXllV2hpdGVMZWZ0ID0gbmV3IFRIUkVFLk1lc2goZXllV2hpdGVHZW9tLCBNYXQud2hpdGVNYXQpO1xuICAgIGV5ZVdoaXRlTGVmdC5wb3NpdGlvbi5zZXQoMy43NSwgMCwgMCk7XG4gICAgZXllV2hpdGVMZWZ0LmNhc3RTaGFkb3cgPSBmYWxzZTtcbiAgICBleWVXaGl0ZUxlZnQucmVjZWl2ZVNoYWRvdyA9IGZhbHNlO1xuXG4gICAgdGhpcy5leWVCbHVlTGVmdCA9IG5ldyBUSFJFRS5NZXNoKGV5ZUJsdWVHZW9tLCBleWVNYXQpO1xuICAgIHRoaXMuZXllQmx1ZUxlZnQucG9zaXRpb24uc2V0KDAsIDAsIC4wMSk7XG4gICAgdGhpcy5leWVCbHVlTGVmdC5jYXN0U2hhZG93ID0gZmFsc2U7XG4gICAgdGhpcy5leWVCbHVlTGVmdC5yZWNlaXZlU2hhZG93ID0gZmFsc2U7XG5cbiAgICBleWVXaGl0ZUxlZnQuYWRkKHRoaXMuZXllQmx1ZUxlZnQpO1xuXG4gICAgdGhpcy5leWVQdXBpbExlZnQgPSBuZXcgVEhSRUUuTWVzaChleWVQdXBpbEdlb20sIE1hdC5ibGFja01hdCk7XG4gICAgdGhpcy5leWVQdXBpbExlZnQucG9zaXRpb24uc2V0KDAsIDAsIC4wMik7XG4gICAgdGhpcy5leWVQdXBpbExlZnQuY2FzdFNoYWRvdyA9IGZhbHNlO1xuICAgIHRoaXMuZXllUHVwaWxMZWZ0LnJlY2VpdmVTaGFkb3cgPSBmYWxzZTtcblxuICAgIHRoaXMuZXllQmx1ZUxlZnQuYWRkKHRoaXMuZXllUHVwaWxMZWZ0KTtcblxuICAgIHRoaXMuZXllcy5hZGQoZXllV2hpdGVSaWdodCwgZXllV2hpdGVMZWZ0KTtcbiAgfVxuXG4gIEV5ZUJyb3dzKCkge1xuICAgIHRoaXMuZXllQnJvd3MgPSBuZXcgVEhSRUUuT2JqZWN0M0QoKTtcbiAgICB0aGlzLmV5ZUJyb3dzLnBvc2l0aW9uLnNldCgwLCA2LCA4KTtcbiAgICB0aGlzLmhlYWQuYWRkKHRoaXMuZXllQnJvd3MpO1xuXG4gICAgbGV0IGV5ZUJyb3dHZW9tID0gbmV3IFRIUkVFLkJveEdlb21ldHJ5KDQsIDEsIDEpO1xuXG4gICAgdGhpcy5leWVCcm93UmlnaHQgPSBuZXcgVEhSRUUuTWVzaChleWVCcm93R2VvbSwgTWF0LndoaXRlTWF0KTtcbiAgICB0aGlzLmV5ZUJyb3dSaWdodC5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VSb3RhdGlvblooTWF0aC5QSSAvIDQ1KSk7XG4gICAgdGhpcy5leWVCcm93UmlnaHQucG9zaXRpb24uc2V0KC0zLjc1LCAwLCAwKTtcbiAgICB0aGlzLmV5ZUJyb3dSaWdodC5jYXN0U2hhZG93ID0gZmFsc2U7XG4gICAgdGhpcy5leWVCcm93UmlnaHQucmVjZWl2ZVNoYWRvdyA9IGZhbHNlO1xuXG4gICAgdGhpcy5leWVCcm93TGVmdCA9IG5ldyBUSFJFRS5NZXNoKGV5ZUJyb3dHZW9tLCBNYXQud2hpdGVNYXQpO1xuICAgIHRoaXMuZXllQnJvd0xlZnQuYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlUm90YXRpb25aKC1NYXRoLlBJIC8gNDUpKTtcbiAgICB0aGlzLmV5ZUJyb3dMZWZ0LnBvc2l0aW9uLnNldCgzLjc1LCAwLCAwKTtcbiAgICB0aGlzLmV5ZUJyb3dMZWZ0LmNhc3RTaGFkb3cgPSBmYWxzZTtcbiAgICB0aGlzLmV5ZUJyb3dMZWZ0LnJlY2VpdmVTaGFkb3cgPSBmYWxzZTtcblxuICAgIHRoaXMuZXllQnJvd3MuYWRkKHRoaXMuZXllQnJvd1JpZ2h0LCB0aGlzLmV5ZUJyb3dMZWZ0KTtcbiAgfVxuXG4gIEhhdCgpIHtcbiAgICB0aGlzLmhhdCA9IG5ldyBUSFJFRS5PYmplY3QzRCgpO1xuICAgIHRoaXMuaGF0LnBvc2l0aW9uLnNldCgtMC4yLCAxMSwgMi40KTtcbiAgICB0aGlzLmhlYWQuYWRkKHRoaXMuaGF0KTtcblxuICAgIGxldCBoYXRNYXQgPSBuZXcgVEhSRUUuTWVzaFBob25nTWF0ZXJpYWwoe2NvbG9yOiBDb2xvcnMuaGF0LCBmbGF0U2hhZGluZzogdHJ1ZX0pO1xuXG4gICAgbGV0IGJhbmRHZW9tID0gbmV3IFRIUkVFLlRvcnVzR2VvbWV0cnkoOSwgMiwgMTYsIDEwMCk7XG4gICAgbGV0IGJpZ0NvbmVHZW9tID0gbmV3IFRIUkVFLkN5bGluZGVyR2VvbWV0cnkoMSwgMTEsIDEyLCAxNSk7XG4gICAgbGV0IHNtYWxsQ29uZUdlb20gPSBuZXcgVEhSRUUuQ3lsaW5kZXJHZW9tZXRyeSgwLjgsIDMsIDksIDMyKTtcbiAgICBsZXQgaGF0RGluZ2xlR2VvbSA9IG5ldyBUSFJFRS5TcGhlcmVHZW9tZXRyeSgxLjUsIDgsIDgpO1xuXG4gICAgdGhpcy5iYW5kID0gbmV3IFRIUkVFLk1lc2goYmFuZEdlb20sIE1hdC50ZWV0aE1hdCk7XG4gICAgdGhpcy5iYW5kLmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVJvdGF0aW9uWChNYXRoLlBJIC8gMikpO1xuICAgIHRoaXMuYmFuZC5wb3NpdGlvbi5zZXQoMCwgMCwgMCk7XG4gICAgdGhpcy5iYW5kLmNhc3RTaGFkb3cgPSBmYWxzZTtcbiAgICB0aGlzLmJhbmQucmVjZWl2ZVNoYWRvdyA9IGZhbHNlO1xuXG4gICAgdGhpcy5iaWdDb25lID0gbmV3IFRIUkVFLk1lc2goYmlnQ29uZUdlb20sIGhhdE1hdCk7XG4gICAgdGhpcy5iaWdDb25lLnBvc2l0aW9uLnNldCgwLCA2LCAwKTtcbiAgICB0aGlzLmJpZ0NvbmUuY2FzdFNoYWRvdyA9IGZhbHNlO1xuICAgIHRoaXMuYmlnQ29uZS5yZWNlaXZlU2hhZG93ID0gZmFsc2U7XG5cbiAgICB0aGlzLnNtYWxsQ29uZSA9IG5ldyBUSFJFRS5NZXNoKHNtYWxsQ29uZUdlb20sIGhhdE1hdCk7XG4gICAgdGhpcy5zbWFsbENvbmUuYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlUm90YXRpb25YKE1hdGguUEkgLyAyKSk7XG4gICAgdGhpcy5zbWFsbENvbmUuYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlUm90YXRpb25ZKE1hdGguUEkgLyAyKSk7XG4gICAgdGhpcy5zbWFsbENvbmUuYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlUm90YXRpb25aKE1hdGguUEkgLyAtOCkpO1xuICAgIHRoaXMuc21hbGxDb25lLnBvc2l0aW9uLnNldCg0LCA3LjgsIC0xKTtcbiAgICB0aGlzLnNtYWxsQ29uZS5jYXN0U2hhZG93ID0gZmFsc2U7XG4gICAgdGhpcy5zbWFsbENvbmUucmVjZWl2ZVNoYWRvdyA9IGZhbHNlO1xuXG4gICAgdGhpcy5oYXREaW5nbGUgPSBuZXcgVEhSRUUuTWVzaChoYXREaW5nbGVHZW9tLCBNYXQud2hpdGVNYXQpO1xuICAgIHRoaXMuaGF0RGluZ2xlLnBvc2l0aW9uLnNldCg5LCA1LjUsIC0xKTtcbiAgICB0aGlzLmhhdERpbmdsZS5jYXN0U2hhZG93ID0gZmFsc2U7XG4gICAgdGhpcy5oYXREaW5nbGUucmVjZWl2ZVNoYWRvdyA9IGZhbHNlO1xuXG4gICAgdGhpcy5oYXQuYWRkKHRoaXMuYmFuZCwgdGhpcy5iaWdDb25lLCB0aGlzLnNtYWxsQ29uZSwgdGhpcy5oYXREaW5nbGUpO1xuICB9XG5cbiAgRnJlY2tsZXMoKSB7XG4gICAgdGhpcy5mcmVja2xlcyA9IG5ldyBUSFJFRS5PYmplY3QzRCgpO1xuICAgIHRoaXMuZnJlY2tsZXMucG9zaXRpb24uc2V0KDAsIDAsIDgpO1xuICAgIHRoaXMuaGVhZC5hZGQodGhpcy5mcmVja2xlcyk7XG5cbiAgICBsZXQgZnJlY2tsZXNNYXQgPSBuZXcgVEhSRUUuTWVzaExhbWJlcnRNYXRlcmlhbCh7Y29sb3I6IENvbG9ycy5mcmVja2xlcywgZmxhdFNoYWRpbmc6IHRydWV9KTtcbiAgICBsZXQgZnJlY2tsZXNHZW9tTWVyZ2VkID0gbmV3IFRIUkVFLkdlb21ldHJ5KCk7XG5cbiAgICBsZXQgZnJlY2tsZXNHZW9tID0gbmV3IFRIUkVFLlBsYW5lR2VvbWV0cnkoMC41LCAwLjUpO1xuXG4gICAgbGV0IGZyZWNrbGUxID0gbmV3IFRIUkVFLk1lc2goZnJlY2tsZXNHZW9tLCBmcmVja2xlc01hdCk7XG4gICAgZnJlY2tsZTEuYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlVHJhbnNsYXRpb24oLTUsIDAsIDAuMDEpKTtcbiAgICBmcmVja2xlMS51cGRhdGVNYXRyaXgoKTtcbiAgICBmcmVja2xlc0dlb21NZXJnZWQubWVyZ2UoZnJlY2tsZTEuZ2VvbWV0cnksIGZyZWNrbGUxLm1hdHJpeCk7XG5cbiAgICBsZXQgZnJlY2tsZTIgPSBmcmVja2xlMS5jbG9uZSgpO1xuICAgIGZyZWNrbGUyLmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVRyYW5zbGF0aW9uKC0wLjUsIC0xLCAwKSk7XG4gICAgZnJlY2tsZTIudXBkYXRlTWF0cml4KCk7XG4gICAgZnJlY2tsZXNHZW9tTWVyZ2VkLm1lcmdlKGZyZWNrbGUyLmdlb21ldHJ5LCBmcmVja2xlMi5tYXRyaXgpO1xuXG4gICAgbGV0IGZyZWNrbGUzID0gZnJlY2tsZTEuY2xvbmUoKTtcbiAgICBmcmVja2xlMy5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VUcmFuc2xhdGlvbigxLCAtMC41LCAwKSk7XG4gICAgZnJlY2tsZTMudXBkYXRlTWF0cml4KCk7XG4gICAgZnJlY2tsZXNHZW9tTWVyZ2VkLm1lcmdlKGZyZWNrbGUzLmdlb21ldHJ5LCBmcmVja2xlMy5tYXRyaXgpO1xuXG4gICAgbGV0IGZyZWNrbGU0ID0gZnJlY2tsZTEuY2xvbmUoKTtcbiAgICBmcmVja2xlNC5wb3NpdGlvbi54ID0gLWZyZWNrbGUxLnBvc2l0aW9uLng7XG4gICAgZnJlY2tsZTQudXBkYXRlTWF0cml4KCk7XG4gICAgZnJlY2tsZXNHZW9tTWVyZ2VkLm1lcmdlKGZyZWNrbGU0Lmdlb21ldHJ5LCBmcmVja2xlNC5tYXRyaXgpO1xuICAgIGxldCBmcmVja2xlNSA9IGZyZWNrbGUyLmNsb25lKCk7XG4gICAgZnJlY2tsZTUucG9zaXRpb24ueCA9IC1mcmVja2xlMi5wb3NpdGlvbi54O1xuICAgIGZyZWNrbGU1LnVwZGF0ZU1hdHJpeCgpO1xuICAgIGZyZWNrbGVzR2VvbU1lcmdlZC5tZXJnZShmcmVja2xlNS5nZW9tZXRyeSwgZnJlY2tsZTUubWF0cml4KTtcbiAgICBsZXQgZnJlY2tsZTYgPSBmcmVja2xlMy5jbG9uZSgpO1xuICAgIGZyZWNrbGU2LnBvc2l0aW9uLnggPSAtZnJlY2tsZTMucG9zaXRpb24ueDtcbiAgICBmcmVja2xlNi51cGRhdGVNYXRyaXgoKTtcbiAgICBmcmVja2xlc0dlb21NZXJnZWQubWVyZ2UoZnJlY2tsZTYuZ2VvbWV0cnksIGZyZWNrbGU2Lm1hdHJpeCk7XG5cbiAgICBsZXQgZnJlY2tsZWRNZXJnZWQgPSBuZXcgVEhSRUUuTWVzaChmcmVja2xlc0dlb21NZXJnZWQsIGZyZWNrbGVzTWF0KTtcbiAgICBmcmVja2xlZE1lcmdlZC5jYXN0U2hhZG93ID0gZmFsc2U7XG4gICAgZnJlY2tsZWRNZXJnZWQucmVjZWl2ZVNoYWRvdyA9IGZhbHNlO1xuXG4gICAgdGhpcy5mcmVja2xlcy5hZGQoZnJlY2tsZWRNZXJnZWQpO1xuICB9XG5cbiAgRmVhdHVyZXMoKSB7XG4gICAgbGV0IGVhckdlb20gPSBuZXcgVEhSRUUuQm94QnVmZmVyR2VvbWV0cnkoMS41LCAzLCAxLjUpO1xuICAgIGxldCBza2luTWF0ID0gbmV3IFRIUkVFLk1lc2hMYW1iZXJ0TWF0ZXJpYWwoe2NvbG9yOiBDb2xvcnMuc2tpbiwgZmxhdFNoYWRpbmc6IHRydWV9KTtcbiAgICBsZXQgZWFyUmlnaHQgPSBuZXcgVEhSRUUuTWVzaChlYXJHZW9tLCBza2luTWF0KTtcbiAgICBlYXJSaWdodC5wb3NpdGlvbi5zZXQoLTguNSwgMSwgMyk7XG4gICAgZWFyUmlnaHQuY2FzdFNoYWRvdyA9IGZhbHNlO1xuICAgIGVhclJpZ2h0LnJlY2VpdmVTaGFkb3cgPSBmYWxzZTtcblxuICAgIGxldCBlYXJMZWZ0ID0gbmV3IFRIUkVFLk1lc2goZWFyR2VvbSwgc2tpbk1hdCk7XG4gICAgZWFyTGVmdC5wb3NpdGlvbi5zZXQoOC41LCAxLCAzKTtcbiAgICBlYXJMZWZ0LmNhc3RTaGFkb3cgPSBmYWxzZTtcbiAgICBlYXJMZWZ0LnJlY2VpdmVTaGFkb3cgPSBmYWxzZTtcblxuICAgIGxldCBub3NlR2VvbSA9IG5ldyBUSFJFRS5DeWxpbmRlckdlb21ldHJ5KDEsIDIsIDQsIDQpO1xuICAgIGxldCBub3NlID0gbmV3IFRIUkVFLk1lc2gobm9zZUdlb20sIHNraW5NYXQpO1xuICAgIG5vc2Uuc2NhbGUuc2V0KC43NSwgMSwgMS4zKTtcbiAgICBub3NlLnBvc2l0aW9uLnNldCgwLCAxLCA4KTtcbiAgICBub3NlLmNhc3RTaGFkb3cgPSBmYWxzZTtcbiAgICBub3NlLnJlY2VpdmVTaGFkb3cgPSBmYWxzZTtcblxuICAgIHRoaXMuaGVhZC5hZGQoZWFyUmlnaHQsIGVhckxlZnQsIG5vc2UpO1xuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvanMvY2xhc3Nlcy9IZWFkLmpzIiwiaW1wb3J0IENvbG9ycyBmcm9tICcuL2NvbG9ycyc7XG5jb25zdCBNYXRlcmlhbHMgPSB7XG4gIFwid2hpdGVNYXRcIjogbmV3IFRIUkVFLk1lc2hMYW1iZXJ0TWF0ZXJpYWwoe2NvbG9yOiBDb2xvcnMud2hpdGUsIGZsYXRTaGFkaW5nOiB0cnVlfSksXG4gIFwidGVldGhNYXRcIjogbmV3IFRIUkVFLk1lc2hQaG9uZ01hdGVyaWFsKHtjb2xvcjogQ29sb3JzLnRlZXRoLCBmbGF0U2hhZGluZzogdHJ1ZX0pLFxuICBcImJsYWNrTWF0XCI6IG5ldyBUSFJFRS5NZXNoTGFtYmVydE1hdGVyaWFsKHtjb2xvcjogQ29sb3JzLmJsYWNrLCBmbGF0U2hhZGluZzogdHJ1ZX0pLFxuICBcIm5vcm1hbE1hdFwiOiBuZXcgVEhSRUUuTWVzaE5vcm1hbE1hdGVyaWFsKHt9KVxufTtcblxuZXhwb3J0IGRlZmF1bHQgTWF0ZXJpYWxzO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2pzL29iamVjdHMvTWF0ZXJpYWxzLmpzIiwiLy8gdGhlIHdoYXR3Zy1mZXRjaCBwb2x5ZmlsbCBpbnN0YWxscyB0aGUgZmV0Y2goKSBmdW5jdGlvblxuLy8gb24gdGhlIGdsb2JhbCBvYmplY3QgKHdpbmRvdyBvciBzZWxmKVxuLy9cbi8vIFJldHVybiB0aGF0IGFzIHRoZSBleHBvcnQgZm9yIHVzZSBpbiBXZWJwYWNrLCBCcm93c2VyaWZ5IGV0Yy5cbnJlcXVpcmUoJ3doYXR3Zy1mZXRjaCcpO1xubW9kdWxlLmV4cG9ydHMgPSBzZWxmLmZldGNoLmJpbmQoc2VsZik7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9pc29tb3JwaGljLWZldGNoL2ZldGNoLW5wbS1icm93c2VyaWZ5LmpzXG4vLyBtb2R1bGUgaWQgPSA1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiKGZ1bmN0aW9uKHNlbGYpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGlmIChzZWxmLmZldGNoKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICB2YXIgc3VwcG9ydCA9IHtcbiAgICBzZWFyY2hQYXJhbXM6ICdVUkxTZWFyY2hQYXJhbXMnIGluIHNlbGYsXG4gICAgaXRlcmFibGU6ICdTeW1ib2wnIGluIHNlbGYgJiYgJ2l0ZXJhdG9yJyBpbiBTeW1ib2wsXG4gICAgYmxvYjogJ0ZpbGVSZWFkZXInIGluIHNlbGYgJiYgJ0Jsb2InIGluIHNlbGYgJiYgKGZ1bmN0aW9uKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgbmV3IEJsb2IoKVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgIH0pKCksXG4gICAgZm9ybURhdGE6ICdGb3JtRGF0YScgaW4gc2VsZixcbiAgICBhcnJheUJ1ZmZlcjogJ0FycmF5QnVmZmVyJyBpbiBzZWxmXG4gIH1cblxuICBpZiAoc3VwcG9ydC5hcnJheUJ1ZmZlcikge1xuICAgIHZhciB2aWV3Q2xhc3NlcyA9IFtcbiAgICAgICdbb2JqZWN0IEludDhBcnJheV0nLFxuICAgICAgJ1tvYmplY3QgVWludDhBcnJheV0nLFxuICAgICAgJ1tvYmplY3QgVWludDhDbGFtcGVkQXJyYXldJyxcbiAgICAgICdbb2JqZWN0IEludDE2QXJyYXldJyxcbiAgICAgICdbb2JqZWN0IFVpbnQxNkFycmF5XScsXG4gICAgICAnW29iamVjdCBJbnQzMkFycmF5XScsXG4gICAgICAnW29iamVjdCBVaW50MzJBcnJheV0nLFxuICAgICAgJ1tvYmplY3QgRmxvYXQzMkFycmF5XScsXG4gICAgICAnW29iamVjdCBGbG9hdDY0QXJyYXldJ1xuICAgIF1cblxuICAgIHZhciBpc0RhdGFWaWV3ID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICByZXR1cm4gb2JqICYmIERhdGFWaWV3LnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKG9iailcbiAgICB9XG5cbiAgICB2YXIgaXNBcnJheUJ1ZmZlclZpZXcgPSBBcnJheUJ1ZmZlci5pc1ZpZXcgfHwgZnVuY3Rpb24ob2JqKSB7XG4gICAgICByZXR1cm4gb2JqICYmIHZpZXdDbGFzc2VzLmluZGV4T2YoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikpID4gLTFcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBub3JtYWxpemVOYW1lKG5hbWUpIHtcbiAgICBpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICBuYW1lID0gU3RyaW5nKG5hbWUpXG4gICAgfVxuICAgIGlmICgvW15hLXowLTlcXC0jJCUmJyorLlxcXl9gfH5dL2kudGVzdChuYW1lKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBjaGFyYWN0ZXIgaW4gaGVhZGVyIGZpZWxkIG5hbWUnKVxuICAgIH1cbiAgICByZXR1cm4gbmFtZS50b0xvd2VyQ2FzZSgpXG4gIH1cblxuICBmdW5jdGlvbiBub3JtYWxpemVWYWx1ZSh2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICB2YWx1ZSA9IFN0cmluZyh2YWx1ZSlcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlXG4gIH1cblxuICAvLyBCdWlsZCBhIGRlc3RydWN0aXZlIGl0ZXJhdG9yIGZvciB0aGUgdmFsdWUgbGlzdFxuICBmdW5jdGlvbiBpdGVyYXRvckZvcihpdGVtcykge1xuICAgIHZhciBpdGVyYXRvciA9IHtcbiAgICAgIG5leHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBpdGVtcy5zaGlmdCgpXG4gICAgICAgIHJldHVybiB7ZG9uZTogdmFsdWUgPT09IHVuZGVmaW5lZCwgdmFsdWU6IHZhbHVlfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzdXBwb3J0Lml0ZXJhYmxlKSB7XG4gICAgICBpdGVyYXRvcltTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBpdGVyYXRvclxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBpdGVyYXRvclxuICB9XG5cbiAgZnVuY3Rpb24gSGVhZGVycyhoZWFkZXJzKSB7XG4gICAgdGhpcy5tYXAgPSB7fVxuXG4gICAgaWYgKGhlYWRlcnMgaW5zdGFuY2VvZiBIZWFkZXJzKSB7XG4gICAgICBoZWFkZXJzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIG5hbWUpIHtcbiAgICAgICAgdGhpcy5hcHBlbmQobmFtZSwgdmFsdWUpXG4gICAgICB9LCB0aGlzKVxuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShoZWFkZXJzKSkge1xuICAgICAgaGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uKGhlYWRlcikge1xuICAgICAgICB0aGlzLmFwcGVuZChoZWFkZXJbMF0sIGhlYWRlclsxXSlcbiAgICAgIH0sIHRoaXMpXG4gICAgfSBlbHNlIGlmIChoZWFkZXJzKSB7XG4gICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhoZWFkZXJzKS5mb3JFYWNoKGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgdGhpcy5hcHBlbmQobmFtZSwgaGVhZGVyc1tuYW1lXSlcbiAgICAgIH0sIHRoaXMpXG4gICAgfVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuYXBwZW5kID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgICBuYW1lID0gbm9ybWFsaXplTmFtZShuYW1lKVxuICAgIHZhbHVlID0gbm9ybWFsaXplVmFsdWUodmFsdWUpXG4gICAgdmFyIG9sZFZhbHVlID0gdGhpcy5tYXBbbmFtZV1cbiAgICB0aGlzLm1hcFtuYW1lXSA9IG9sZFZhbHVlID8gb2xkVmFsdWUrJywnK3ZhbHVlIDogdmFsdWVcbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlWydkZWxldGUnXSA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICBkZWxldGUgdGhpcy5tYXBbbm9ybWFsaXplTmFtZShuYW1lKV1cbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICBuYW1lID0gbm9ybWFsaXplTmFtZShuYW1lKVxuICAgIHJldHVybiB0aGlzLmhhcyhuYW1lKSA/IHRoaXMubWFwW25hbWVdIDogbnVsbFxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24obmFtZSkge1xuICAgIHJldHVybiB0aGlzLm1hcC5oYXNPd25Qcm9wZXJ0eShub3JtYWxpemVOYW1lKG5hbWUpKVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgICB0aGlzLm1hcFtub3JtYWxpemVOYW1lKG5hbWUpXSA9IG5vcm1hbGl6ZVZhbHVlKHZhbHVlKVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uKGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgZm9yICh2YXIgbmFtZSBpbiB0aGlzLm1hcCkge1xuICAgICAgaWYgKHRoaXMubWFwLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgIGNhbGxiYWNrLmNhbGwodGhpc0FyZywgdGhpcy5tYXBbbmFtZV0sIG5hbWUsIHRoaXMpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUua2V5cyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpdGVtcyA9IFtdXG4gICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7IGl0ZW1zLnB1c2gobmFtZSkgfSlcbiAgICByZXR1cm4gaXRlcmF0b3JGb3IoaXRlbXMpXG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS52YWx1ZXMgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaXRlbXMgPSBbXVxuICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSkgeyBpdGVtcy5wdXNoKHZhbHVlKSB9KVxuICAgIHJldHVybiBpdGVyYXRvckZvcihpdGVtcylcbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLmVudHJpZXMgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaXRlbXMgPSBbXVxuICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwgbmFtZSkgeyBpdGVtcy5wdXNoKFtuYW1lLCB2YWx1ZV0pIH0pXG4gICAgcmV0dXJuIGl0ZXJhdG9yRm9yKGl0ZW1zKVxuICB9XG5cbiAgaWYgKHN1cHBvcnQuaXRlcmFibGUpIHtcbiAgICBIZWFkZXJzLnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdID0gSGVhZGVycy5wcm90b3R5cGUuZW50cmllc1xuICB9XG5cbiAgZnVuY3Rpb24gY29uc3VtZWQoYm9keSkge1xuICAgIGlmIChib2R5LmJvZHlVc2VkKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IFR5cGVFcnJvcignQWxyZWFkeSByZWFkJykpXG4gICAgfVxuICAgIGJvZHkuYm9keVVzZWQgPSB0cnVlXG4gIH1cblxuICBmdW5jdGlvbiBmaWxlUmVhZGVyUmVhZHkocmVhZGVyKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXNvbHZlKHJlYWRlci5yZXN1bHQpXG4gICAgICB9XG4gICAgICByZWFkZXIub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZWplY3QocmVhZGVyLmVycm9yKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBmdW5jdGlvbiByZWFkQmxvYkFzQXJyYXlCdWZmZXIoYmxvYikge1xuICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpXG4gICAgdmFyIHByb21pc2UgPSBmaWxlUmVhZGVyUmVhZHkocmVhZGVyKVxuICAgIHJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcihibG9iKVxuICAgIHJldHVybiBwcm9taXNlXG4gIH1cblxuICBmdW5jdGlvbiByZWFkQmxvYkFzVGV4dChibG9iKSB7XG4gICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKClcbiAgICB2YXIgcHJvbWlzZSA9IGZpbGVSZWFkZXJSZWFkeShyZWFkZXIpXG4gICAgcmVhZGVyLnJlYWRBc1RleHQoYmxvYilcbiAgICByZXR1cm4gcHJvbWlzZVxuICB9XG5cbiAgZnVuY3Rpb24gcmVhZEFycmF5QnVmZmVyQXNUZXh0KGJ1Zikge1xuICAgIHZhciB2aWV3ID0gbmV3IFVpbnQ4QXJyYXkoYnVmKVxuICAgIHZhciBjaGFycyA9IG5ldyBBcnJheSh2aWV3Lmxlbmd0aClcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmlldy5sZW5ndGg7IGkrKykge1xuICAgICAgY2hhcnNbaV0gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHZpZXdbaV0pXG4gICAgfVxuICAgIHJldHVybiBjaGFycy5qb2luKCcnKVxuICB9XG5cbiAgZnVuY3Rpb24gYnVmZmVyQ2xvbmUoYnVmKSB7XG4gICAgaWYgKGJ1Zi5zbGljZSkge1xuICAgICAgcmV0dXJuIGJ1Zi5zbGljZSgwKVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgdmlldyA9IG5ldyBVaW50OEFycmF5KGJ1Zi5ieXRlTGVuZ3RoKVxuICAgICAgdmlldy5zZXQobmV3IFVpbnQ4QXJyYXkoYnVmKSlcbiAgICAgIHJldHVybiB2aWV3LmJ1ZmZlclxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIEJvZHkoKSB7XG4gICAgdGhpcy5ib2R5VXNlZCA9IGZhbHNlXG5cbiAgICB0aGlzLl9pbml0Qm9keSA9IGZ1bmN0aW9uKGJvZHkpIHtcbiAgICAgIHRoaXMuX2JvZHlJbml0ID0gYm9keVxuICAgICAgaWYgKCFib2R5KSB7XG4gICAgICAgIHRoaXMuX2JvZHlUZXh0ID0gJydcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGJvZHkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRoaXMuX2JvZHlUZXh0ID0gYm9keVxuICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LmJsb2IgJiYgQmxvYi5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuICAgICAgICB0aGlzLl9ib2R5QmxvYiA9IGJvZHlcbiAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5mb3JtRGF0YSAmJiBGb3JtRGF0YS5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuICAgICAgICB0aGlzLl9ib2R5Rm9ybURhdGEgPSBib2R5XG4gICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuc2VhcmNoUGFyYW1zICYmIFVSTFNlYXJjaFBhcmFtcy5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuICAgICAgICB0aGlzLl9ib2R5VGV4dCA9IGJvZHkudG9TdHJpbmcoKVxuICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LmFycmF5QnVmZmVyICYmIHN1cHBvcnQuYmxvYiAmJiBpc0RhdGFWaWV3KGJvZHkpKSB7XG4gICAgICAgIHRoaXMuX2JvZHlBcnJheUJ1ZmZlciA9IGJ1ZmZlckNsb25lKGJvZHkuYnVmZmVyKVxuICAgICAgICAvLyBJRSAxMC0xMSBjYW4ndCBoYW5kbGUgYSBEYXRhVmlldyBib2R5LlxuICAgICAgICB0aGlzLl9ib2R5SW5pdCA9IG5ldyBCbG9iKFt0aGlzLl9ib2R5QXJyYXlCdWZmZXJdKVxuICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LmFycmF5QnVmZmVyICYmIChBcnJheUJ1ZmZlci5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSB8fCBpc0FycmF5QnVmZmVyVmlldyhib2R5KSkpIHtcbiAgICAgICAgdGhpcy5fYm9keUFycmF5QnVmZmVyID0gYnVmZmVyQ2xvbmUoYm9keSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcigndW5zdXBwb3J0ZWQgQm9keUluaXQgdHlwZScpXG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5oZWFkZXJzLmdldCgnY29udGVudC10eXBlJykpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBib2R5ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIHRoaXMuaGVhZGVycy5zZXQoJ2NvbnRlbnQtdHlwZScsICd0ZXh0L3BsYWluO2NoYXJzZXQ9VVRGLTgnKVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlCbG9iICYmIHRoaXMuX2JvZHlCbG9iLnR5cGUpIHtcbiAgICAgICAgICB0aGlzLmhlYWRlcnMuc2V0KCdjb250ZW50LXR5cGUnLCB0aGlzLl9ib2R5QmxvYi50eXBlKVxuICAgICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuc2VhcmNoUGFyYW1zICYmIFVSTFNlYXJjaFBhcmFtcy5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuICAgICAgICAgIHRoaXMuaGVhZGVycy5zZXQoJ2NvbnRlbnQtdHlwZScsICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD1VVEYtOCcpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc3VwcG9ydC5ibG9iKSB7XG4gICAgICB0aGlzLmJsb2IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHJlamVjdGVkID0gY29uc3VtZWQodGhpcylcbiAgICAgICAgaWYgKHJlamVjdGVkKSB7XG4gICAgICAgICAgcmV0dXJuIHJlamVjdGVkXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fYm9keUJsb2IpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlCbG9iKVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobmV3IEJsb2IoW3RoaXMuX2JvZHlBcnJheUJ1ZmZlcl0pKVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlGb3JtRGF0YSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignY291bGQgbm90IHJlYWQgRm9ybURhdGEgYm9keSBhcyBibG9iJylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5ldyBCbG9iKFt0aGlzLl9ib2R5VGV4dF0pKVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuYXJyYXlCdWZmZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikge1xuICAgICAgICAgIHJldHVybiBjb25zdW1lZCh0aGlzKSB8fCBQcm9taXNlLnJlc29sdmUodGhpcy5fYm9keUFycmF5QnVmZmVyKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB0aGlzLmJsb2IoKS50aGVuKHJlYWRCbG9iQXNBcnJheUJ1ZmZlcilcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMudGV4dCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHJlamVjdGVkID0gY29uc3VtZWQodGhpcylcbiAgICAgIGlmIChyZWplY3RlZCkge1xuICAgICAgICByZXR1cm4gcmVqZWN0ZWRcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuX2JvZHlCbG9iKSB7XG4gICAgICAgIHJldHVybiByZWFkQmxvYkFzVGV4dCh0aGlzLl9ib2R5QmxvYilcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUFycmF5QnVmZmVyKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVhZEFycmF5QnVmZmVyQXNUZXh0KHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikpXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlGb3JtRGF0YSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvdWxkIG5vdCByZWFkIEZvcm1EYXRhIGJvZHkgYXMgdGV4dCcpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlUZXh0KVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzdXBwb3J0LmZvcm1EYXRhKSB7XG4gICAgICB0aGlzLmZvcm1EYXRhID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRleHQoKS50aGVuKGRlY29kZSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmpzb24gPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnRleHQoKS50aGVuKEpTT04ucGFyc2UpXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8vIEhUVFAgbWV0aG9kcyB3aG9zZSBjYXBpdGFsaXphdGlvbiBzaG91bGQgYmUgbm9ybWFsaXplZFxuICB2YXIgbWV0aG9kcyA9IFsnREVMRVRFJywgJ0dFVCcsICdIRUFEJywgJ09QVElPTlMnLCAnUE9TVCcsICdQVVQnXVxuXG4gIGZ1bmN0aW9uIG5vcm1hbGl6ZU1ldGhvZChtZXRob2QpIHtcbiAgICB2YXIgdXBjYXNlZCA9IG1ldGhvZC50b1VwcGVyQ2FzZSgpXG4gICAgcmV0dXJuIChtZXRob2RzLmluZGV4T2YodXBjYXNlZCkgPiAtMSkgPyB1cGNhc2VkIDogbWV0aG9kXG4gIH1cblxuICBmdW5jdGlvbiBSZXF1ZXN0KGlucHV0LCBvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge31cbiAgICB2YXIgYm9keSA9IG9wdGlvbnMuYm9keVxuXG4gICAgaWYgKGlucHV0IGluc3RhbmNlb2YgUmVxdWVzdCkge1xuICAgICAgaWYgKGlucHV0LmJvZHlVc2VkKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FscmVhZHkgcmVhZCcpXG4gICAgICB9XG4gICAgICB0aGlzLnVybCA9IGlucHV0LnVybFxuICAgICAgdGhpcy5jcmVkZW50aWFscyA9IGlucHV0LmNyZWRlbnRpYWxzXG4gICAgICBpZiAoIW9wdGlvbnMuaGVhZGVycykge1xuICAgICAgICB0aGlzLmhlYWRlcnMgPSBuZXcgSGVhZGVycyhpbnB1dC5oZWFkZXJzKVxuICAgICAgfVxuICAgICAgdGhpcy5tZXRob2QgPSBpbnB1dC5tZXRob2RcbiAgICAgIHRoaXMubW9kZSA9IGlucHV0Lm1vZGVcbiAgICAgIGlmICghYm9keSAmJiBpbnB1dC5fYm9keUluaXQgIT0gbnVsbCkge1xuICAgICAgICBib2R5ID0gaW5wdXQuX2JvZHlJbml0XG4gICAgICAgIGlucHV0LmJvZHlVc2VkID0gdHJ1ZVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnVybCA9IFN0cmluZyhpbnB1dClcbiAgICB9XG5cbiAgICB0aGlzLmNyZWRlbnRpYWxzID0gb3B0aW9ucy5jcmVkZW50aWFscyB8fCB0aGlzLmNyZWRlbnRpYWxzIHx8ICdvbWl0J1xuICAgIGlmIChvcHRpb25zLmhlYWRlcnMgfHwgIXRoaXMuaGVhZGVycykge1xuICAgICAgdGhpcy5oZWFkZXJzID0gbmV3IEhlYWRlcnMob3B0aW9ucy5oZWFkZXJzKVxuICAgIH1cbiAgICB0aGlzLm1ldGhvZCA9IG5vcm1hbGl6ZU1ldGhvZChvcHRpb25zLm1ldGhvZCB8fCB0aGlzLm1ldGhvZCB8fCAnR0VUJylcbiAgICB0aGlzLm1vZGUgPSBvcHRpb25zLm1vZGUgfHwgdGhpcy5tb2RlIHx8IG51bGxcbiAgICB0aGlzLnJlZmVycmVyID0gbnVsbFxuXG4gICAgaWYgKCh0aGlzLm1ldGhvZCA9PT0gJ0dFVCcgfHwgdGhpcy5tZXRob2QgPT09ICdIRUFEJykgJiYgYm9keSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQm9keSBub3QgYWxsb3dlZCBmb3IgR0VUIG9yIEhFQUQgcmVxdWVzdHMnKVxuICAgIH1cbiAgICB0aGlzLl9pbml0Qm9keShib2R5KVxuICB9XG5cbiAgUmVxdWVzdC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gbmV3IFJlcXVlc3QodGhpcywgeyBib2R5OiB0aGlzLl9ib2R5SW5pdCB9KVxuICB9XG5cbiAgZnVuY3Rpb24gZGVjb2RlKGJvZHkpIHtcbiAgICB2YXIgZm9ybSA9IG5ldyBGb3JtRGF0YSgpXG4gICAgYm9keS50cmltKCkuc3BsaXQoJyYnKS5mb3JFYWNoKGZ1bmN0aW9uKGJ5dGVzKSB7XG4gICAgICBpZiAoYnl0ZXMpIHtcbiAgICAgICAgdmFyIHNwbGl0ID0gYnl0ZXMuc3BsaXQoJz0nKVxuICAgICAgICB2YXIgbmFtZSA9IHNwbGl0LnNoaWZ0KCkucmVwbGFjZSgvXFwrL2csICcgJylcbiAgICAgICAgdmFyIHZhbHVlID0gc3BsaXQuam9pbignPScpLnJlcGxhY2UoL1xcKy9nLCAnICcpXG4gICAgICAgIGZvcm0uYXBwZW5kKGRlY29kZVVSSUNvbXBvbmVudChuYW1lKSwgZGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlKSlcbiAgICAgIH1cbiAgICB9KVxuICAgIHJldHVybiBmb3JtXG4gIH1cblxuICBmdW5jdGlvbiBwYXJzZUhlYWRlcnMocmF3SGVhZGVycykge1xuICAgIHZhciBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKVxuICAgIHJhd0hlYWRlcnMuc3BsaXQoL1xccj9cXG4vKS5mb3JFYWNoKGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgIHZhciBwYXJ0cyA9IGxpbmUuc3BsaXQoJzonKVxuICAgICAgdmFyIGtleSA9IHBhcnRzLnNoaWZ0KCkudHJpbSgpXG4gICAgICBpZiAoa2V5KSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IHBhcnRzLmpvaW4oJzonKS50cmltKClcbiAgICAgICAgaGVhZGVycy5hcHBlbmQoa2V5LCB2YWx1ZSlcbiAgICAgIH1cbiAgICB9KVxuICAgIHJldHVybiBoZWFkZXJzXG4gIH1cblxuICBCb2R5LmNhbGwoUmVxdWVzdC5wcm90b3R5cGUpXG5cbiAgZnVuY3Rpb24gUmVzcG9uc2UoYm9keUluaXQsIG9wdGlvbnMpIHtcbiAgICBpZiAoIW9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgPSB7fVxuICAgIH1cblxuICAgIHRoaXMudHlwZSA9ICdkZWZhdWx0J1xuICAgIHRoaXMuc3RhdHVzID0gJ3N0YXR1cycgaW4gb3B0aW9ucyA/IG9wdGlvbnMuc3RhdHVzIDogMjAwXG4gICAgdGhpcy5vayA9IHRoaXMuc3RhdHVzID49IDIwMCAmJiB0aGlzLnN0YXR1cyA8IDMwMFxuICAgIHRoaXMuc3RhdHVzVGV4dCA9ICdzdGF0dXNUZXh0JyBpbiBvcHRpb25zID8gb3B0aW9ucy5zdGF0dXNUZXh0IDogJ09LJ1xuICAgIHRoaXMuaGVhZGVycyA9IG5ldyBIZWFkZXJzKG9wdGlvbnMuaGVhZGVycylcbiAgICB0aGlzLnVybCA9IG9wdGlvbnMudXJsIHx8ICcnXG4gICAgdGhpcy5faW5pdEJvZHkoYm9keUluaXQpXG4gIH1cblxuICBCb2R5LmNhbGwoUmVzcG9uc2UucHJvdG90eXBlKVxuXG4gIFJlc3BvbnNlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBuZXcgUmVzcG9uc2UodGhpcy5fYm9keUluaXQsIHtcbiAgICAgIHN0YXR1czogdGhpcy5zdGF0dXMsXG4gICAgICBzdGF0dXNUZXh0OiB0aGlzLnN0YXR1c1RleHQsXG4gICAgICBoZWFkZXJzOiBuZXcgSGVhZGVycyh0aGlzLmhlYWRlcnMpLFxuICAgICAgdXJsOiB0aGlzLnVybFxuICAgIH0pXG4gIH1cblxuICBSZXNwb25zZS5lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciByZXNwb25zZSA9IG5ldyBSZXNwb25zZShudWxsLCB7c3RhdHVzOiAwLCBzdGF0dXNUZXh0OiAnJ30pXG4gICAgcmVzcG9uc2UudHlwZSA9ICdlcnJvcidcbiAgICByZXR1cm4gcmVzcG9uc2VcbiAgfVxuXG4gIHZhciByZWRpcmVjdFN0YXR1c2VzID0gWzMwMSwgMzAyLCAzMDMsIDMwNywgMzA4XVxuXG4gIFJlc3BvbnNlLnJlZGlyZWN0ID0gZnVuY3Rpb24odXJsLCBzdGF0dXMpIHtcbiAgICBpZiAocmVkaXJlY3RTdGF0dXNlcy5pbmRleE9mKHN0YXR1cykgPT09IC0xKSB7XG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW52YWxpZCBzdGF0dXMgY29kZScpXG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZShudWxsLCB7c3RhdHVzOiBzdGF0dXMsIGhlYWRlcnM6IHtsb2NhdGlvbjogdXJsfX0pXG4gIH1cblxuICBzZWxmLkhlYWRlcnMgPSBIZWFkZXJzXG4gIHNlbGYuUmVxdWVzdCA9IFJlcXVlc3RcbiAgc2VsZi5SZXNwb25zZSA9IFJlc3BvbnNlXG5cbiAgc2VsZi5mZXRjaCA9IGZ1bmN0aW9uKGlucHV0LCBpbml0KSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdmFyIHJlcXVlc3QgPSBuZXcgUmVxdWVzdChpbnB1dCwgaW5pdClcbiAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKVxuXG4gICAgICB4aHIub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICAgIHN0YXR1czogeGhyLnN0YXR1cyxcbiAgICAgICAgICBzdGF0dXNUZXh0OiB4aHIuc3RhdHVzVGV4dCxcbiAgICAgICAgICBoZWFkZXJzOiBwYXJzZUhlYWRlcnMoeGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpIHx8ICcnKVxuICAgICAgICB9XG4gICAgICAgIG9wdGlvbnMudXJsID0gJ3Jlc3BvbnNlVVJMJyBpbiB4aHIgPyB4aHIucmVzcG9uc2VVUkwgOiBvcHRpb25zLmhlYWRlcnMuZ2V0KCdYLVJlcXVlc3QtVVJMJylcbiAgICAgICAgdmFyIGJvZHkgPSAncmVzcG9uc2UnIGluIHhociA/IHhoci5yZXNwb25zZSA6IHhoci5yZXNwb25zZVRleHRcbiAgICAgICAgcmVzb2x2ZShuZXcgUmVzcG9uc2UoYm9keSwgb3B0aW9ucykpXG4gICAgICB9XG5cbiAgICAgIHhoci5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJlamVjdChuZXcgVHlwZUVycm9yKCdOZXR3b3JrIHJlcXVlc3QgZmFpbGVkJykpXG4gICAgICB9XG5cbiAgICAgIHhoci5vbnRpbWVvdXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmVqZWN0KG5ldyBUeXBlRXJyb3IoJ05ldHdvcmsgcmVxdWVzdCBmYWlsZWQnKSlcbiAgICAgIH1cblxuICAgICAgeGhyLm9wZW4ocmVxdWVzdC5tZXRob2QsIHJlcXVlc3QudXJsLCB0cnVlKVxuXG4gICAgICBpZiAocmVxdWVzdC5jcmVkZW50aWFscyA9PT0gJ2luY2x1ZGUnKSB7XG4gICAgICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSB0cnVlXG4gICAgICB9XG5cbiAgICAgIGlmICgncmVzcG9uc2VUeXBlJyBpbiB4aHIgJiYgc3VwcG9ydC5ibG9iKSB7XG4gICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSAnYmxvYidcbiAgICAgIH1cblxuICAgICAgcmVxdWVzdC5oZWFkZXJzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIG5hbWUpIHtcbiAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIobmFtZSwgdmFsdWUpXG4gICAgICB9KVxuXG4gICAgICB4aHIuc2VuZCh0eXBlb2YgcmVxdWVzdC5fYm9keUluaXQgPT09ICd1bmRlZmluZWQnID8gbnVsbCA6IHJlcXVlc3QuX2JvZHlJbml0KVxuICAgIH0pXG4gIH1cbiAgc2VsZi5mZXRjaC5wb2x5ZmlsbCA9IHRydWVcbn0pKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyA/IHNlbGYgOiB0aGlzKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3doYXR3Zy1mZXRjaC9mZXRjaC5qc1xuLy8gbW9kdWxlIGlkID0gNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsImNvbnN0IEF1ZGlvQ29udGV4dCA9IHdpbmRvdy5BdWRpb0NvbnRleHQgfHwgd2luZG93LndlYmtpdEF1ZGlvQ29udGV4dDtcbmltcG9ydCBnZXRVcmxQYXJhbWV0ZXIgZnJvbSAnLi9vYmplY3RzL2dldFVybFBhcmFtZXRlcic7XG5pbXBvcnQgQ2FydEFQSSBmcm9tICcuL2xpYi9jYXJ0QVBJJztcbmltcG9ydCBIZWFkIGZyb20gJy4vY2xhc3Nlcy9IZWFkJztcblxubGV0IHRhcmdldElkLCBhdWRpb0N0eDtcbmNvbnN0IHBsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgcGxheV9zYW50YWApO1xuY29uc3QgJGF1ZGlvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGF1ZGlvYCk7XG5cbmxldCBhdWRpb1NvdXJjZXMgPSBbXSxcbiAgICBwaXRjaFNoaWZ0ZXJQcm9jZXNzb3I7XG5cbmxldCBhdWRpb1NvdXJjZUluZGV4ID0gMCxcbiAgICBhdWRpb1Zpc3VhbGlzYXRpb25JbmRleCA9IDAsXG4gICAgdmFsaWRHcmFuU2l6ZXMgPSBbMjU2LCA1MTIsIDEwMjQsIDIwNDgsIDQwOTYsIDgxOTJdLFxuICAgIGdyYWluU2l6ZSA9IHZhbGlkR3JhblNpemVzWzFdLFxuICAgIHBpdGNoUmF0aW8gPSAxLjAsXG4gICAgb3ZlcmxhcFJhdGlvID0gMC41MDtcblxuY29uc3QgaW5pdCA9ICgpID0+IHtcbiAgYXVkaW9DdHggPSBuZXcgQXVkaW9Db250ZXh0KCk7XG4gIHRhcmdldElkID0gZ2V0VXJsUGFyYW1ldGVyKFwiaWRcIik7XG4gIGlmICghdGFyZ2V0SWQpIHdpbmRvdy5sb2NhdGlvbiA9IFwiaHR0cHM6Ly9sb2NhbGhvc3Q6ODA4MFwiO1xuXG4gIENhcnRBUEkucmVhZE9uZSh0YXJnZXRJZCkudGhlbihkID0+IHtcbiAgICBpZiAoZC5zdGF0dXNDb2RlKSB3aW5kb3cubG9jYXRpb24gPSBcImh0dHBzOi8vbG9jYWxob3N0OjgwODBcIjtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgbmFtZWApLmlubmVySFRNTCA9IGQubmFtZTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgc2FudGFfYXVkaW9gKS5zcmMgPSBgLi91cGxvYWRzLyR7ZC5pZH0ub2dnYDtcblxuICAgIHNldFRpbWVvdXQoKCkgPT7CoHtcbiAgICAgIGNvbnN0IGJ1ZmZlckxvYWRlciA9IG5ldyBCdWZmZXJMb2FkZXIoXG4gICAgICAgIGF1ZGlvQ3R4LCBbYC4vdXBsb2Fkcy8ke2QuaWR9Lm9nZ2BdLCBidWZmZXJMaXN0ID0+IHtcblxuICAgICAgICAgIGxldCBsb29wID0gZmFsc2U7XG4gICAgICAgICAgbGV0IHNvdXJjZTtcblxuICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGByZXBlYXRgKS5hZGRFdmVudExpc3RlbmVyKGBjbGlja2AsICAoKSA9PiB7XG4gICAgICAgICAgICBsb29wID0gIWxvb3A7XG4gICAgICAgICAgICBzb3VyY2Uuc3RvcCgpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgcGl0Y2hSYXRpbyA9IDI7XG5cbiAgICAgICAgICAkYXVkaW8uYWRkRXZlbnRMaXN0ZW5lcihgY2xpY2tgLCAoKSA9PiB7XG4gICAgICAgICAgICBzb3VyY2UgPSAnJztcbiAgICAgICAgICAgIHNvdXJjZSA9IGF1ZGlvQ3R4LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpO1xuICAgICAgICAgICAgc291cmNlLmJ1ZmZlciA9IGJ1ZmZlckxpc3RbMF07XG5cbiAgICAgICAgICAgIC8vIHNvdXJjZS5jb25uZWN0KGF1ZGlvQ3R4LmRlc3RpbmF0aW9uKVxuXG4gICAgICAgICAgICBzb3VyY2UuY29ubmVjdChwaXRjaFNoaWZ0ZXJQcm9jZXNzb3IpO1xuICAgICAgICAgICAgc291cmNlLmxvb3AgPSBsb29wO1xuICAgICAgICAgICAgc291cmNlLnN0YXJ0KCk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgfVxuICAgICAgKTtcblxuICAgICAgYnVmZmVyTG9hZGVyLmxvYWQoKTtcbiAgICAgIGluaXRQcm9jZXNzb3IoKTtcbiAgICAgIC8vIHRoaXMuaW5pdFNsaWRlcnMoKTtcblxuICAgIH0sIDEwMDApO1xuXG4gIH0pO1xufVxuXG5jb25zdCBsaW5lYXJJbnRlcnBvbGF0aW9uID0gKGEsIGIsIHQpID0+IHtcbiAgcmV0dXJuIGEgKyAoYiAtIGEpICogdDtcbn07XG5cbmNvbnN0IGluaXRQcm9jZXNzb3IgPSAoKSA9PiB7XG5cblxuXG4gIGlmIChwaXRjaFNoaWZ0ZXJQcm9jZXNzb3IpIHtcbiAgICBwaXRjaFNoaWZ0ZXJQcm9jZXNzb3IuZGlzY29ubmVjdCgpO1xuICB9XG5cbiAgaWYgKGF1ZGlvQ3R4LmNyZWF0ZVNjcmlwdFByb2Nlc3Nvcikge1xuICAgIHBpdGNoU2hpZnRlclByb2Nlc3NvciA9IGF1ZGlvQ3R4LmNyZWF0ZVNjcmlwdFByb2Nlc3NvcihncmFpblNpemUsIDEsIDEpO1xuICB9IGVsc2UgaWYgKGF1ZGlvQ3R4LmNyZWF0ZUphdmFTY3JpcHROb2RlKSB7XG4gICAgcGl0Y2hTaGlmdGVyUHJvY2Vzc29yID0gYXVkaW9DdHguY3JlYXRlSmF2YVNjcmlwdE5vZGUoZ3JhaW5TaXplLCAxLCAxKTtcbiAgfVxuXG4gIHBpdGNoU2hpZnRlclByb2Nlc3Nvci5idWZmZXIgPSBuZXcgRmxvYXQzMkFycmF5KGdyYWluU2l6ZSAqIDIpO1xuICBwaXRjaFNoaWZ0ZXJQcm9jZXNzb3IuZ3JhaW5XaW5kb3cgPSBoYW5uV2luZG93KGdyYWluU2l6ZSk7XG5cbiAgcGl0Y2hTaGlmdGVyUHJvY2Vzc29yLm9uYXVkaW9wcm9jZXNzID0gZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgIHZhciBpbnB1dERhdGEgPSBldmVudC5pbnB1dEJ1ZmZlci5nZXRDaGFubmVsRGF0YSgwKTtcbiAgICB2YXIgb3V0cHV0RGF0YSA9IGV2ZW50Lm91dHB1dEJ1ZmZlci5nZXRDaGFubmVsRGF0YSgwKTtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBpbnB1dERhdGEubGVuZ3RoOyBpKyspIHtcblxuICAgICAgLy8gQXBwbHkgdGhlIHdpbmRvdyB0byB0aGUgaW5wdXQgYnVmZmVyXG4gICAgICBpbnB1dERhdGFbaV0gKj0gdGhpcy5ncmFpbldpbmRvd1tpXTtcblxuICAgICAgLy8gU2hpZnQgaGFsZiBvZiB0aGUgYnVmZmVyXG4gICAgICB0aGlzLmJ1ZmZlcltpXSA9IHRoaXMuYnVmZmVyW2kgKyBncmFpblNpemVdO1xuXG4gICAgICAvLyBFbXB0eSB0aGUgYnVmZmVyIHRhaWxcbiAgICAgIHRoaXMuYnVmZmVyW2kgKyBncmFpblNpemVdID0gMC4wO1xuICAgIH1cblxuICAgIC8vIENhbGN1bGF0ZSB0aGUgcGl0Y2ggc2hpZnRlZCBncmFpbiByZS1zYW1wbGluZyBhbmQgbG9vcGluZyB0aGUgaW5wdXRcbiAgICB2YXIgZ3JhaW5EYXRhID0gbmV3IEZsb2F0MzJBcnJheShncmFpblNpemUgKiAyKTtcbiAgICBmb3IgKHZhciBpID0gMCwgaiA9IDAuMDsgaSA8IGdyYWluU2l6ZTsgaSsrLCBqICs9IHBpdGNoUmF0aW8pIHtcblxuICAgICAgdmFyIGluZGV4ID0gTWF0aC5mbG9vcihqKSAlIGdyYWluU2l6ZTtcbiAgICAgIHZhciBhID0gaW5wdXREYXRhW2luZGV4XTtcbiAgICAgIHZhciBiID0gaW5wdXREYXRhWyhpbmRleCArIDEpICUgZ3JhaW5TaXplXTtcbiAgICAgIGdyYWluRGF0YVtpXSArPSBsaW5lYXJJbnRlcnBvbGF0aW9uKGEsIGIsIGogJSAxLjApICogdGhpcy5ncmFpbldpbmRvd1tpXTtcbiAgICB9XG5cbiAgICAvLyBDb3B5IHRoZSBncmFpbiBtdWx0aXBsZSB0aW1lcyBvdmVybGFwcGluZyBpdFxuICAgIGZvciAoaSA9IDA7IGkgPCBncmFpblNpemU7IGkgKz0gTWF0aC5yb3VuZChncmFpblNpemUgKiAoMSAtIG92ZXJsYXBSYXRpbykpKSB7XG4gICAgICBmb3IgKGogPSAwOyBqIDw9IGdyYWluU2l6ZTsgaisrKSB7XG4gICAgICAgIHRoaXMuYnVmZmVyW2kgKyBqXSArPSBncmFpbkRhdGFbal07XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gT3V0cHV0IHRoZSBmaXJzdCBoYWxmIG9mIHRoZSBidWZmZXJcbiAgICBmb3IgKGkgPSAwOyBpIDwgZ3JhaW5TaXplOyBpKyspIHtcbiAgICAgIG91dHB1dERhdGFbaV0gPSB0aGlzLmJ1ZmZlcltpXTtcbiAgICB9XG4gIH07XG5cbiAgcGl0Y2hTaGlmdGVyUHJvY2Vzc29yLmNvbm5lY3QoYXVkaW9DdHguZGVzdGluYXRpb24pO1xuXG59O1xuXG5cbmNvbnN0IGhhbm5XaW5kb3cgPSBsZW5ndGggPT4ge1xuICBjb25zdCB3aW5kb3cgPSBuZXcgRmxvYXQzMkFycmF5KGxlbmd0aCk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIHdpbmRvd1tpXSA9IDAuNSAqICgxIC0gTWF0aC5jb3MoMiAqIE1hdGguUEkgKiBpIC8gKGxlbmd0aCAtIDEpKSk7XG4gIH1cbiAgcmV0dXJuIHdpbmRvdztcbn07XG5pbml0KCk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvanMvc2FudGFTY3JpcHQuanMiLCJjb25zdCBnZXRVcmxQYXJhbWV0ZXIgPSBuYW1lID0+IHtcbiAgbmFtZSA9IG5hbWUucmVwbGFjZSgvW1xcW10vLCAnXFxcXFsnKS5yZXBsYWNlKC9bXFxdXS8sICdcXFxcXScpO1xuICBjb25zdCByZWdleCA9IG5ldyBSZWdFeHAoJ1tcXFxcPyZdJyArIG5hbWUgKyAnPShbXiYjXSopJyk7XG4gIGNvbnN0IHJlc3VsdHMgPSByZWdleC5leGVjKGxvY2F0aW9uLnNlYXJjaCk7XG4gIHJldHVybiByZXN1bHRzID09PSBudWxsID8gZmFsc2UgOiBkZWNvZGVVUklDb21wb25lbnQocmVzdWx0c1sxXS5yZXBsYWNlKC9cXCsvZywgJyAnKSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBnZXRVcmxQYXJhbWV0ZXI7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvanMvb2JqZWN0cy9nZXRVcmxQYXJhbWV0ZXIuanMiXSwic291cmNlUm9vdCI6IiJ9