!function(e){function t(r){if(i[r])return i[r].exports;var a=i[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var i={};t.m=e,t.c=i,t.d=function(e,i,r){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=8)}([function(e,t,i){"use strict";var r={skin:16769213,freckles:13613718,white:15330286,glasses:16368673,teeth:16777215,black:3026478,eye:6460840,hat:7471892};t.a=r},function(e,t,i){"use strict";var r=i(5),a=i.n(r),n="/api/cart";t.a={create:function(e){var t=e.text,i=e.id,r=e.name,o=(e.blob,new FormData);return o.append("text",t),o.append("id",i),o.append("name",r),a()(n,{method:"POST",body:o}).then(function(e){return e.json()})},read:function(){return a()(n+"?isActive=true").then(function(e){return e.json()})},readOne:function(e){return a()(n+"/"+e,{method:"GET"}).then(function(e){return e.json()})}}},function(e,t,i){"use strict";function r(){l=!1}function a(e){if(!e)return void(d!==f&&(d=f,r()));if(e!==d){if(e.length!==f.length)throw new Error("Custom alphabet for shortid must be "+f.length+" unique characters. You submitted "+e.length+" characters: "+e);var t=e.split("").filter(function(e,t,i){return t!==i.lastIndexOf(e)});if(t.length)throw new Error("Custom alphabet for shortid must be "+f.length+" unique characters. These characters were not unique: "+t.join(", "));d=e,r()}}function n(e){return a(e),d}function o(e){p.seed(e),c!==e&&(r(),c=e)}function s(){d||a(f);for(var e,t=d.split(""),i=[],r=p.nextValue();t.length>0;)r=p.nextValue(),e=Math.floor(r*t.length),i.push(t.splice(e,1)[0]);return i.join("")}function h(){return l||(l=s())}function u(e){return h()[e]}var d,c,l,p=i(13),f="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-";e.exports={characters:n,seed:o,lookup:u,shuffled:h}},function(e,t,i){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=i(0),n=i(4),o=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),s=function(){function e(){r(this,e),this.mesh=new THREE.Object3D;var t=new THREE.BoxBufferGeometry(16,16,16),i=new THREE.MeshLambertMaterial({color:a.a.skin,flatShading:!0});new THREE.MeshPhongMaterial({color:a.a.eye,flatShading:!0});this.head=new THREE.Mesh(t,i),this.head.castShadow=!0,this.head.receiveShadow=!1,this.mesh.add(this.head),this.beard=new THREE.Object3D,this.beard.position.y=-7,this.beard.position.z=.5,this.head.add(this.beard);this.Beard(),this.Glasses(),this.Hair(),this.Eyes(),this.EyeBrows(),this.Hat(),this.Freckles(),this.Features(),this.idle(),this.normalize()}return o(e,[{key:"normalize",value:function(e,t,i,r,a){return r+(Math.max(Math.min(e,i),t)-t)/(i-t)*(a-r)}},{key:"updateBody",value:function(e,t,i,r,a,n,o){this.eyeBlueRight.position.x+=(t-this.eyeBlueRight.position.x)/e,this.eyeBlueLeft.position.x+=(i-this.eyeBlueLeft.position.x)/e,this.eyeBlueRight.position.y+=(r-this.eyeBlueRight.position.y)/e,this.eyeBlueLeft.position.y+=(a-this.eyeBlueLeft.position.y)/e,this.eyeBrowRight.position.y+=(n-this.eyeBrowRight.position.y)/e,this.eyeBrowLeft.position.y+=(o-this.eyeBrowLeft.position.y)/e}},{key:"idle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.head.rotation.z=Math.sin(.005*Date.now())*Math.PI*.005,this.head.rotation.x=Math.sin(.004*Date.now())*Math.PI*.03;var i=this.normalize(e,-200,200,-.6,.6),r=this.normalize(e,-200,200,-.6,.6),a=this.normalize(t,-200,200,.6,-.6),n=this.normalize(t,-200,200,.6,-.6),o=this.normalize(e,-200,200,-1,.8),s=this.normalize(e,-200,200,-1,.8);this.moustache.position.y=1*Math.cos(.01*Date.now())/4,this.moustache.rotation.z=Math.sin(.01*Date.now())*Math.PI*.01,this.mesh.rotation.y=Math.sin(.002*Date.now())*Math.PI*.05,this.updateBody(10,i,r,a,n,o,s)}},{key:"Beard",value:function(){var e=new THREE.Geometry,t=new THREE.BoxGeometry(2,10,16),i=new THREE.Mesh(t,n.a.whiteMat);i.applyMatrix((new THREE.Matrix4).makeTranslation(9,0,0)),i.updateMatrix(),e.merge(i.geometry,i.matrix);var r=new THREE.Mesh(t,n.a.whiteMat);r.applyMatrix((new THREE.Matrix4).makeTranslation(7,-2,2)),r.scale.z=.8,r.updateMatrix(),e.merge(r.geometry,r.matrix);var a=i.clone();a.position.x=-i.position.x,a.updateMatrix(),e.merge(a.geometry,a.matrix);var o=r.clone();o.position.x=-r.position.x,o.updateMatrix(),e.merge(o.geometry,o.matrix);var s=new THREE.BoxGeometry(3,14,10);s.vertices[2].z-=2,s.vertices[7].z-=2;var h=new THREE.Mesh(s,n.a.whiteMat);h.applyMatrix((new THREE.Matrix4).makeTranslation(5,-5,4)),h.updateMatrix(),e.merge(h.geometry,h.matrix);var u=new THREE.BoxGeometry(2.5,14,10);u.vertices[2].z-=2,u.vertices[7].z-=2;var d=new THREE.Mesh(u,n.a.whiteMat);d.applyMatrix((new THREE.Matrix4).makeTranslation(2.5,-6,6)),d.updateMatrix(),e.merge(d.geometry,d.matrix);var c=h.clone();c.position.x=-h.position.x,c.updateMatrix(),e.merge(c.geometry,c.matrix);var l=d.clone();l.position.x=-d.position.x,l.updateMatrix(),e.merge(l.geometry,l.matrix);var p=new THREE.BoxGeometry(2.5,14.5,10);p.vertices[2].z-=1,p.vertices[7].z-=1;var f=new THREE.Mesh(p,n.a.whiteMat);f.applyMatrix((new THREE.Matrix4).makeTranslation(0,-7,5.75)),f.updateMatrix(),e.merge(f.geometry,f.matrix);var y=new THREE.BoxGeometry(4,8,8),w=new THREE.Mesh(y,n.a.whiteMat);w.applyMatrix((new THREE.Matrix4).makeTranslation(-6,-1,-2)),w.updateMatrix(),e.merge(w.geometry,w.matrix);var m=new THREE.Mesh(y,n.a.whiteMat);m.applyMatrix((new THREE.Matrix4).makeTranslation(0,-5,-2)),m.updateMatrix(),e.merge(m.geometry,m.matrix);var E=new THREE.Mesh(e,n.a.whiteMat);E.castShadow=!0,E.receiveShadow=!0;var v=new THREE.BoxGeometry(10,4,1),x=new THREE.Mesh(v,n.a.blackMat);x.position.set(0,2,8),x.castShadow=!1,x.receiveShadow=!0;var M=new THREE.BoxGeometry(10,1,1),g=new THREE.Mesh(M,n.a.teethMat);g.position.set(0,.5,.1),g.castShadow=!1,g.receiveShadow=!0,x.add(g),this.beard.add(E,x);var R=new THREE.BoxGeometry(14,3,3,3);R.vertices[0].y-=2,R.vertices[1].y-=2,R.vertices[2].y-=2,R.vertices[3].y-=2,R.vertices[4].y-=2,R.vertices[5].y-=2,R.vertices[6].y-=2,R.vertices[7].y-=2,R.vertices[8].x-=1,R.vertices[9].x+=1,R.applyMatrix((new THREE.Matrix4).makeTranslation(0,4,0)),this.moustache=new THREE.Mesh(R,n.a.whiteMat),this.moustache.castShadow=!0,this.moustache.receiveShadow=!0,this.moustache.position.set(0,0,9),this.beard.add(this.moustache)}},{key:"Glasses",value:function(){this.glasses=new THREE.Object3D,this.glasses.position.set(0,0,9),this.head.add(this.glasses);var e=new THREE.MeshPhongMaterial({color:a.a.glasses,flatShading:!0}),t=new THREE.Geometry,i=new THREE.CylinderGeometry(3,3,.5,32),r=new THREE.CylinderGeometry(2.7,2.7,.5,32);i.applyMatrix((new THREE.Matrix4).makeRotationX(-Math.PI/2)),r.applyMatrix((new THREE.Matrix4).makeRotationX(-Math.PI/2));var n=new ThreeBSP(i),o=new ThreeBSP(r),s=n.subtract(o),h=s.toMesh(e);h.applyMatrix((new THREE.Matrix4).makeTranslation(4,3,0)),h.updateMatrix(),t.merge(h.geometry,h.matrix);var u=h.clone();u.applyMatrix((new THREE.Matrix4).makeRotationZ(Math.PI/30)),u.applyMatrix((new THREE.Matrix4).makeTranslation(-7.5,-.25,0)),u.updateMatrix(),t.merge(u.geometry,u.matrix);var d=new THREE.BoxGeometry(2,.3,.5),c=new THREE.Mesh(d,e);c.applyMatrix((new THREE.Matrix4).makeTranslation(0,3.3,-.3)),c.updateMatrix(),t.merge(c.geometry,c.matrix);var l=new THREE.BoxGeometry(1.5,.5,1),p=new THREE.Mesh(l,e);p.applyMatrix((new THREE.Matrix4).makeTranslation(7.5,3,0)),p.updateMatrix(),t.merge(p.geometry,p.matrix);var f=p.clone();f.position.x=-p.position.x,f.updateMatrix(),t.merge(f.geometry,f.matrix);var y=new THREE.BoxGeometry(1,.5,12),w=new THREE.Mesh(y,e);w.applyMatrix((new THREE.Matrix4).makeTranslation(8,3,-5.5)),w.updateMatrix(),t.merge(w.geometry,w.matrix);var m=w.clone();m.position.x=-w.position.x,m.updateMatrix(),t.merge(m.geometry,m.matrix);var E=new THREE.Mesh(t,e);E.castShadow=!1,E.receiveShadow=!0,this.glasses.add(E)}},{key:"Hair",value:function(){this.hair=new THREE.Object3D,this.hair.position.set(0,9,0),this.head.add(this.hair);var e=new THREE.Geometry,t=new THREE.BoxGeometry(10,2,18),i=new THREE.Mesh(t,n.a.whiteMat);i.applyMatrix((new THREE.Matrix4).makeRotationZ(-Math.PI/40)),i.applyMatrix((new THREE.Matrix4).makeTranslation(-4,-.5,0)),i.updateMatrix(),e.merge(i.geometry,i.matrix);var r=new THREE.Mesh(t,n.a.whiteMat);r.applyMatrix((new THREE.Matrix4).makeRotationZ(-Math.PI/10)),r.applyMatrix((new THREE.Matrix4).makeTranslation(-2,1,0)),r.updateMatrix(),e.merge(r.geometry,r.matrix);var a=new THREE.Mesh(t,n.a.whiteMat);a.applyMatrix((new THREE.Matrix4).makeRotationZ(-Math.PI/5)),a.applyMatrix((new THREE.Matrix4).makeTranslation(2,1,0)),a.updateMatrix(),e.merge(a.geometry,a.matrix);var o=new THREE.Mesh(t,n.a.whiteMat);o.applyMatrix((new THREE.Matrix4).makeRotationZ(-Math.PI/4)),o.applyMatrix((new THREE.Matrix4).makeTranslation(6,0,0)),o.updateMatrix(),e.merge(o.geometry,o.matrix);var s=new THREE.Mesh(t,n.a.whiteMat);s.applyMatrix((new THREE.Matrix4).makeRotationZ(-Math.PI/-3)),s.applyMatrix((new THREE.Matrix4).makeTranslation(-7.75,-.5,0)),s.updateMatrix(),e.merge(s.geometry,s.matrix);var h=new THREE.BoxGeometry(18,7,6);h.vertices[0].x-=1,h.vertices[1].x-=1,h.vertices[4].x+=1,h.vertices[5].x+=1;var u=new THREE.Mesh(h,n.a.whiteMat);u.applyMatrix((new THREE.Matrix4).makeTranslation(0,-4.5,-6)),u.updateMatrix(),e.merge(u.geometry,u.matrix);var d=new THREE.Mesh(e,n.a.whiteMat);d.castShadow=!1,d.receiveShadow=!0,this.hair.add(d)}},{key:"Eyes",value:function(){this.eyes=new THREE.Object3D,this.eyes.position.set(0,3,9),this.head.add(this.eyes);var e=new THREE.PlaneGeometry(2.5,2.5),t=new THREE.Mesh(e,n.a.whiteMat);t.position.set(-3.75,0,0),t.castShadow=!1,t.receiveShadow=!1;var i=new THREE.PlaneGeometry(1.5,1.5),r=new THREE.MeshPhongMaterial({color:a.a.eye,flatShading:!0});this.eyeBlueRight=new THREE.Mesh(i,r),this.eyeBlueRight.position.set(0,0,.01),this.eyeBlueRight.castShadow=!1,this.eyeBlueRight.receiveShadow=!1,t.add(this.eyeBlueRight);var o=new THREE.PlaneGeometry(1,1);this.eyePupilRight=new THREE.Mesh(o,n.a.blackMat),this.eyePupilRight.position.set(0,0,.02),this.eyePupilRight.castShadow=!1,this.eyePupilRight.receiveShadow=!1,this.eyeBlueRight.add(this.eyePupilRight);var s=new THREE.Mesh(e,n.a.whiteMat);s.position.set(3.75,0,0),s.castShadow=!1,s.receiveShadow=!1,this.eyeBlueLeft=new THREE.Mesh(i,r),this.eyeBlueLeft.position.set(0,0,.01),this.eyeBlueLeft.castShadow=!1,this.eyeBlueLeft.receiveShadow=!1,s.add(this.eyeBlueLeft),this.eyePupilLeft=new THREE.Mesh(o,n.a.blackMat),this.eyePupilLeft.position.set(0,0,.02),this.eyePupilLeft.castShadow=!1,this.eyePupilLeft.receiveShadow=!1,this.eyeBlueLeft.add(this.eyePupilLeft),this.eyes.add(t,s)}},{key:"EyeBrows",value:function(){this.eyeBrows=new THREE.Object3D,this.eyeBrows.position.set(0,6,8),this.head.add(this.eyeBrows);var e=new THREE.BoxGeometry(4,1,1);this.eyeBrowRight=new THREE.Mesh(e,n.a.whiteMat),this.eyeBrowRight.applyMatrix((new THREE.Matrix4).makeRotationZ(Math.PI/45)),this.eyeBrowRight.position.set(-3.75,0,0),this.eyeBrowRight.castShadow=!1,this.eyeBrowRight.receiveShadow=!1,this.eyeBrowLeft=new THREE.Mesh(e,n.a.whiteMat),this.eyeBrowLeft.applyMatrix((new THREE.Matrix4).makeRotationZ(-Math.PI/45)),this.eyeBrowLeft.position.set(3.75,0,0),this.eyeBrowLeft.castShadow=!1,this.eyeBrowLeft.receiveShadow=!1,this.eyeBrows.add(this.eyeBrowRight,this.eyeBrowLeft)}},{key:"Hat",value:function(){this.hat=new THREE.Object3D,this.hat.position.set(-.2,11,2.4),this.head.add(this.hat);var e=new THREE.MeshPhongMaterial({color:a.a.hat,flatShading:!0}),t=new THREE.TorusGeometry(9,2,16,100),i=new THREE.CylinderGeometry(1,11,12,15),r=new THREE.CylinderGeometry(.8,3,9,32),o=new THREE.SphereGeometry(1.5,8,8);this.band=new THREE.Mesh(t,n.a.teethMat),this.band.applyMatrix((new THREE.Matrix4).makeRotationX(Math.PI/2)),this.band.position.set(0,0,0),this.band.castShadow=!1,this.band.receiveShadow=!1,this.bigCone=new THREE.Mesh(i,e),this.bigCone.position.set(0,6,0),this.bigCone.castShadow=!1,this.bigCone.receiveShadow=!1,this.smallCone=new THREE.Mesh(r,e),this.smallCone.applyMatrix((new THREE.Matrix4).makeRotationX(Math.PI/2)),this.smallCone.applyMatrix((new THREE.Matrix4).makeRotationY(Math.PI/2)),this.smallCone.applyMatrix((new THREE.Matrix4).makeRotationZ(Math.PI/-8)),this.smallCone.position.set(4,7.8,-1),this.smallCone.castShadow=!1,this.smallCone.receiveShadow=!1,this.hatDingle=new THREE.Mesh(o,n.a.whiteMat),this.hatDingle.position.set(9,5.5,-1),this.hatDingle.castShadow=!1,this.hatDingle.receiveShadow=!1,this.hat.add(this.band,this.bigCone,this.smallCone,this.hatDingle)}},{key:"Freckles",value:function(){this.freckles=new THREE.Object3D,this.freckles.position.set(0,0,8),this.head.add(this.freckles);var e=new THREE.MeshLambertMaterial({color:a.a.freckles,flatShading:!0}),t=new THREE.Geometry,i=new THREE.PlaneGeometry(.5,.5),r=new THREE.Mesh(i,e);r.applyMatrix((new THREE.Matrix4).makeTranslation(-5,0,.01)),r.updateMatrix(),t.merge(r.geometry,r.matrix);var n=r.clone();n.applyMatrix((new THREE.Matrix4).makeTranslation(-.5,-1,0)),n.updateMatrix(),t.merge(n.geometry,n.matrix);var o=r.clone();o.applyMatrix((new THREE.Matrix4).makeTranslation(1,-.5,0)),o.updateMatrix(),t.merge(o.geometry,o.matrix);var s=r.clone();s.position.x=-r.position.x,s.updateMatrix(),t.merge(s.geometry,s.matrix);var h=n.clone();h.position.x=-n.position.x,h.updateMatrix(),t.merge(h.geometry,h.matrix);var u=o.clone();u.position.x=-o.position.x,u.updateMatrix(),t.merge(u.geometry,u.matrix);var d=new THREE.Mesh(t,e);d.castShadow=!1,d.receiveShadow=!1,this.freckles.add(d)}},{key:"Features",value:function(){var e=new THREE.BoxBufferGeometry(1.5,3,1.5),t=new THREE.MeshLambertMaterial({color:a.a.skin,flatShading:!0}),i=new THREE.Mesh(e,t);i.position.set(-8.5,1,3),i.castShadow=!1,i.receiveShadow=!1;var r=new THREE.Mesh(e,t);r.position.set(8.5,1,3),r.castShadow=!1,r.receiveShadow=!1;var n=new THREE.CylinderGeometry(1,2,4,4),o=new THREE.Mesh(n,t);o.scale.set(.75,1,1.3),o.position.set(0,1,8),o.castShadow=!1,o.receiveShadow=!1,this.head.add(i,r,o)}}]),e}();t.a=s},function(e,t,i){"use strict";var r=i(0),a={whiteMat:new THREE.MeshLambertMaterial({color:r.a.white,flatShading:!0}),teethMat:new THREE.MeshPhongMaterial({color:r.a.teeth,flatShading:!0}),blackMat:new THREE.MeshLambertMaterial({color:r.a.black,flatShading:!0}),normalMat:new THREE.MeshNormalMaterial({})};t.a=a},function(e,t,i){i(6),e.exports=self.fetch.bind(self)},function(e,t){!function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function i(e){return"string"!=typeof e&&(e=String(e)),e}function r(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return m.iterable&&(t[Symbol.iterator]=function(){return t}),t}function a(e){this.map={},e instanceof a?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function n(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function o(e){return new Promise(function(t,i){e.onload=function(){t(e.result)},e.onerror=function(){i(e.error)}})}function s(e){var t=new FileReader,i=o(t);return t.readAsArrayBuffer(e),i}function h(e){var t=new FileReader,i=o(t);return t.readAsText(e),i}function u(e){for(var t=new Uint8Array(e),i=new Array(t.length),r=0;r<t.length;r++)i[r]=String.fromCharCode(t[r]);return i.join("")}function d(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function c(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(m.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(m.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(m.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(m.arrayBuffer&&m.blob&&v(e))this._bodyArrayBuffer=d(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!m.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!x(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=d(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):m.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},m.blob&&(this.blob=function(){var e=n(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?n(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var e=n(this);if(e)return e;if(this._bodyBlob)return h(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(u(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},m.formData&&(this.formData=function(){return this.text().then(f)}),this.json=function(){return this.text().then(JSON.parse)},this}function l(e){var t=e.toUpperCase();return M.indexOf(t)>-1?t:e}function p(e,t){t=t||{};var i=t.body;if(e instanceof p){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new a(e.headers)),this.method=e.method,this.mode=e.mode,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new a(t.headers)),this.method=l(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function f(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var i=e.split("="),r=i.shift().replace(/\+/g," "),a=i.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(a))}}),t}function y(e){var t=new a;return e.split(/\r?\n/).forEach(function(e){var i=e.split(":"),r=i.shift().trim();if(r){var a=i.join(":").trim();t.append(r,a)}}),t}function w(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new a(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var m={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(m.arrayBuffer)var E=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],v=function(e){return e&&DataView.prototype.isPrototypeOf(e)},x=ArrayBuffer.isView||function(e){return e&&E.indexOf(Object.prototype.toString.call(e))>-1};a.prototype.append=function(e,r){e=t(e),r=i(r);var a=this.map[e];this.map[e]=a?a+","+r:r},a.prototype.delete=function(e){delete this.map[t(e)]},a.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},a.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},a.prototype.set=function(e,r){this.map[t(e)]=i(r)},a.prototype.forEach=function(e,t){for(var i in this.map)this.map.hasOwnProperty(i)&&e.call(t,this.map[i],i,this)},a.prototype.keys=function(){var e=[];return this.forEach(function(t,i){e.push(i)}),r(e)},a.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),r(e)},a.prototype.entries=function(){var e=[];return this.forEach(function(t,i){e.push([i,t])}),r(e)},m.iterable&&(a.prototype[Symbol.iterator]=a.prototype.entries);var M=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];p.prototype.clone=function(){return new p(this,{body:this._bodyInit})},c.call(p.prototype),c.call(w.prototype),w.prototype.clone=function(){return new w(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new a(this.headers),url:this.url})},w.error=function(){var e=new w(null,{status:0,statusText:""});return e.type="error",e};var g=[301,302,303,307,308];w.redirect=function(e,t){if(-1===g.indexOf(t))throw new RangeError("Invalid status code");return new w(null,{status:t,headers:{location:e}})},e.Headers=a,e.Request=p,e.Response=w,e.fetch=function(e,t){return new Promise(function(i,r){var a=new p(e,t),n=new XMLHttpRequest;n.onload=function(){var e={status:n.status,statusText:n.statusText,headers:y(n.getAllResponseHeaders()||"")};e.url="responseURL"in n?n.responseURL:e.headers.get("X-Request-URL");var t="response"in n?n.response:n.responseText;i(new w(t,e))},n.onerror=function(){r(new TypeError("Network request failed"))},n.ontimeout=function(){r(new TypeError("Network request failed"))},n.open(a.method,a.url,!0),"include"===a.credentials&&(n.withCredentials=!0),"responseType"in n&&m.blob&&(n.responseType="blob"),a.headers.forEach(function(e,t){n.setRequestHeader(t,e)}),n.send(void 0===a._bodyInit?null:a._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},function(e,t,i){"use strict";function r(e,t){for(var i,r=0,n="";!i;)n+=e(t>>4*r&15|a()),i=t<Math.pow(16,r+1),r++;return n}var a=i(14);e.exports=r},function(e,t,i){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=i(3),n=i(0),o=i(9),s=i(10),h=(i(1),void 0),u=void 0,d=void 0,c=void 0,l=void 0,p=void 0,f=void 0,y=void 0,w=void 0,m=void 0,E=void 0,v=void 0,x=void 0,M=void 0,g=void 0,R=void 0,T=void 0,b=void 0,H=void 0,B=document.getElementById("save"),k={x:0,y:0},S=function(e){e.forEach(function(e){H.addColor(b,e).onChange(function(){switch(e){case"skin":n.a.skin=b.skin;case"freckles":n.a.freckles=b.freckles;case"eye":n.a.eye=b.eye;case"glasses":n.a.glasses=b.glasses;case"hat":n.a.hat=b.hat}h.remove(M.mesh),createHead()})})},P=function(){f=window.innerHeight,y=window.innerWidth/1.67,g=y/2,R=f/2,h=new THREE.Scene,c=y/f,d=50,l=1,p=2e3,u=new THREE.PerspectiveCamera(d,c,l,p),u.position.x=0,u.position.z=70,u.position.y=-5,v=new THREE.WebGLRenderer({alpha:!0,antialias:!0}),v.setPixelRatio(window.devicePixelRatio?window.devicePixelRatio:1),v.setSize(y,f),v.shadowMap.enabled=!0,v.shadowMap.type=THREE.PCFSoftShadowMap,x=document.getElementById("container"),x.appendChild(v.domElement),window.addEventListener("resize",L,!1),document.addEventListener("mousemove",A,!1)},L=function(){f=window.innerHeight,y=window.innerWidth/1.67,g=y/2,R=f/2,v.setSize(y,f),u.aspect=y/f,u.updateProjectionMatrix()},A=function(e){k={x:event.clientX,y:event.clientY}},I=(new THREE.LoadingManager,/iPhone|Android/i.test(navigator.userAgent)),j=function(){w=new THREE.HemisphereLight(16777215,5592405,.9),m=new THREE.DirectionalLight(16777215,.3),m.position.set(100,250,175),m.castShadow=!0,E=new THREE.DirectionalLight(16777215,.2),E.position.set(-100,200,150),E.castShadow=!0,I&&(m.shadow.mapSize.width=m.shadow.mapSize.height=1024),I||(m.shadow.mapSize.width=m.shadow.mapSize.height=2048),h.add(w),h.add(m),h.add(E),h.add(new THREE.AmbientLight(15392429,.1))},_=!1,D=function(){!(_=!1)&&Math.random()>.99&&(_=!0,O())},O=function(){M.eyes.scale.y=1,TweenMax.to(M.eyes.scale,.07,{y:0,yoyo:!0,repeat:1,onComplete:function(){_=!1}})},C=function e(){r(this,e),this.skin=n.a.skin,this.freckles=n.a.freckles,this.eye=n.a.eye,this.glasses=n.a.glasses,this.hat=n.a.hat},G=function e(){D(),M.idle(t,i);var t=k.x-g,i=k.y-R;v.render(h,u),requestAnimationFrame(e)};!function(){particlesJS.load("particles-js","../assets/particles.json",function(){console.log("callback - particles.js config loaded")}),P(),j(),T=new o.a,M=new a.a,h.add(M.mesh),console.log(T.id),B.addEventListener("click",function(){Object(s.a)({text:T.txt,id:T.id})}),H=new dat.GUI,H.domElement.id="gui",H.closed=!0,b=new C,S(["skin","freckles","eye","glasses","hat"]),window.scene=h,G()}()},function(e,t,i){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=i(23),n=i(11),o=i.n(n),s=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),h=h||webkitSpeechRecognition,u=u||webkitSpeechGrammarList,d=d||webkitSpeechRecognitionEvent,c=window.AudioContext||window.webkitAudioContext,l=void 0,p=void 0,f="",y=[],w=document.getElementById("field"),m=document.getElementById("record"),E=document.getElementById("audio_controls"),v=(document.getElementById("stop"),void 0),x=[256,512,1024,2048,4096,8192],M=x[2],g=1,R=.5,T=o.a.generate(),b=function(){function e(){var t=this;r(this,e),this.id=T,p=new h,this.speechSettings(),p.onresult=function(e){return t.gotResult(e)},p.onspeechend=function(e){return t.onSpeechEnd(e)},w.addEventListener("blur",function(){return t.txt=w.value}),navigator.mediaDevices.getUserMedia({audio:!0}).then(function(e){t.mediaRecorder=new MediaRecorder(e),m.addEventListener("click",function(){t.mediaRecorder.start(),p.start(),m.disabled=!0}),t.mediaRecorder.addEventListener("dataavailable",function(e){return y.push(e.data)}),t.mediaRecorder.addEventListener("stop",function(){t.blob=new Blob(y,{type:"audio/ogg"}),a.a.create({id:t.id,blob:t.blob}),l=new c,setTimeout(function(){new BufferLoader(l,["./uploads/"+t.id+".ogg"],function(e){var t=!1,i=void 0;document.getElementById("repeat").addEventListener("click",function(){t=!t,i.stop()});var r=document.getElementById("pitch");r.addEventListener("change",function(){g=parseFloat(r.value),console.log(g)}),E.addEventListener("click",function(){i="",i=l.createBufferSource(),i.buffer=e[0],i.connect(v),i.loop=t,i.start()})}).load(),t.initProcessor()},1e3);var e=document.getElementById("overlap");e.addEventListener("change",function(){R=e.value,console.log(e.value)}),y=[]})})}return s(e,[{key:"onSpeechEnd",value:function(e){this.mediaRecorder.stop(),p.stop(),m.disabled=!1,m.textContent="Want to try again?",this.txt=w.value}},{key:"gotResult",value:function(e){var t=e.results.length-1;f=e.results[t][0].transcript,w.value=f}},{key:"speechSettings",value:function(){p.continuous=!1,p.lang="nl-BE",p.interimResults=!1,p.maxAlternatives=1}},{key:"initProcessor",value:function(){var e=function(e,t,i){return e+(t-e)*i};v&&v.disconnect(),l.createScriptProcessor?v=l.createScriptProcessor(M,1,1):l.createJavaScriptNode&&(v=l.createJavaScriptNode(M,1,1)),v.buffer=new Float32Array(2*M),v.grainWindow=this.hannWindow(M),v.onaudioprocess=function(t){var i=t.inputBuffer.getChannelData(0),r=t.outputBuffer.getChannelData(0);for(n=0;n<i.length;n++)i[n]*=this.grainWindow[n],this.buffer[n]=this.buffer[n+M],this.buffer[n+M]=0;for(var a=new Float32Array(2*M),n=0,o=0;n<M;n++,o+=g){var s=Math.floor(o)%M,h=i[s],u=i[(s+1)%M];a[n]+=e(h,u,o%1)*this.grainWindow[n]}for(n=0;n<M;n+=Math.round(M*(1-R)))for(o=0;o<=M;o++)this.buffer[n+o]+=a[o];for(n=0;n<M;n++)r[n]=this.buffer[n]},v.connect(l.destination)}},{key:"hannWindow",value:function(e){for(var t=new Float32Array(e),i=0;i<e;i++)t[i]=.5*(1-Math.cos(2*Math.PI*i/(e-1)));return t}}]),e}();t.a=b},function(e,t,i){"use strict";var r=i(24),a=i(11),n=(i.n(a),document.getElementById("name_input")),o=document.querySelector(".unique_link"),s=function(e){var t=e.text,i=e.id;r.a.create({text:t,id:i,name:n.value}),o.innerHTML="https://localhost:8080/santa.html?id="+i,o.setAttribute("href","https://localhost:8080/santa.html?id="+i),o.setAttribute("target","_blank")};t.a=s},function(e,t,i){"use strict";e.exports=i(12)},function(e,t,i){"use strict";function r(t){return s.seed(t),e.exports}function a(t){return c=t,e.exports}function n(e){return void 0!==e&&s.characters(e),s.shuffled()}function o(){return u(c)}var s=i(2),h=(i(7),i(15)),u=i(16),d=i(17),c=i(18)||0;e.exports=o,e.exports.generate=o,e.exports.seed=r,e.exports.worker=a,e.exports.characters=n,e.exports.decode=h,e.exports.isValid=d},function(e,t,i){"use strict";function r(){return(n=(9301*n+49297)%233280)/233280}function a(e){n=e}var n=1;e.exports={nextValue:r,seed:a}},function(e,t,i){"use strict";function r(){if(!a||!a.getRandomValues)return 48&Math.floor(256*Math.random());var e=new Uint8Array(1);return a.getRandomValues(e),48&e[0]}var a="object"==typeof window&&(window.crypto||window.msCrypto);e.exports=r},function(e,t,i){"use strict";function r(e){var t=a.shuffled();return{version:15&t.indexOf(e.substr(0,1)),worker:15&t.indexOf(e.substr(1,1))}}var a=i(2);e.exports=r},function(e,t,i){"use strict";function r(e){var t="",i=Math.floor(.001*(Date.now()-h));return i===n?a++:(a=0,n=i),t+=o(s.lookup,u),t+=o(s.lookup,e),a>0&&(t+=o(s.lookup,a)),t+=o(s.lookup,i)}var a,n,o=i(7),s=i(2),h=1459707606518,u=6;e.exports=r},function(e,t,i){"use strict";function r(e){if(!e||"string"!=typeof e||e.length<6)return!1;for(var t=a.characters(),i=e.length,r=0;r<i;r++)if(-1===t.indexOf(e[r]))return!1;return!0}var a=i(2);e.exports=r},function(e,t,i){"use strict";e.exports=0},,,,,function(e,t,i){"use strict";var r=i(5),a=i.n(r),n="/api/sound";t.a={create:function(e){var t=e.id,i=e.blob,r=""+t.split(" ").join("_"),o=new FormData;return o.append("id",t),o.append("sound",i,r),a()(n,{method:"POST",body:o}).then(function(e){return e.json()})},read:function(){return a()(n+"?isActive=true").then(function(e){return e.json()})},readOne:function(e){return a()(n+"/"+e,{method:"GET"}).then(function(e){return e.json()})}}},function(e,t,i){"use strict";var r=i(5),a=i.n(r),n="/api/cart";t.a={create:function(e){var t=e.text,i=e.id,r=e.name,o=(e.blob,new FormData);return o.append("text",t),o.append("id",i),o.append("name",r),a()(n,{method:"POST",body:o}).then(function(e){return e.json()})},read:function(){return a()(n+"?isActive=true").then(function(e){return e.json()})},readOne:function(e){return a()(n+"/"+e,{method:"GET"}).then(function(e){return e.json()})}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vanMvc2NyaXB0LmpzIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCBiOGUwOGQ2NDcwNjNiMzVlZDI5MiIsIndlYnBhY2s6Ly8vLi9zcmMvanMvb2JqZWN0cy9jb2xvcnMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2xpYi9jYXJ0QVBJLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zaG9ydGlkL2xpYi9hbHBoYWJldC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvY2xhc3Nlcy9IZWFkLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9vYmplY3RzL01hdGVyaWFscy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaXNvbW9ycGhpYy1mZXRjaC9mZXRjaC1ucG0tYnJvd3NlcmlmeS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvd2hhdHdnLWZldGNoL2ZldGNoLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zaG9ydGlkL2xpYi9lbmNvZGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL3NjcmlwdC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvY2xhc3Nlcy9BdWRpby5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvb2JqZWN0cy9TYXZlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zaG9ydGlkL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zaG9ydGlkL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc2hvcnRpZC9saWIvcmFuZG9tL3JhbmRvbS1mcm9tLXNlZWQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Nob3J0aWQvbGliL3JhbmRvbS9yYW5kb20tYnl0ZS1icm93c2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zaG9ydGlkL2xpYi9kZWNvZGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Nob3J0aWQvbGliL2J1aWxkLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zaG9ydGlkL2xpYi9pcy12YWxpZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc2hvcnRpZC9saWIvdXRpbC9jbHVzdGVyLXdvcmtlci1pZC1icm93c2VyLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9saWIvc291bmRBUEkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2xpYi9DYXJ0QVBJLmpzIl0sIm5hbWVzIjpbIm1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpbnN0YWxsZWRNb2R1bGVzIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwiZ2V0IiwibiIsIl9fZXNNb2R1bGUiLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJfX3dlYnBhY2tfZXhwb3J0c19fIiwiQ29sb3JzIiwic2tpbiIsImZyZWNrbGVzIiwid2hpdGUiLCJnbGFzc2VzIiwidGVldGgiLCJibGFjayIsImV5ZSIsImhhdCIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9pc29tb3JwaGljX2ZldGNoX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfaXNvbW9ycGhpY19mZXRjaF9fX2RlZmF1bHQiLCJ1cmwiLCJjcmVhdGUiLCJfcmVmIiwidGV4dCIsImlkIiwiYm9keSIsImJsb2IiLCJGb3JtRGF0YSIsImFwcGVuZCIsIm1ldGhvZCIsInRoZW4iLCJyIiwianNvbiIsInJlYWQiLCJyZWFkT25lIiwicmVzZXQiLCJzaHVmZmxlZCIsInNldENoYXJhY3RlcnMiLCJfYWxwaGFiZXRfIiwiYWxwaGFiZXQiLCJPUklHSU5BTCIsImxlbmd0aCIsIkVycm9yIiwidW5pcXVlIiwic3BsaXQiLCJmaWx0ZXIiLCJpdGVtIiwiaW5kIiwiYXJyIiwibGFzdEluZGV4T2YiLCJqb2luIiwiY2hhcmFjdGVycyIsInNldFNlZWQiLCJzZWVkIiwicmFuZG9tRnJvbVNlZWQiLCJwcmV2aW91c1NlZWQiLCJzaHVmZmxlIiwiY2hhcmFjdGVySW5kZXgiLCJzb3VyY2VBcnJheSIsInRhcmdldEFycmF5IiwibmV4dFZhbHVlIiwiTWF0aCIsImZsb29yIiwicHVzaCIsInNwbGljZSIsImdldFNodWZmbGVkIiwibG9va3VwIiwiaW5kZXgiLCJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiVHlwZUVycm9yIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19vYmplY3RzX2NvbG9yc19fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19vYmplY3RzX01hdGVyaWFsc19fIiwiX2NyZWF0ZUNsYXNzIiwiZGVmaW5lUHJvcGVydGllcyIsInRhcmdldCIsInByb3BzIiwiZGVzY3JpcHRvciIsIndyaXRhYmxlIiwia2V5IiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiSGVhZCIsInRoaXMiLCJtZXNoIiwiVEhSRUUiLCJPYmplY3QzRCIsImhlYWRHZW9tIiwiQm94QnVmZmVyR2VvbWV0cnkiLCJza2luTWF0IiwiTWVzaExhbWJlcnRNYXRlcmlhbCIsImNvbG9yIiwiZmxhdFNoYWRpbmciLCJNZXNoUGhvbmdNYXRlcmlhbCIsImhlYWQiLCJNZXNoIiwiY2FzdFNoYWRvdyIsInJlY2VpdmVTaGFkb3ciLCJhZGQiLCJiZWFyZCIsInBvc2l0aW9uIiwieSIsInoiLCJCZWFyZCIsIkdsYXNzZXMiLCJIYWlyIiwiRXllcyIsIkV5ZUJyb3dzIiwiSGF0IiwiRnJlY2tsZXMiLCJGZWF0dXJlcyIsImlkbGUiLCJub3JtYWxpemUiLCJ2YWx1ZSIsInYiLCJ2bWluIiwidm1heCIsInRtaW4iLCJ0bWF4IiwibWF4IiwibWluIiwic3BlZWQiLCJleWVCbHVlUmlnaHRQb3NYIiwiZXllQmx1ZUxlZnRQb3NYIiwiZXllQmx1ZVJpZ2h0UG9zWSIsImV5ZUJsdWVMZWZ0UG9zWSIsImV5ZUJyb3dSaWdodFBvc1kiLCJleWVCcm93TGVmdFBvc1kiLCJleWVCbHVlUmlnaHQiLCJ4IiwiZXllQmx1ZUxlZnQiLCJleWVCcm93UmlnaHQiLCJleWVCcm93TGVmdCIsInhUYXJnZXQiLCJhcmd1bWVudHMiLCJ1bmRlZmluZWQiLCJ5VGFyZ2V0Iiwicm90YXRpb24iLCJzaW4iLCJEYXRlIiwibm93IiwiUEkiLCJtb3VzdGFjaGUiLCJjb3MiLCJ1cGRhdGVCb2R5IiwiYmVhcmRHZW9tTWVyZ2VkIiwiR2VvbWV0cnkiLCJiZWFyZDFHZW9tIiwiQm94R2VvbWV0cnkiLCJiZWFyZDEiLCJ3aGl0ZU1hdCIsImFwcGx5TWF0cml4IiwiTWF0cml4NCIsIm1ha2VUcmFuc2xhdGlvbiIsInVwZGF0ZU1hdHJpeCIsIm1lcmdlIiwiZ2VvbWV0cnkiLCJtYXRyaXgiLCJiZWFyZDIiLCJzY2FsZSIsImJlYXJkMyIsImNsb25lIiwiYmVhcmQ0IiwiYmVhcmQyR2VvbSIsInZlcnRpY2VzIiwiYmVhcmQ1IiwiYmVhcmQzR2VvbSIsImJlYXJkNiIsImJlYXJkNyIsImJlYXJkOCIsImJlYXJkNEdlb20iLCJiZWFyZDkiLCJiZWFyZDVHZW9tIiwiYmVhcmQxMCIsImJlYXJkMTEiLCJiZWFyZE1lcmdlZCIsIm1vdXRoR2VvbSIsIm1vdXRoIiwiYmxhY2tNYXQiLCJzZXQiLCJ0ZWV0aEdlb20iLCJ0ZWV0aE1hdCIsIm1vdXN0YWNoZUdlb20iLCJnbGFzc2VzTWF0IiwiZnJhbWVHZW9tTWVyZ2VkIiwiZnJhbWVPdXRlckdlb20iLCJDeWxpbmRlckdlb21ldHJ5IiwiZnJhbWVJbm5lckdlb20iLCJtYWtlUm90YXRpb25YIiwiZnJhbWVCU1AiLCJUaHJlZUJTUCIsImZyYW1lQ3V0QlNQIiwiZnJhbWVpbnRlcnNlY3Rpb25CU1AiLCJzdWJ0cmFjdCIsImZyYW1lTGVmdCIsInRvTWVzaCIsImZyYW1lUmlnaHQiLCJtYWtlUm90YXRpb25aIiwiZnJhbWVNaWRHZW9tIiwiZnJhbWVNaWQiLCJmcmFtZUVuZEdlb20iLCJmcmFtZUVuZFJpZ2h0IiwiZnJhbWVFbmRMZWZ0IiwiZnJhbWVTcG9rZUdlb20iLCJmcmFtZVNwb2tlUmlnaHQiLCJmcmFtZVNwb2tlTGVmdCIsImZyYW1lTWVyZ2VkIiwiaGFpciIsImhhaXJHZW9tTWVyZ2VkIiwiaGFpckZsYXRHZW9tIiwiaGFpcjEiLCJoYWlyMiIsImhhaXIzIiwiaGFpcjQiLCJoYWlyNiIsImhhaXJGbGF0QmFja0dlb20iLCJoYWlyNSIsImhhaXJNZXJnZWQiLCJleWVzIiwiZXllV2hpdGVHZW9tIiwiUGxhbmVHZW9tZXRyeSIsImV5ZVdoaXRlUmlnaHQiLCJleWVCbHVlR2VvbSIsImV5ZU1hdCIsImV5ZVB1cGlsR2VvbSIsImV5ZVB1cGlsUmlnaHQiLCJleWVXaGl0ZUxlZnQiLCJleWVQdXBpbExlZnQiLCJleWVCcm93cyIsImV5ZUJyb3dHZW9tIiwiaGF0TWF0IiwiYmFuZEdlb20iLCJUb3J1c0dlb21ldHJ5IiwiYmlnQ29uZUdlb20iLCJzbWFsbENvbmVHZW9tIiwiaGF0RGluZ2xlR2VvbSIsIlNwaGVyZUdlb21ldHJ5IiwiYmFuZCIsImJpZ0NvbmUiLCJzbWFsbENvbmUiLCJtYWtlUm90YXRpb25ZIiwiaGF0RGluZ2xlIiwiZnJlY2tsZXNNYXQiLCJmcmVja2xlc0dlb21NZXJnZWQiLCJmcmVja2xlc0dlb20iLCJmcmVja2xlMSIsImZyZWNrbGUyIiwiZnJlY2tsZTMiLCJmcmVja2xlNCIsImZyZWNrbGU1IiwiZnJlY2tsZTYiLCJmcmVja2xlZE1lcmdlZCIsImVhckdlb20iLCJlYXJSaWdodCIsImVhckxlZnQiLCJub3NlR2VvbSIsIm5vc2UiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2NvbG9yc19fIiwiTWF0ZXJpYWxzIiwibm9ybWFsTWF0IiwiTWVzaE5vcm1hbE1hdGVyaWFsIiwic2VsZiIsImZldGNoIiwiYmluZCIsIm5vcm1hbGl6ZU5hbWUiLCJTdHJpbmciLCJ0ZXN0IiwidG9Mb3dlckNhc2UiLCJub3JtYWxpemVWYWx1ZSIsIml0ZXJhdG9yRm9yIiwiaXRlbXMiLCJpdGVyYXRvciIsIm5leHQiLCJzaGlmdCIsImRvbmUiLCJzdXBwb3J0IiwiaXRlcmFibGUiLCJTeW1ib2wiLCJIZWFkZXJzIiwiaGVhZGVycyIsIm1hcCIsImZvckVhY2giLCJBcnJheSIsImlzQXJyYXkiLCJoZWFkZXIiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiY29uc3VtZWQiLCJib2R5VXNlZCIsIlByb21pc2UiLCJyZWplY3QiLCJmaWxlUmVhZGVyUmVhZHkiLCJyZWFkZXIiLCJyZXNvbHZlIiwib25sb2FkIiwicmVzdWx0Iiwib25lcnJvciIsImVycm9yIiwicmVhZEJsb2JBc0FycmF5QnVmZmVyIiwiRmlsZVJlYWRlciIsInByb21pc2UiLCJyZWFkQXNBcnJheUJ1ZmZlciIsInJlYWRCbG9iQXNUZXh0IiwicmVhZEFzVGV4dCIsInJlYWRBcnJheUJ1ZmZlckFzVGV4dCIsImJ1ZiIsInZpZXciLCJVaW50OEFycmF5IiwiY2hhcnMiLCJmcm9tQ2hhckNvZGUiLCJidWZmZXJDbG9uZSIsInNsaWNlIiwiYnl0ZUxlbmd0aCIsImJ1ZmZlciIsIkJvZHkiLCJfaW5pdEJvZHkiLCJfYm9keUluaXQiLCJfYm9keVRleHQiLCJCbG9iIiwiaXNQcm90b3R5cGVPZiIsIl9ib2R5QmxvYiIsImZvcm1EYXRhIiwiX2JvZHlGb3JtRGF0YSIsInNlYXJjaFBhcmFtcyIsIlVSTFNlYXJjaFBhcmFtcyIsInRvU3RyaW5nIiwiYXJyYXlCdWZmZXIiLCJpc0RhdGFWaWV3IiwiX2JvZHlBcnJheUJ1ZmZlciIsIkFycmF5QnVmZmVyIiwiaXNBcnJheUJ1ZmZlclZpZXciLCJ0eXBlIiwicmVqZWN0ZWQiLCJkZWNvZGUiLCJKU09OIiwicGFyc2UiLCJub3JtYWxpemVNZXRob2QiLCJ1cGNhc2VkIiwidG9VcHBlckNhc2UiLCJtZXRob2RzIiwiaW5kZXhPZiIsIlJlcXVlc3QiLCJpbnB1dCIsIm9wdGlvbnMiLCJjcmVkZW50aWFscyIsIm1vZGUiLCJyZWZlcnJlciIsImZvcm0iLCJ0cmltIiwiYnl0ZXMiLCJyZXBsYWNlIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwicGFyc2VIZWFkZXJzIiwicmF3SGVhZGVycyIsImxpbmUiLCJwYXJ0cyIsIlJlc3BvbnNlIiwiYm9keUluaXQiLCJzdGF0dXMiLCJvayIsInN0YXR1c1RleHQiLCJlIiwidmlld0NsYXNzZXMiLCJvYmoiLCJEYXRhVmlldyIsImlzVmlldyIsIm9sZFZhbHVlIiwiaGFzIiwiY2FsbGJhY2siLCJ0aGlzQXJnIiwia2V5cyIsInZhbHVlcyIsImVudHJpZXMiLCJyZXNwb25zZSIsInJlZGlyZWN0U3RhdHVzZXMiLCJyZWRpcmVjdCIsIlJhbmdlRXJyb3IiLCJsb2NhdGlvbiIsImluaXQiLCJyZXF1ZXN0IiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJnZXRBbGxSZXNwb25zZUhlYWRlcnMiLCJyZXNwb25zZVVSTCIsInJlc3BvbnNlVGV4dCIsIm9udGltZW91dCIsIm9wZW4iLCJ3aXRoQ3JlZGVudGlhbHMiLCJyZXNwb25zZVR5cGUiLCJzZXRSZXF1ZXN0SGVhZGVyIiwic2VuZCIsInBvbHlmaWxsIiwiZW5jb2RlIiwibnVtYmVyIiwibG9vcENvdW50ZXIiLCJzdHIiLCJyYW5kb21CeXRlIiwicG93IiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19jbGFzc2VzX0hlYWRfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fb2JqZWN0c19jb2xvcnNfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fY2xhc3Nlc19BdWRpb19qc19fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19vYmplY3RzX1NhdmVfXyIsInNjZW5lIiwiY2FtZXJhIiwiZmllbGRPZlZpZXciLCJhc3BlY3RSYXRpbyIsIm5lYXJQbGFuZSIsImZhclBsYW5lIiwiSEVJR0hUIiwiV0lEVEgiLCJnbG9iYWxMaWdodCIsInNoYWRvd0xpZ2h0IiwiYmFja0xpZ2h0IiwicmVuZGVyZXIiLCJjb250YWluZXIiLCJ3aW5kb3dIYWxmWCIsIndpbmRvd0hhbGZZIiwiYXVkaW8iLCJjb250cm9sbGVyIiwiZ3VpIiwic2F2ZUJ0biIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJtb3VzZVBvcyIsImd1aUNvbnRyb2xsZXIiLCJhZGRDb2xvciIsIm9uQ2hhbmdlIiwicmVtb3ZlIiwiY3JlYXRlSGVhZCIsImNyZWF0ZVNjZW5lIiwid2luZG93IiwiaW5uZXJIZWlnaHQiLCJpbm5lcldpZHRoIiwiU2NlbmUiLCJQZXJzcGVjdGl2ZUNhbWVyYSIsIldlYkdMUmVuZGVyZXIiLCJhbHBoYSIsImFudGlhbGlhcyIsInNldFBpeGVsUmF0aW8iLCJkZXZpY2VQaXhlbFJhdGlvIiwic2V0U2l6ZSIsInNoYWRvd01hcCIsImVuYWJsZWQiLCJQQ0ZTb2Z0U2hhZG93TWFwIiwiYXBwZW5kQ2hpbGQiLCJkb21FbGVtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9uV2luZG93UmVzaXplIiwiaGFuZGxlTW91c2VNb3ZlIiwiYXNwZWN0IiwidXBkYXRlUHJvamVjdGlvbk1hdHJpeCIsImV2ZW50IiwiY2xpZW50WCIsImNsaWVudFkiLCJpc01vYmlsZSIsIkxvYWRpbmdNYW5hZ2VyIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiY3JlYXRlTGlnaHRzIiwiSGVtaXNwaGVyZUxpZ2h0IiwiRGlyZWN0aW9uYWxMaWdodCIsInNoYWRvdyIsIm1hcFNpemUiLCJ3aWR0aCIsImhlaWdodCIsIkFtYmllbnRMaWdodCIsImlzQmxpbmtpbmciLCJibGlua0xvb3AiLCJyYW5kb20iLCJibGluayIsIlR3ZWVuTWF4IiwidG8iLCJ5b3lvIiwicmVwZWF0Iiwib25Db21wbGV0ZSIsImNvbnRyb2xsZXJUZXh0IiwibG9vcCIsInJlbmRlciIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInBhcnRpY2xlc0pTIiwibG9hZCIsImNvbnNvbGUiLCJsb2ciLCJ0eHQiLCJkYXQiLCJHVUkiLCJjbG9zZWQiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2xpYl9zb3VuZEFQSV9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX3Nob3J0aWRfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9zaG9ydGlkX19fZGVmYXVsdCIsIlNwZWVjaFJlY29nbml0aW9uIiwid2Via2l0U3BlZWNoUmVjb2duaXRpb24iLCJTcGVlY2hHcmFtbWFyTGlzdCIsIndlYmtpdFNwZWVjaEdyYW1tYXJMaXN0IiwiU3BlZWNoUmVjb2duaXRpb25FdmVudCIsIndlYmtpdFNwZWVjaFJlY29nbml0aW9uRXZlbnQiLCJBdWRpb0NvbnRleHQiLCJ3ZWJraXRBdWRpb0NvbnRleHQiLCJhdWRpb0N0eCIsInJlY29nbml0aW9uIiwidHJhbnNjcmlwdCIsImF1ZGlvQ2h1bmtzIiwiJHRleHQiLCIkcmVjb3JkIiwiJGF1ZGlvIiwicGl0Y2hTaGlmdGVyUHJvY2Vzc29yIiwidmFsaWRHcmFuU2l6ZXMiLCJncmFpblNpemUiLCJwaXRjaFJhdGlvIiwib3ZlcmxhcFJhdGlvIiwiYSIsImdlbmVyYXRlIiwiQXVkaW8iLCJfdGhpcyIsInNwZWVjaFNldHRpbmdzIiwib25yZXN1bHQiLCJnb3RSZXN1bHQiLCJvbnNwZWVjaGVuZCIsIm9uU3BlZWNoRW5kIiwibWVkaWFEZXZpY2VzIiwiZ2V0VXNlck1lZGlhIiwic3RyZWFtIiwibWVkaWFSZWNvcmRlciIsIk1lZGlhUmVjb3JkZXIiLCJzdGFydCIsImRpc2FibGVkIiwiZGF0YSIsInNldFRpbWVvdXQiLCJCdWZmZXJMb2FkZXIiLCJidWZmZXJMaXN0Iiwic291cmNlIiwic3RvcCIsIiRwaXRjaCIsInBhcnNlRmxvYXQiLCJjcmVhdGVCdWZmZXJTb3VyY2UiLCJjb25uZWN0IiwiaW5pdFByb2Nlc3NvciIsIm92ZXJsYXAiLCJ0ZXh0Q29udGVudCIsImxhc3QiLCJyZXN1bHRzIiwiY29udGludW91cyIsImxhbmciLCJpbnRlcmltUmVzdWx0cyIsIm1heEFsdGVybmF0aXZlcyIsImxpbmVhckludGVycG9sYXRpb24iLCJiIiwidCIsImRpc2Nvbm5lY3QiLCJjcmVhdGVTY3JpcHRQcm9jZXNzb3IiLCJjcmVhdGVKYXZhU2NyaXB0Tm9kZSIsIkZsb2F0MzJBcnJheSIsImdyYWluV2luZG93IiwiaGFubldpbmRvdyIsIm9uYXVkaW9wcm9jZXNzIiwiaW5wdXREYXRhIiwiaW5wdXRCdWZmZXIiLCJnZXRDaGFubmVsRGF0YSIsIm91dHB1dERhdGEiLCJvdXRwdXRCdWZmZXIiLCJncmFpbkRhdGEiLCJqIiwicm91bmQiLCJkZXN0aW5hdGlvbiIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fbGliX0NhcnRBUElfXyIsImxpbmsiLCJxdWVyeVNlbGVjdG9yIiwiaGFuZGxlU2F2ZSIsImlubmVySFRNTCIsInNldEF0dHJpYnV0ZSIsInNlZWRWYWx1ZSIsIndvcmtlciIsIndvcmtlcklkIiwiY2x1c3RlcldvcmtlcklkIiwibmV3Q2hhcmFjdGVycyIsImJ1aWxkIiwiaXNWYWxpZCIsImdldE5leHRWYWx1ZSIsIl9zZWVkXyIsImNyeXB0byIsImdldFJhbmRvbVZhbHVlcyIsImRlc3QiLCJtc0NyeXB0byIsInZlcnNpb24iLCJzdWJzdHIiLCJzZWNvbmRzIiwiUkVEVUNFX1RJTUUiLCJwcmV2aW91c1NlY29uZHMiLCJjb3VudGVyIiwiaXNTaG9ydElkIiwibGVuIiwibmV3RmlsZU5hbWUiXSwibWFwcGluZ3MiOiJDQUFTLFNBQVVBLEdDSW5CLFFBQUFDLEdBQUFDLEdBR0EsR0FBQUMsRUFBQUQsR0FDQSxNQUFBQyxHQUFBRCxHQUFBRSxPQUdBLElBQUFDLEdBQUFGLEVBQUFELElBQ0FJLEVBQUFKLEVBQ0FLLEdBQUEsRUFDQUgsV0FVQSxPQU5BSixHQUFBRSxHQUFBTSxLQUFBSCxFQUFBRCxRQUFBQyxJQUFBRCxRQUFBSCxHQUdBSSxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBdkJBLEdBQUFELEtBNEJBRixHQUFBUSxFQUFBVCxFQUdBQyxFQUFBUyxFQUFBUCxFQUdBRixFQUFBVSxFQUFBLFNBQUFQLEVB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QUFLRyxPQUFMLFFBQXFCRixFQUFNcWpCLEdBRXBCNWpCLElBQU1DLEdBQU1TLE9BTmJBLE9BTXFCSixTQUN4QkssS0FBSyxTQUFBQyxHQUFBLE1BQUtBLEdBQUVDLFVBR2pCQyxLQUFNLFdBQ0osTUFBT2QsS0FBU0MsRUFBVCxrQkFDSlUsS0FBSyxTQUFBQyxHQUFBLE1BQUtBLEdBQUVDLFVBR2pCRSxRQUFTLFNBQUFWLEdBRVAsTUFBT0wsS0FBU0MsRUFBVCxJQUFnQkksR0FBT0ssT0FEeEJBLFFBQ2lDQyxLQUFLLFNBQUFDLEdBQUEsTUFBS0EsR0FBRUMsWXJCd3BFakQsU0FBVS9DLEVBQVF1QixFQUFxQjNCLEdBRTdDLFlBQ3FCLElBQUlxQyxHQUFpRHJDLEVBQW9CLEdBQ3JFc0MsRUFBeUR0QyxFQUFvQm1CLEVBQUVrQixHc0JsckVsR0UsYUFFTlosR0FBQSxHQUVFYSxPQUFRLFNBQUFDLEdBQTRCLEdBQTFCQyxHQUEwQkQsRUFBMUJDLEtBQU1DLEVBQW9CRixFQUFwQkUsR0FBSWhDLEVBQWdCOEIsRUFBaEI5QixLQUdaaUMsR0FINEJILEVBQVZJLEtBR1gsR0FBSUMsVUFNakIsT0FMQUYsR0FBS0csT0FBTCxPQUFvQkwsR0FDcEJFLEVBQUtHLE9BQUwsS0FBa0JKLEdBQ2xCQyxFQUFLRyxPQUFMLE9BQW9CcEMsR0FHYjJCLElBQU1DLEdBQU1TLE9BUmJBLE9BUXFCSixTQUN4QkssS0FBSyxTQUFBQyxHQUFBLE1BQUtBLEdBQUVDLFVBR2pCQyxLQUFNLFdBQ0osTUFBT2QsS0FBU0MsRUFBVCxrQkFDSlUsS0FBSyxTQUFBQyxHQUFBLE1BQUtBLEdBQUVDLFVBR2pCRSxRQUFTLFNBQUFWLEdBRVAsTUFBT0wsS0FBU0MsRUFBVCxJQUFnQkksR0FBT0ssT0FEeEJBLFFBQ2lDQyxLQUFLLFNBQUFDLEdBQUEsTUFBS0EsR0FBRUMiLCJmaWxlIjoianMvc2NyaXB0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcFxuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuLyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4vKioqKioqLyBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4vKioqKioqLyBcdFx0XHRpOiBtb2R1bGVJZCxcbi8qKioqKiovIFx0XHRcdGw6IGZhbHNlLFxuLyoqKioqKi8gXHRcdFx0ZXhwb3J0czoge31cbi8qKioqKiovIFx0XHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuLyoqKioqKi8gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbi8qKioqKiovIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyBcdH1cbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbi8qKioqKiovIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4vKioqKioqLyBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuLyoqKioqKi8gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuLyoqKioqKi8gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuLyoqKioqKi8gXHRcdFx0XHRnZXQ6IGdldHRlclxuLyoqKioqKi8gXHRcdFx0fSk7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4vKioqKioqLyBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4vKioqKioqLyBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuLyoqKioqKi8gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbi8qKioqKiovIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4vKioqKioqLyBcdFx0cmV0dXJuIGdldHRlcjtcbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDgpO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoW1xuLyogMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbnZhciBDb2xvcnMgPSB7XG4gIHNraW46IDB4ZmZlMGJkLFxuICBmcmVja2xlczogMHhjZmJhOTYsXG4gIHdoaXRlOiAweGU5ZWJlZSxcbiAgZ2xhc3NlczogMHhmOWM0MjEsXG4gIHRlZXRoOiAweGZmZmZmZixcbiAgYmxhY2s6IDB4MmUyZTJlLFxuICBleWU6IDB4NjI5NWE4LFxuICBoYXQ6IDB4NzIwMzE0XG59O1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IChDb2xvcnMpO1xuXG4vKioqLyB9KSxcbi8qIDEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX2lzb21vcnBoaWNfZmV0Y2hfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX2lzb21vcnBoaWNfZmV0Y2hfX19kZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9pc29tb3JwaGljX2ZldGNoX18pO1xuXG5cbnZhciB1cmwgPSAnL2FwaS9jYXJ0JztcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9ICh7XG5cbiAgY3JlYXRlOiBmdW5jdGlvbiBjcmVhdGUoX3JlZikge1xuICAgIHZhciB0ZXh0ID0gX3JlZi50ZXh0LFxuICAgICAgICBpZCA9IF9yZWYuaWQsXG4gICAgICAgIG5hbWUgPSBfcmVmLm5hbWUsXG4gICAgICAgIGJsb2IgPSBfcmVmLmJsb2I7XG5cbiAgICB2YXIgbWV0aG9kID0gJ1BPU1QnO1xuICAgIC8vIGNvbnN0IG5ld0ZpbGVOYW1lID0gYCR7aWQuc3BsaXQoYCBgKS5qb2luKGBfYCl9YDtcbiAgICB2YXIgYm9keSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgIGJvZHkuYXBwZW5kKCd0ZXh0JywgdGV4dCk7XG4gICAgYm9keS5hcHBlbmQoJ2lkJywgaWQpO1xuICAgIGJvZHkuYXBwZW5kKCduYW1lJywgbmFtZSk7XG4gICAgLy8gYm9keS5hcHBlbmQoYHNvdW5kYCwgYmxvYiwgbmV3RmlsZU5hbWUpO1xuXG4gICAgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9pc29tb3JwaGljX2ZldGNoX19fZGVmYXVsdCgpKHVybCwgeyBtZXRob2Q6IG1ldGhvZCwgYm9keTogYm9keSB9KS50aGVuKGZ1bmN0aW9uIChyKSB7XG4gICAgICByZXR1cm4gci5qc29uKCk7XG4gICAgfSk7XG4gIH0sXG5cbiAgcmVhZDogZnVuY3Rpb24gcmVhZCgpIHtcbiAgICByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX2lzb21vcnBoaWNfZmV0Y2hfX19kZWZhdWx0KCkodXJsICsgJz9pc0FjdGl2ZT10cnVlJykudGhlbihmdW5jdGlvbiAocikge1xuICAgICAgcmV0dXJuIHIuanNvbigpO1xuICAgIH0pO1xuICB9LFxuXG4gIHJlYWRPbmU6IGZ1bmN0aW9uIHJlYWRPbmUoaWQpIHtcbiAgICB2YXIgbWV0aG9kID0gJ0dFVCc7XG4gICAgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9pc29tb3JwaGljX2ZldGNoX19fZGVmYXVsdCgpKHVybCArICcvJyArIGlkLCB7IG1ldGhvZDogbWV0aG9kIH0pLnRoZW4oZnVuY3Rpb24gKHIpIHtcbiAgICAgIHJldHVybiByLmpzb24oKTtcbiAgICB9KTtcbiAgfVxufSk7XG5cbi8qKiovIH0pLFxuLyogMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgcmFuZG9tRnJvbVNlZWQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKTtcblxudmFyIE9SSUdJTkFMID0gJzAxMjM0NTY3ODlhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ekFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaXy0nO1xudmFyIGFscGhhYmV0O1xudmFyIHByZXZpb3VzU2VlZDtcblxudmFyIHNodWZmbGVkO1xuXG5mdW5jdGlvbiByZXNldCgpIHtcbiAgICBzaHVmZmxlZCA9IGZhbHNlO1xufVxuXG5mdW5jdGlvbiBzZXRDaGFyYWN0ZXJzKF9hbHBoYWJldF8pIHtcbiAgICBpZiAoIV9hbHBoYWJldF8pIHtcbiAgICAgICAgaWYgKGFscGhhYmV0ICE9PSBPUklHSU5BTCkge1xuICAgICAgICAgICAgYWxwaGFiZXQgPSBPUklHSU5BTDtcbiAgICAgICAgICAgIHJlc2V0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChfYWxwaGFiZXRfID09PSBhbHBoYWJldCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKF9hbHBoYWJldF8ubGVuZ3RoICE9PSBPUklHSU5BTC5sZW5ndGgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDdXN0b20gYWxwaGFiZXQgZm9yIHNob3J0aWQgbXVzdCBiZSAnICsgT1JJR0lOQUwubGVuZ3RoICsgJyB1bmlxdWUgY2hhcmFjdGVycy4gWW91IHN1Ym1pdHRlZCAnICsgX2FscGhhYmV0Xy5sZW5ndGggKyAnIGNoYXJhY3RlcnM6ICcgKyBfYWxwaGFiZXRfKTtcbiAgICB9XG5cbiAgICB2YXIgdW5pcXVlID0gX2FscGhhYmV0Xy5zcGxpdCgnJykuZmlsdGVyKGZ1bmN0aW9uKGl0ZW0sIGluZCwgYXJyKXtcbiAgICAgICByZXR1cm4gaW5kICE9PSBhcnIubGFzdEluZGV4T2YoaXRlbSk7XG4gICAgfSk7XG5cbiAgICBpZiAodW5pcXVlLmxlbmd0aCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0N1c3RvbSBhbHBoYWJldCBmb3Igc2hvcnRpZCBtdXN0IGJlICcgKyBPUklHSU5BTC5sZW5ndGggKyAnIHVuaXF1ZSBjaGFyYWN0ZXJzLiBUaGVzZSBjaGFyYWN0ZXJzIHdlcmUgbm90IHVuaXF1ZTogJyArIHVuaXF1ZS5qb2luKCcsICcpKTtcbiAgICB9XG5cbiAgICBhbHBoYWJldCA9IF9hbHBoYWJldF87XG4gICAgcmVzZXQoKTtcbn1cblxuZnVuY3Rpb24gY2hhcmFjdGVycyhfYWxwaGFiZXRfKSB7XG4gICAgc2V0Q2hhcmFjdGVycyhfYWxwaGFiZXRfKTtcbiAgICByZXR1cm4gYWxwaGFiZXQ7XG59XG5cbmZ1bmN0aW9uIHNldFNlZWQoc2VlZCkge1xuICAgIHJhbmRvbUZyb21TZWVkLnNlZWQoc2VlZCk7XG4gICAgaWYgKHByZXZpb3VzU2VlZCAhPT0gc2VlZCkge1xuICAgICAgICByZXNldCgpO1xuICAgICAgICBwcmV2aW91c1NlZWQgPSBzZWVkO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gc2h1ZmZsZSgpIHtcbiAgICBpZiAoIWFscGhhYmV0KSB7XG4gICAgICAgIHNldENoYXJhY3RlcnMoT1JJR0lOQUwpO1xuICAgIH1cblxuICAgIHZhciBzb3VyY2VBcnJheSA9IGFscGhhYmV0LnNwbGl0KCcnKTtcbiAgICB2YXIgdGFyZ2V0QXJyYXkgPSBbXTtcbiAgICB2YXIgciA9IHJhbmRvbUZyb21TZWVkLm5leHRWYWx1ZSgpO1xuICAgIHZhciBjaGFyYWN0ZXJJbmRleDtcblxuICAgIHdoaWxlIChzb3VyY2VBcnJheS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHIgPSByYW5kb21Gcm9tU2VlZC5uZXh0VmFsdWUoKTtcbiAgICAgICAgY2hhcmFjdGVySW5kZXggPSBNYXRoLmZsb29yKHIgKiBzb3VyY2VBcnJheS5sZW5ndGgpO1xuICAgICAgICB0YXJnZXRBcnJheS5wdXNoKHNvdXJjZUFycmF5LnNwbGljZShjaGFyYWN0ZXJJbmRleCwgMSlbMF0pO1xuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0QXJyYXkuam9pbignJyk7XG59XG5cbmZ1bmN0aW9uIGdldFNodWZmbGVkKCkge1xuICAgIGlmIChzaHVmZmxlZCkge1xuICAgICAgICByZXR1cm4gc2h1ZmZsZWQ7XG4gICAgfVxuICAgIHNodWZmbGVkID0gc2h1ZmZsZSgpO1xuICAgIHJldHVybiBzaHVmZmxlZDtcbn1cblxuLyoqXG4gKiBsb29rdXAgc2h1ZmZsZWQgbGV0dGVyXG4gKiBAcGFyYW0gaW5kZXhcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGxvb2t1cChpbmRleCkge1xuICAgIHZhciBhbHBoYWJldFNodWZmbGVkID0gZ2V0U2h1ZmZsZWQoKTtcbiAgICByZXR1cm4gYWxwaGFiZXRTaHVmZmxlZFtpbmRleF07XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIGNoYXJhY3RlcnM6IGNoYXJhY3RlcnMsXG4gICAgc2VlZDogc2V0U2VlZCxcbiAgICBsb29rdXA6IGxvb2t1cCxcbiAgICBzaHVmZmxlZDogZ2V0U2h1ZmZsZWRcbn07XG5cblxuLyoqKi8gfSksXG4vKiAzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fb2JqZWN0c19jb2xvcnNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19vYmplY3RzX01hdGVyaWFsc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cblxuXG5cbnZhciBpc0JsaW5raW5nID0gZmFsc2U7XG5cbnZhciBIZWFkID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBIZWFkKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBIZWFkKTtcblxuICAgIHRoaXMubWVzaCA9IG5ldyBUSFJFRS5PYmplY3QzRCgpO1xuXG4gICAgdmFyIGhlYWRHZW9tID0gbmV3IFRIUkVFLkJveEJ1ZmZlckdlb21ldHJ5KDE2LCAxNiwgMTYpO1xuICAgIHZhciBza2luTWF0ID0gbmV3IFRIUkVFLk1lc2hMYW1iZXJ0TWF0ZXJpYWwoeyBjb2xvcjogX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19vYmplY3RzX2NvbG9yc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLnNraW4sIGZsYXRTaGFkaW5nOiB0cnVlIH0pO1xuICAgIHZhciBleWVNYXQgPSBuZXcgVEhSRUUuTWVzaFBob25nTWF0ZXJpYWwoeyBjb2xvcjogX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19vYmplY3RzX2NvbG9yc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLmV5ZSwgZmxhdFNoYWRpbmc6IHRydWUgfSk7XG5cbiAgICB0aGlzLmhlYWQgPSBuZXcgVEhSRUUuTWVzaChoZWFkR2VvbSwgc2tpbk1hdCk7XG4gICAgdGhpcy5oZWFkLmNhc3RTaGFkb3cgPSB0cnVlO1xuICAgIHRoaXMuaGVhZC5yZWNlaXZlU2hhZG93ID0gZmFsc2U7XG4gICAgdGhpcy5tZXNoLmFkZCh0aGlzLmhlYWQpO1xuXG4gICAgdGhpcy5iZWFyZCA9IG5ldyBUSFJFRS5PYmplY3QzRCgpO1xuICAgIHRoaXMuYmVhcmQucG9zaXRpb24ueSA9IC03O1xuICAgIHRoaXMuYmVhcmQucG9zaXRpb24ueiA9IDAuNTtcbiAgICB0aGlzLmhlYWQuYWRkKHRoaXMuYmVhcmQpO1xuICAgIHZhciBzdGFycyA9IHZvaWQgMDtcblxuICAgIHRoaXMuQmVhcmQoKTtcbiAgICB0aGlzLkdsYXNzZXMoKTtcbiAgICB0aGlzLkhhaXIoKTtcbiAgICB0aGlzLkV5ZXMoKTtcbiAgICB0aGlzLkV5ZUJyb3dzKCk7XG4gICAgdGhpcy5IYXQoKTtcbiAgICB0aGlzLkZyZWNrbGVzKCk7XG4gICAgdGhpcy5GZWF0dXJlcygpO1xuICAgIHRoaXMuaWRsZSgpO1xuICAgIC8vICAgIHRoaXMuZGl6enkoKTtcbiAgICAvLyAgICB0aGlzLlN0YXIoKTtcbiAgICAvLyAgICB0aGlzLlN0YXJzR3JvdXAoKTtcbiAgICB0aGlzLm5vcm1hbGl6ZSgpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEhlYWQsIFt7XG4gICAga2V5OiAnbm9ybWFsaXplJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gbm9ybWFsaXplKHYsIHZtaW4sIHZtYXgsIHRtaW4sIHRtYXgpIHtcbiAgICAgIHZhciBudiA9IE1hdGgubWF4KE1hdGgubWluKHYsIHZtYXgpLCB2bWluKTtcbiAgICAgIHZhciBkdiA9IHZtYXggLSB2bWluO1xuICAgICAgdmFyIHBjID0gKG52IC0gdm1pbikgLyBkdjtcbiAgICAgIHZhciBkdCA9IHRtYXggLSB0bWluO1xuICAgICAgdmFyIHR2ID0gdG1pbiArIHBjICogZHQ7XG4gICAgICByZXR1cm4gdHY7XG4gICAgfVxuXG4gICAgLy8gU3RhcigpIHtcbiAgICAvLyAgIHRoaXMubWVzaCA9IG5ldyBUSFJFRS5PYmplY3QzRCgpO1xuICAgIC8vXG4gICAgLy8gICBsZXQgcHRzID0gW10sXG4gICAgLy8gICAgIG51bVB0cyA9IDU7XG4gICAgLy8gICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVB0cyAqIDI7IGkrKykge1xuICAgIC8vICAgICBsZXQgbCA9IGkgJSAyID09IDFcbiAgICAvLyAgICAgICA/IDFcbiAgICAvLyAgICAgICA6IDI7XG4gICAgLy8gICAgIGxldCBhID0gaSAvIG51bVB0cyAqIE1hdGguUEk7XG4gICAgLy8gICAgIHB0cy5wdXNoKG5ldyBUSFJFRS5WZWN0b3IyKE1hdGguY29zKGEpICogbCwgTWF0aC5zaW4oYSkgKiBsKSk7XG4gICAgLy8gICB9XG4gICAgLy8gICBsZXQgc3RhclNoYXBlID0gbmV3IFRIUkVFLlNoYXBlKHB0cyk7XG4gICAgLy9cbiAgICAvLyAgIGxldCBleHRydWRlU2V0dGluZ3MgPSB7XG4gICAgLy8gICAgIGFtb3VudDogMC41LFxuICAgIC8vICAgICBzdGVwczogMSxcbiAgICAvLyAgICAgYmV2ZWxFbmFibGVkOiBmYWxzZVxuICAgIC8vICAgfTtcbiAgICAvLyAgIGxldCBzdGFyR2VvbSA9IG5ldyBUSFJFRS5FeHRydWRlR2VvbWV0cnkoc3RhclNoYXBlLCBleHRydWRlU2V0dGluZ3MpO1xuICAgIC8vXG4gICAgLy8gICBsZXQgc3RhciA9IG5ldyBUSFJFRS5NZXNoKHN0YXJHZW9tLCBNYXQud2hpdGVNYXQpO1xuICAgIC8vXG4gICAgLy8gICBzdGFyLnJvdGF0aW9uLnggPSBNYXRoLlBJIC8gMjtcbiAgICAvL1xuICAgIC8vICAgdGhpcy5tZXNoLmFkZChzdGFyKTtcbiAgICAvLyB9XG5cbiAgICAvLyBTdGFyc0dyb3VwKCl7XG4gICAgLy8gICB0aGlzLm1lc2ggPSBuZXcgVEhSRUUuT2JqZWN0M0QoKTtcbiAgICAvL1xuICAgIC8vICAgdGhpcy5uU3RhcnMgPSAxNTtcbiAgICAvLyAgIGNvbnN0IHN0YXJBcnJheSA9IFtdO1xuICAgIC8vICAgbGV0IHN0ZXBBbmdsZSA9IE1hdGguUEkgKiAyIC8gdGhpcy5uU3RhcnM7XG4gICAgLy9cbiAgICAvLyAgIC8vIENyZWF0ZSB0aGUgU3RhcnNcbiAgICAvLyAgIC8vIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5uU3RhcnM7IGkrKykge1xuICAgIC8vICAgLy9cbiAgICAvLyAgIC8vICAgLy8gdGhpcy5zID0gdGhpcy5TdGFyKCk7XG4gICAgLy8gICAvLyAgIC8vIGxldCBhID0gc3RlcEFuZ2xlICogaTtcbiAgICAvLyAgIC8vICAgLy8gbGV0IHIgPSAxNTtcbiAgICAvLyAgIC8vICAgLy9cbiAgICAvLyAgIC8vICAgLy8gdGhpcy5zLm1lc2gucG9zaXRpb24ueSA9IE1hdGguc2luKGEpICogcjtcbiAgICAvLyAgIC8vICAgLy8gdGhpcy5zLm1lc2gucG9zaXRpb24ueCA9IE1hdGguY29zKGEpICogcjtcbiAgICAvLyAgIC8vICAgLy9cbiAgICAvLyAgIC8vICAgLy8gdGhpcy5zLm1lc2gucm90YXRpb24ueiA9IGEgKyBNYXRoLlBJIC8gMjtcbiAgICAvLyAgIC8vICAgLy8gdGhpcy5zLm1lc2gucG9zaXRpb24ueiA9IDAgLSBNYXRoLnJhbmRvbSgpICogMztcbiAgICAvLyAgIC8vICAgLy9cbiAgICAvLyAgIC8vICAgLy8gLy8gIHJhbmRvbSBzY2FsZSBmb3IgZWFjaCBjbG91ZFxuICAgIC8vICAgLy8gICAvLyBsZXQgc2MgPSAwLjUgKyBNYXRoLnJhbmRvbSgpICogLjY7XG4gICAgLy8gICAvLyAgIC8vIHRoaXMucy5tZXNoLnNjYWxlLnNldChzYywgc2MsIHNjKTtcbiAgICAvLyAgIC8vICAgLy9cbiAgICAvLyAgIC8vICAgLy8gdGhpcy5tZXNoLmFkZCh0aGlzLnMubWVzaCk7XG4gICAgLy8gICAvL1xuICAgIC8vICAgLy8gICBzdGFyQXJyYXkucHVzaCh0aGlzLnMpO1xuICAgIC8vICAgLy99XG4gICAgLy8gICB0aGlzLm1lc2gucm90YXRpb24ueCA9IE1hdGguUEkgLyAyO1xuICAgIC8vIH1cblxuICAgIC8vIHNwaW5TY2FsZSgpIHtcbiAgICAvLyAgIHRoaXMubWVzaC5yb3RhdGlvbi56ICs9IDAuMDI7XG4gICAgLy9cbiAgICAvLyAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RhckFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgLy8gICAgICBzdGFyQXJyYXlbaV0ubWVzaC5yb3RhdGlvbi54ID0gTWF0aC5zaW4oRGF0ZS5ub3coKSAqIDAuMDEpICogTWF0aC5QSSAqIDAuMSA7XG4gICAgLy8gICAgIHN0YXJBcnJheVtpXS5tZXNoLnJvdGF0aW9uLnogKz0gMCAtIE1hdGgucmFuZG9tKCkgKiAwLjE1O1xuICAgIC8vICAgICBzdGFyQXJyYXlbaV0ubWVzaC5yb3RhdGlvbi54ICs9IDAgLSBNYXRoLnJhbmRvbSgpICogMC4wNTtcbiAgICAvL1xuICAgIC8vICAgfVxuICAgIC8vIH1cblxuICAgIC8vIGRpenp5KCkge1xuICAgIC8vICAgdGhpcy5zdGFycyA9IHRoaXMuU3RhcnNHcm91cCgpO1xuICAgIC8vXG4gICAgLy8gICAvLyB0aGlzLnN0YXJzLm1lc2gucG9zaXRpb24uc2V0KDAsIDEwLCAwKTtcbiAgICAvLyAgIGxldCBkaXN0YW5jZSA9IDE7XG4gICAgLy9cbiAgICAvLyAgIHRoaXMuaGVhZC5yb3RhdGlvbi56ID0gTWF0aC5zaW4oRGF0ZS5ub3coKSAqIDAuMDA1KSAqIE1hdGguUEkgKiAwLjAxO1xuICAgIC8vICAgdGhpcy5oZWFkLnJvdGF0aW9uLnggPSBNYXRoLnNpbihEYXRlLm5vdygpICogMC4wMSkgKiBNYXRoLlBJICogMC4wMTtcbiAgICAvLyAgIHRoaXMuaGVhZC5yb3RhdGlvbi55ID0gTWF0aC5zaW4oRGF0ZS5ub3coKSAqIDAuMDA1KSAqIE1hdGguUEkgKiAwLjAxO1xuICAgIC8vXG4gICAgLy8gICB0aGlzLm1vdXN0YWNoZS5yb3RhdGlvbi56ID0gTWF0aC5zaW4oRGF0ZS5ub3coKSAqIDAuMDA1KSAqIE1hdGguUEkgKiAwLjA1O1xuICAgIC8vXG4gICAgLy8gICB0aGlzLnN0YXJzLnNwaW5TY2FsZSgpO1xuICAgIC8vIH1cblxuICB9LCB7XG4gICAga2V5OiAndXBkYXRlQm9keScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZUJvZHkoc3BlZWQsIGV5ZUJsdWVSaWdodFBvc1gsIGV5ZUJsdWVMZWZ0UG9zWCwgZXllQmx1ZVJpZ2h0UG9zWSwgZXllQmx1ZUxlZnRQb3NZLCBleWVCcm93UmlnaHRQb3NZLCBleWVCcm93TGVmdFBvc1kpIHtcbiAgICAgIHRoaXMuZXllQmx1ZVJpZ2h0LnBvc2l0aW9uLnggKz0gKGV5ZUJsdWVSaWdodFBvc1ggLSB0aGlzLmV5ZUJsdWVSaWdodC5wb3NpdGlvbi54KSAvIHNwZWVkO1xuICAgICAgdGhpcy5leWVCbHVlTGVmdC5wb3NpdGlvbi54ICs9IChleWVCbHVlTGVmdFBvc1ggLSB0aGlzLmV5ZUJsdWVMZWZ0LnBvc2l0aW9uLngpIC8gc3BlZWQ7XG5cbiAgICAgIHRoaXMuZXllQmx1ZVJpZ2h0LnBvc2l0aW9uLnkgKz0gKGV5ZUJsdWVSaWdodFBvc1kgLSB0aGlzLmV5ZUJsdWVSaWdodC5wb3NpdGlvbi55KSAvIHNwZWVkO1xuICAgICAgdGhpcy5leWVCbHVlTGVmdC5wb3NpdGlvbi55ICs9IChleWVCbHVlTGVmdFBvc1kgLSB0aGlzLmV5ZUJsdWVMZWZ0LnBvc2l0aW9uLnkpIC8gc3BlZWQ7XG5cbiAgICAgIHRoaXMuZXllQnJvd1JpZ2h0LnBvc2l0aW9uLnkgKz0gKGV5ZUJyb3dSaWdodFBvc1kgLSB0aGlzLmV5ZUJyb3dSaWdodC5wb3NpdGlvbi55KSAvIHNwZWVkO1xuICAgICAgdGhpcy5leWVCcm93TGVmdC5wb3NpdGlvbi55ICs9IChleWVCcm93TGVmdFBvc1kgLSB0aGlzLmV5ZUJyb3dMZWZ0LnBvc2l0aW9uLnkpIC8gc3BlZWQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnaWRsZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGlkbGUoKSB7XG4gICAgICB2YXIgeFRhcmdldCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMDtcbiAgICAgIHZhciB5VGFyZ2V0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwO1xuXG4gICAgICB2YXIgZGlzdGFuY2UgPSAxO1xuXG4gICAgICB0aGlzLmhlYWQucm90YXRpb24ueiA9IE1hdGguc2luKERhdGUubm93KCkgKiAwLjAwNSkgKiBNYXRoLlBJICogMC4wMDU7XG4gICAgICB0aGlzLmhlYWQucm90YXRpb24ueCA9IE1hdGguc2luKERhdGUubm93KCkgKiAwLjAwNCkgKiBNYXRoLlBJICogMC4wMztcblxuICAgICAgdmFyIGV5ZUJsdWVSaWdodFBvc1ggPSB0aGlzLm5vcm1hbGl6ZSh4VGFyZ2V0LCAtMjAwLCAyMDAsIC0wLjYsIDAuNik7XG4gICAgICB2YXIgZXllQmx1ZUxlZnRQb3NYID0gdGhpcy5ub3JtYWxpemUoeFRhcmdldCwgLTIwMCwgMjAwLCAtMC42LCAwLjYpO1xuXG4gICAgICB2YXIgZXllQmx1ZVJpZ2h0UG9zWSA9IHRoaXMubm9ybWFsaXplKHlUYXJnZXQsIC0yMDAsIDIwMCwgMC42LCAtMC42KTtcbiAgICAgIHZhciBleWVCbHVlTGVmdFBvc1kgPSB0aGlzLm5vcm1hbGl6ZSh5VGFyZ2V0LCAtMjAwLCAyMDAsIDAuNiwgLTAuNik7XG5cbiAgICAgIHZhciBleWVCcm93UmlnaHRQb3NZID0gdGhpcy5ub3JtYWxpemUoeFRhcmdldCwgLTIwMCwgMjAwLCAtMSwgMC44KTtcbiAgICAgIHZhciBleWVCcm93TGVmdFBvc1kgPSB0aGlzLm5vcm1hbGl6ZSh4VGFyZ2V0LCAtMjAwLCAyMDAsIC0xLCAwLjgpO1xuXG4gICAgICB0aGlzLm1vdXN0YWNoZS5wb3NpdGlvbi55ID0gTWF0aC5jb3MoRGF0ZS5ub3coKSAqIDAuMDEpICogZGlzdGFuY2UgLyA0O1xuICAgICAgdGhpcy5tb3VzdGFjaGUucm90YXRpb24ueiA9IE1hdGguc2luKERhdGUubm93KCkgKiAwLjAxKSAqIE1hdGguUEkgKiAwLjAxO1xuXG4gICAgICB0aGlzLm1lc2gucm90YXRpb24ueSA9IE1hdGguc2luKERhdGUubm93KCkgKiAwLjAwMikgKiBNYXRoLlBJICogMC4wNTtcbiAgICAgIHRoaXMudXBkYXRlQm9keSgxMCwgZXllQmx1ZVJpZ2h0UG9zWCwgZXllQmx1ZUxlZnRQb3NYLCBleWVCbHVlUmlnaHRQb3NZLCBleWVCbHVlTGVmdFBvc1ksIGV5ZUJyb3dSaWdodFBvc1ksIGV5ZUJyb3dMZWZ0UG9zWSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnQmVhcmQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBCZWFyZCgpIHtcbiAgICAgIHZhciBiZWFyZEdlb21NZXJnZWQgPSBuZXcgVEhSRUUuR2VvbWV0cnkoKTtcblxuICAgICAgdmFyIGJlYXJkMUdlb20gPSBuZXcgVEhSRUUuQm94R2VvbWV0cnkoMiwgMTAsIDE2KTtcblxuICAgICAgdmFyIGJlYXJkMSA9IG5ldyBUSFJFRS5NZXNoKGJlYXJkMUdlb20sIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fb2JqZWN0c19NYXRlcmlhbHNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS53aGl0ZU1hdCk7XG4gICAgICBiZWFyZDEuYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlVHJhbnNsYXRpb24oOSwgMCwgMCkpO1xuICAgICAgYmVhcmQxLnVwZGF0ZU1hdHJpeCgpO1xuICAgICAgYmVhcmRHZW9tTWVyZ2VkLm1lcmdlKGJlYXJkMS5nZW9tZXRyeSwgYmVhcmQxLm1hdHJpeCk7XG5cbiAgICAgIHZhciBiZWFyZDIgPSBuZXcgVEhSRUUuTWVzaChiZWFyZDFHZW9tLCBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX29iamVjdHNfTWF0ZXJpYWxzX19bXCJhXCIgLyogZGVmYXVsdCAqL10ud2hpdGVNYXQpO1xuICAgICAgYmVhcmQyLmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVRyYW5zbGF0aW9uKDcsIC0yLCAyKSk7XG4gICAgICBiZWFyZDIuc2NhbGUueiA9IDAuODtcbiAgICAgIGJlYXJkMi51cGRhdGVNYXRyaXgoKTtcbiAgICAgIGJlYXJkR2VvbU1lcmdlZC5tZXJnZShiZWFyZDIuZ2VvbWV0cnksIGJlYXJkMi5tYXRyaXgpO1xuXG4gICAgICB2YXIgYmVhcmQzID0gYmVhcmQxLmNsb25lKCk7XG4gICAgICBiZWFyZDMucG9zaXRpb24ueCA9IC1iZWFyZDEucG9zaXRpb24ueDtcbiAgICAgIGJlYXJkMy51cGRhdGVNYXRyaXgoKTtcbiAgICAgIGJlYXJkR2VvbU1lcmdlZC5tZXJnZShiZWFyZDMuZ2VvbWV0cnksIGJlYXJkMy5tYXRyaXgpO1xuXG4gICAgICB2YXIgYmVhcmQ0ID0gYmVhcmQyLmNsb25lKCk7XG4gICAgICBiZWFyZDQucG9zaXRpb24ueCA9IC1iZWFyZDIucG9zaXRpb24ueDtcbiAgICAgIGJlYXJkNC51cGRhdGVNYXRyaXgoKTtcbiAgICAgIGJlYXJkR2VvbU1lcmdlZC5tZXJnZShiZWFyZDQuZ2VvbWV0cnksIGJlYXJkNC5tYXRyaXgpO1xuXG4gICAgICB2YXIgYmVhcmQyR2VvbSA9IG5ldyBUSFJFRS5Cb3hHZW9tZXRyeSgzLCAxNCwgMTApO1xuICAgICAgYmVhcmQyR2VvbS52ZXJ0aWNlc1syXS56IC09IDI7XG4gICAgICBiZWFyZDJHZW9tLnZlcnRpY2VzWzddLnogLT0gMjtcblxuICAgICAgdmFyIGJlYXJkNSA9IG5ldyBUSFJFRS5NZXNoKGJlYXJkMkdlb20sIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fb2JqZWN0c19NYXRlcmlhbHNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS53aGl0ZU1hdCk7XG4gICAgICBiZWFyZDUuYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlVHJhbnNsYXRpb24oNSwgLTUsIDQpKTtcbiAgICAgIGJlYXJkNS51cGRhdGVNYXRyaXgoKTtcbiAgICAgIGJlYXJkR2VvbU1lcmdlZC5tZXJnZShiZWFyZDUuZ2VvbWV0cnksIGJlYXJkNS5tYXRyaXgpO1xuXG4gICAgICB2YXIgYmVhcmQzR2VvbSA9IG5ldyBUSFJFRS5Cb3hHZW9tZXRyeSgyLjUsIDE0LCAxMCk7XG4gICAgICBiZWFyZDNHZW9tLnZlcnRpY2VzWzJdLnogLT0gMjtcbiAgICAgIGJlYXJkM0dlb20udmVydGljZXNbN10ueiAtPSAyO1xuXG4gICAgICB2YXIgYmVhcmQ2ID0gbmV3IFRIUkVFLk1lc2goYmVhcmQzR2VvbSwgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19vYmplY3RzX01hdGVyaWFsc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLndoaXRlTWF0KTtcbiAgICAgIGJlYXJkNi5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VUcmFuc2xhdGlvbigyLjUsIC02LCA2KSk7XG4gICAgICBiZWFyZDYudXBkYXRlTWF0cml4KCk7XG4gICAgICBiZWFyZEdlb21NZXJnZWQubWVyZ2UoYmVhcmQ2Lmdlb21ldHJ5LCBiZWFyZDYubWF0cml4KTtcblxuICAgICAgdmFyIGJlYXJkNyA9IGJlYXJkNS5jbG9uZSgpO1xuICAgICAgYmVhcmQ3LnBvc2l0aW9uLnggPSAtYmVhcmQ1LnBvc2l0aW9uLng7XG4gICAgICBiZWFyZDcudXBkYXRlTWF0cml4KCk7XG4gICAgICBiZWFyZEdlb21NZXJnZWQubWVyZ2UoYmVhcmQ3Lmdlb21ldHJ5LCBiZWFyZDcubWF0cml4KTtcblxuICAgICAgdmFyIGJlYXJkOCA9IGJlYXJkNi5jbG9uZSgpO1xuICAgICAgYmVhcmQ4LnBvc2l0aW9uLnggPSAtYmVhcmQ2LnBvc2l0aW9uLng7XG4gICAgICBiZWFyZDgudXBkYXRlTWF0cml4KCk7XG4gICAgICBiZWFyZEdlb21NZXJnZWQubWVyZ2UoYmVhcmQ4Lmdlb21ldHJ5LCBiZWFyZDgubWF0cml4KTtcblxuICAgICAgdmFyIGJlYXJkNEdlb20gPSBuZXcgVEhSRUUuQm94R2VvbWV0cnkoMi41LCAxNC41LCAxMCk7XG4gICAgICBiZWFyZDRHZW9tLnZlcnRpY2VzWzJdLnogLT0gMTtcbiAgICAgIGJlYXJkNEdlb20udmVydGljZXNbN10ueiAtPSAxO1xuXG4gICAgICB2YXIgYmVhcmQ5ID0gbmV3IFRIUkVFLk1lc2goYmVhcmQ0R2VvbSwgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19vYmplY3RzX01hdGVyaWFsc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLndoaXRlTWF0KTtcbiAgICAgIGJlYXJkOS5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VUcmFuc2xhdGlvbigwLCAtNywgNS43NSkpO1xuICAgICAgYmVhcmQ5LnVwZGF0ZU1hdHJpeCgpO1xuICAgICAgYmVhcmRHZW9tTWVyZ2VkLm1lcmdlKGJlYXJkOS5nZW9tZXRyeSwgYmVhcmQ5Lm1hdHJpeCk7XG5cbiAgICAgIHZhciBiZWFyZDVHZW9tID0gbmV3IFRIUkVFLkJveEdlb21ldHJ5KDQsIDgsIDgpO1xuICAgICAgdmFyIGJlYXJkMTAgPSBuZXcgVEhSRUUuTWVzaChiZWFyZDVHZW9tLCBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX29iamVjdHNfTWF0ZXJpYWxzX19bXCJhXCIgLyogZGVmYXVsdCAqL10ud2hpdGVNYXQpO1xuICAgICAgYmVhcmQxMC5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VUcmFuc2xhdGlvbigtNiwgLTEsIC0yKSk7XG4gICAgICBiZWFyZDEwLnVwZGF0ZU1hdHJpeCgpO1xuICAgICAgYmVhcmRHZW9tTWVyZ2VkLm1lcmdlKGJlYXJkMTAuZ2VvbWV0cnksIGJlYXJkMTAubWF0cml4KTtcblxuICAgICAgdmFyIGJlYXJkMTEgPSBuZXcgVEhSRUUuTWVzaChiZWFyZDVHZW9tLCBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX29iamVjdHNfTWF0ZXJpYWxzX19bXCJhXCIgLyogZGVmYXVsdCAqL10ud2hpdGVNYXQpO1xuICAgICAgYmVhcmQxMS5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VUcmFuc2xhdGlvbigwLCAtNSwgLTIpKTtcbiAgICAgIGJlYXJkMTEudXBkYXRlTWF0cml4KCk7XG4gICAgICBiZWFyZEdlb21NZXJnZWQubWVyZ2UoYmVhcmQxMS5nZW9tZXRyeSwgYmVhcmQxMS5tYXRyaXgpO1xuXG4gICAgICB2YXIgYmVhcmRNZXJnZWQgPSBuZXcgVEhSRUUuTWVzaChiZWFyZEdlb21NZXJnZWQsIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fb2JqZWN0c19NYXRlcmlhbHNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS53aGl0ZU1hdCk7XG4gICAgICBiZWFyZE1lcmdlZC5jYXN0U2hhZG93ID0gdHJ1ZTtcbiAgICAgIGJlYXJkTWVyZ2VkLnJlY2VpdmVTaGFkb3cgPSB0cnVlO1xuXG4gICAgICB2YXIgbW91dGhHZW9tID0gbmV3IFRIUkVFLkJveEdlb21ldHJ5KDEwLCA0LCAxKTtcbiAgICAgIHZhciBtb3V0aCA9IG5ldyBUSFJFRS5NZXNoKG1vdXRoR2VvbSwgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19vYmplY3RzX01hdGVyaWFsc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLmJsYWNrTWF0KTtcbiAgICAgIG1vdXRoLnBvc2l0aW9uLnNldCgwLCAyLCA4KTtcbiAgICAgIG1vdXRoLmNhc3RTaGFkb3cgPSBmYWxzZTtcbiAgICAgIG1vdXRoLnJlY2VpdmVTaGFkb3cgPSB0cnVlO1xuXG4gICAgICB2YXIgdGVldGhHZW9tID0gbmV3IFRIUkVFLkJveEdlb21ldHJ5KDEwLCAxLCAxKTtcbiAgICAgIHZhciB0ZWV0aCA9IG5ldyBUSFJFRS5NZXNoKHRlZXRoR2VvbSwgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19vYmplY3RzX01hdGVyaWFsc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLnRlZXRoTWF0KTtcbiAgICAgIHRlZXRoLnBvc2l0aW9uLnNldCgwLCAwLjUsIDAuMSk7XG4gICAgICB0ZWV0aC5jYXN0U2hhZG93ID0gZmFsc2U7XG4gICAgICB0ZWV0aC5yZWNlaXZlU2hhZG93ID0gdHJ1ZTtcbiAgICAgIG1vdXRoLmFkZCh0ZWV0aCk7XG5cbiAgICAgIHRoaXMuYmVhcmQuYWRkKGJlYXJkTWVyZ2VkLCBtb3V0aCk7XG5cbiAgICAgIHZhciBtb3VzdGFjaGVHZW9tID0gbmV3IFRIUkVFLkJveEdlb21ldHJ5KDE0LCAzLCAzLCAzKTtcbiAgICAgIG1vdXN0YWNoZUdlb20udmVydGljZXNbMF0ueSAtPSAyO1xuICAgICAgbW91c3RhY2hlR2VvbS52ZXJ0aWNlc1sxXS55IC09IDI7XG4gICAgICBtb3VzdGFjaGVHZW9tLnZlcnRpY2VzWzJdLnkgLT0gMjtcbiAgICAgIG1vdXN0YWNoZUdlb20udmVydGljZXNbM10ueSAtPSAyO1xuICAgICAgbW91c3RhY2hlR2VvbS52ZXJ0aWNlc1s0XS55IC09IDI7XG4gICAgICBtb3VzdGFjaGVHZW9tLnZlcnRpY2VzWzVdLnkgLT0gMjtcbiAgICAgIG1vdXN0YWNoZUdlb20udmVydGljZXNbNl0ueSAtPSAyO1xuICAgICAgbW91c3RhY2hlR2VvbS52ZXJ0aWNlc1s3XS55IC09IDI7XG4gICAgICBtb3VzdGFjaGVHZW9tLnZlcnRpY2VzWzhdLnggLT0gMTtcbiAgICAgIG1vdXN0YWNoZUdlb20udmVydGljZXNbOV0ueCArPSAxO1xuXG4gICAgICBtb3VzdGFjaGVHZW9tLmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVRyYW5zbGF0aW9uKDAsIDQsIDApKTtcbiAgICAgIHRoaXMubW91c3RhY2hlID0gbmV3IFRIUkVFLk1lc2gobW91c3RhY2hlR2VvbSwgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19vYmplY3RzX01hdGVyaWFsc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLndoaXRlTWF0KTtcbiAgICAgIHRoaXMubW91c3RhY2hlLmNhc3RTaGFkb3cgPSB0cnVlO1xuICAgICAgdGhpcy5tb3VzdGFjaGUucmVjZWl2ZVNoYWRvdyA9IHRydWU7XG5cbiAgICAgIHRoaXMubW91c3RhY2hlLnBvc2l0aW9uLnNldCgwLCAwLCA5KTtcbiAgICAgIHRoaXMuYmVhcmQuYWRkKHRoaXMubW91c3RhY2hlKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdHbGFzc2VzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gR2xhc3NlcygpIHtcblxuICAgICAgdGhpcy5nbGFzc2VzID0gbmV3IFRIUkVFLk9iamVjdDNEKCk7XG4gICAgICB0aGlzLmdsYXNzZXMucG9zaXRpb24uc2V0KDAsIDAsIDkpO1xuICAgICAgdGhpcy5oZWFkLmFkZCh0aGlzLmdsYXNzZXMpO1xuICAgICAgdmFyIGdsYXNzZXNNYXQgPSBuZXcgVEhSRUUuTWVzaFBob25nTWF0ZXJpYWwoeyBjb2xvcjogX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19vYmplY3RzX2NvbG9yc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLmdsYXNzZXMsIGZsYXRTaGFkaW5nOiB0cnVlIH0pO1xuXG4gICAgICB2YXIgZnJhbWVHZW9tTWVyZ2VkID0gbmV3IFRIUkVFLkdlb21ldHJ5KCk7XG5cbiAgICAgIHZhciBmcmFtZU91dGVyR2VvbSA9IG5ldyBUSFJFRS5DeWxpbmRlckdlb21ldHJ5KDMsIDMsIDAuNSwgMzIpO1xuICAgICAgdmFyIGZyYW1lSW5uZXJHZW9tID0gbmV3IFRIUkVFLkN5bGluZGVyR2VvbWV0cnkoMi43LCAyLjcsIDAuNSwgMzIpO1xuXG4gICAgICBmcmFtZU91dGVyR2VvbS5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VSb3RhdGlvblgoLU1hdGguUEkgLyAyKSk7XG4gICAgICBmcmFtZUlubmVyR2VvbS5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VSb3RhdGlvblgoLU1hdGguUEkgLyAyKSk7XG5cbiAgICAgIHZhciBmcmFtZUJTUCA9IG5ldyBUaHJlZUJTUChmcmFtZU91dGVyR2VvbSk7XG4gICAgICB2YXIgZnJhbWVDdXRCU1AgPSBuZXcgVGhyZWVCU1AoZnJhbWVJbm5lckdlb20pO1xuXG4gICAgICB2YXIgZnJhbWVpbnRlcnNlY3Rpb25CU1AgPSBmcmFtZUJTUC5zdWJ0cmFjdChmcmFtZUN1dEJTUCk7XG4gICAgICB2YXIgZnJhbWVMZWZ0ID0gZnJhbWVpbnRlcnNlY3Rpb25CU1AudG9NZXNoKGdsYXNzZXNNYXQpO1xuXG4gICAgICBmcmFtZUxlZnQuYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlVHJhbnNsYXRpb24oNCwgMywgMCkpO1xuICAgICAgZnJhbWVMZWZ0LnVwZGF0ZU1hdHJpeCgpO1xuICAgICAgZnJhbWVHZW9tTWVyZ2VkLm1lcmdlKGZyYW1lTGVmdC5nZW9tZXRyeSwgZnJhbWVMZWZ0Lm1hdHJpeCk7XG5cbiAgICAgIHZhciBmcmFtZVJpZ2h0ID0gZnJhbWVMZWZ0LmNsb25lKCk7XG4gICAgICBmcmFtZVJpZ2h0LmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVJvdGF0aW9uWihNYXRoLlBJIC8gMzApKTtcbiAgICAgIGZyYW1lUmlnaHQuYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlVHJhbnNsYXRpb24oLTcuNSwgLTAuMjUsIDApKTtcbiAgICAgIGZyYW1lUmlnaHQudXBkYXRlTWF0cml4KCk7XG4gICAgICBmcmFtZUdlb21NZXJnZWQubWVyZ2UoZnJhbWVSaWdodC5nZW9tZXRyeSwgZnJhbWVSaWdodC5tYXRyaXgpO1xuXG4gICAgICB2YXIgZnJhbWVNaWRHZW9tID0gbmV3IFRIUkVFLkJveEdlb21ldHJ5KDIsIC4zLCAuNSk7XG4gICAgICB2YXIgZnJhbWVNaWQgPSBuZXcgVEhSRUUuTWVzaChmcmFtZU1pZEdlb20sIGdsYXNzZXNNYXQpO1xuICAgICAgZnJhbWVNaWQuYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlVHJhbnNsYXRpb24oMCwgMy4zLCAtMC4zKSk7XG4gICAgICBmcmFtZU1pZC51cGRhdGVNYXRyaXgoKTtcbiAgICAgIGZyYW1lR2VvbU1lcmdlZC5tZXJnZShmcmFtZU1pZC5nZW9tZXRyeSwgZnJhbWVNaWQubWF0cml4KTtcblxuICAgICAgdmFyIGZyYW1lRW5kR2VvbSA9IG5ldyBUSFJFRS5Cb3hHZW9tZXRyeSgxLjUsIC41LCAxKTtcbiAgICAgIHZhciBmcmFtZUVuZFJpZ2h0ID0gbmV3IFRIUkVFLk1lc2goZnJhbWVFbmRHZW9tLCBnbGFzc2VzTWF0KTtcbiAgICAgIGZyYW1lRW5kUmlnaHQuYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlVHJhbnNsYXRpb24oNy41LCAzLCAwKSk7XG4gICAgICBmcmFtZUVuZFJpZ2h0LnVwZGF0ZU1hdHJpeCgpO1xuICAgICAgZnJhbWVHZW9tTWVyZ2VkLm1lcmdlKGZyYW1lRW5kUmlnaHQuZ2VvbWV0cnksIGZyYW1lRW5kUmlnaHQubWF0cml4KTtcblxuICAgICAgdmFyIGZyYW1lRW5kTGVmdCA9IGZyYW1lRW5kUmlnaHQuY2xvbmUoKTtcbiAgICAgIGZyYW1lRW5kTGVmdC5wb3NpdGlvbi54ID0gLWZyYW1lRW5kUmlnaHQucG9zaXRpb24ueDtcbiAgICAgIGZyYW1lRW5kTGVmdC51cGRhdGVNYXRyaXgoKTtcbiAgICAgIGZyYW1lR2VvbU1lcmdlZC5tZXJnZShmcmFtZUVuZExlZnQuZ2VvbWV0cnksIGZyYW1lRW5kTGVmdC5tYXRyaXgpO1xuXG4gICAgICB2YXIgZnJhbWVTcG9rZUdlb20gPSBuZXcgVEhSRUUuQm94R2VvbWV0cnkoMSwgMC41LCAxMik7XG4gICAgICB2YXIgZnJhbWVTcG9rZVJpZ2h0ID0gbmV3IFRIUkVFLk1lc2goZnJhbWVTcG9rZUdlb20sIGdsYXNzZXNNYXQpO1xuICAgICAgZnJhbWVTcG9rZVJpZ2h0LmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVRyYW5zbGF0aW9uKDgsIDMsIC01LjUpKTtcbiAgICAgIGZyYW1lU3Bva2VSaWdodC51cGRhdGVNYXRyaXgoKTtcbiAgICAgIGZyYW1lR2VvbU1lcmdlZC5tZXJnZShmcmFtZVNwb2tlUmlnaHQuZ2VvbWV0cnksIGZyYW1lU3Bva2VSaWdodC5tYXRyaXgpO1xuXG4gICAgICB2YXIgZnJhbWVTcG9rZUxlZnQgPSBmcmFtZVNwb2tlUmlnaHQuY2xvbmUoKTtcbiAgICAgIGZyYW1lU3Bva2VMZWZ0LnBvc2l0aW9uLnggPSAtZnJhbWVTcG9rZVJpZ2h0LnBvc2l0aW9uLng7XG4gICAgICBmcmFtZVNwb2tlTGVmdC51cGRhdGVNYXRyaXgoKTtcbiAgICAgIGZyYW1lR2VvbU1lcmdlZC5tZXJnZShmcmFtZVNwb2tlTGVmdC5nZW9tZXRyeSwgZnJhbWVTcG9rZUxlZnQubWF0cml4KTtcblxuICAgICAgdmFyIGZyYW1lTWVyZ2VkID0gbmV3IFRIUkVFLk1lc2goZnJhbWVHZW9tTWVyZ2VkLCBnbGFzc2VzTWF0KTtcbiAgICAgIGZyYW1lTWVyZ2VkLmNhc3RTaGFkb3cgPSBmYWxzZTtcbiAgICAgIGZyYW1lTWVyZ2VkLnJlY2VpdmVTaGFkb3cgPSB0cnVlO1xuXG4gICAgICB0aGlzLmdsYXNzZXMuYWRkKGZyYW1lTWVyZ2VkKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdIYWlyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gSGFpcigpIHtcblxuICAgICAgdGhpcy5oYWlyID0gbmV3IFRIUkVFLk9iamVjdDNEKCk7XG4gICAgICB0aGlzLmhhaXIucG9zaXRpb24uc2V0KDAsIDksIDApO1xuICAgICAgdGhpcy5oZWFkLmFkZCh0aGlzLmhhaXIpO1xuXG4gICAgICB2YXIgaGFpckdlb21NZXJnZWQgPSBuZXcgVEhSRUUuR2VvbWV0cnkoKTtcblxuICAgICAgdmFyIGhhaXJGbGF0R2VvbSA9IG5ldyBUSFJFRS5Cb3hHZW9tZXRyeSgxMCwgMiwgMTgpO1xuXG4gICAgICB2YXIgaGFpcjEgPSBuZXcgVEhSRUUuTWVzaChoYWlyRmxhdEdlb20sIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fb2JqZWN0c19NYXRlcmlhbHNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS53aGl0ZU1hdCk7XG4gICAgICBoYWlyMS5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VSb3RhdGlvblooLU1hdGguUEkgLyA0MCkpO1xuICAgICAgaGFpcjEuYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlVHJhbnNsYXRpb24oLTQsIC0wLjUsIDApKTtcbiAgICAgIGhhaXIxLnVwZGF0ZU1hdHJpeCgpO1xuICAgICAgaGFpckdlb21NZXJnZWQubWVyZ2UoaGFpcjEuZ2VvbWV0cnksIGhhaXIxLm1hdHJpeCk7XG5cbiAgICAgIHZhciBoYWlyMiA9IG5ldyBUSFJFRS5NZXNoKGhhaXJGbGF0R2VvbSwgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19vYmplY3RzX01hdGVyaWFsc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLndoaXRlTWF0KTtcbiAgICAgIGhhaXIyLmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVJvdGF0aW9uWigtTWF0aC5QSSAvIDEwKSk7XG4gICAgICBoYWlyMi5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VUcmFuc2xhdGlvbigtMiwgMSwgMCkpO1xuICAgICAgaGFpcjIudXBkYXRlTWF0cml4KCk7XG4gICAgICBoYWlyR2VvbU1lcmdlZC5tZXJnZShoYWlyMi5nZW9tZXRyeSwgaGFpcjIubWF0cml4KTtcblxuICAgICAgdmFyIGhhaXIzID0gbmV3IFRIUkVFLk1lc2goaGFpckZsYXRHZW9tLCBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX29iamVjdHNfTWF0ZXJpYWxzX19bXCJhXCIgLyogZGVmYXVsdCAqL10ud2hpdGVNYXQpO1xuICAgICAgaGFpcjMuYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlUm90YXRpb25aKC1NYXRoLlBJIC8gNSkpO1xuICAgICAgaGFpcjMuYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlVHJhbnNsYXRpb24oMiwgMSwgMCkpO1xuICAgICAgaGFpcjMudXBkYXRlTWF0cml4KCk7XG4gICAgICBoYWlyR2VvbU1lcmdlZC5tZXJnZShoYWlyMy5nZW9tZXRyeSwgaGFpcjMubWF0cml4KTtcblxuICAgICAgdmFyIGhhaXI0ID0gbmV3IFRIUkVFLk1lc2goaGFpckZsYXRHZW9tLCBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX29iamVjdHNfTWF0ZXJpYWxzX19bXCJhXCIgLyogZGVmYXVsdCAqL10ud2hpdGVNYXQpO1xuICAgICAgaGFpcjQuYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlUm90YXRpb25aKC1NYXRoLlBJIC8gNCkpO1xuICAgICAgaGFpcjQuYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlVHJhbnNsYXRpb24oNiwgMCwgMCkpO1xuICAgICAgaGFpcjQudXBkYXRlTWF0cml4KCk7XG4gICAgICBoYWlyR2VvbU1lcmdlZC5tZXJnZShoYWlyNC5nZW9tZXRyeSwgaGFpcjQubWF0cml4KTtcblxuICAgICAgdmFyIGhhaXI2ID0gbmV3IFRIUkVFLk1lc2goaGFpckZsYXRHZW9tLCBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX29iamVjdHNfTWF0ZXJpYWxzX19bXCJhXCIgLyogZGVmYXVsdCAqL10ud2hpdGVNYXQpO1xuICAgICAgaGFpcjYuYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlUm90YXRpb25aKC1NYXRoLlBJIC8gLTMpKTtcbiAgICAgIGhhaXI2LmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVRyYW5zbGF0aW9uKC03Ljc1LCAtLjUsIDApKTtcbiAgICAgIGhhaXI2LnVwZGF0ZU1hdHJpeCgpO1xuICAgICAgaGFpckdlb21NZXJnZWQubWVyZ2UoaGFpcjYuZ2VvbWV0cnksIGhhaXI2Lm1hdHJpeCk7XG5cbiAgICAgIHZhciBoYWlyRmxhdEJhY2tHZW9tID0gbmV3IFRIUkVFLkJveEdlb21ldHJ5KDE4LCA3LCA2KTtcbiAgICAgIGhhaXJGbGF0QmFja0dlb20udmVydGljZXNbMF0ueCAtPSAxO1xuICAgICAgaGFpckZsYXRCYWNrR2VvbS52ZXJ0aWNlc1sxXS54IC09IDE7XG4gICAgICBoYWlyRmxhdEJhY2tHZW9tLnZlcnRpY2VzWzRdLnggKz0gMTtcbiAgICAgIGhhaXJGbGF0QmFja0dlb20udmVydGljZXNbNV0ueCArPSAxO1xuXG4gICAgICB2YXIgaGFpcjUgPSBuZXcgVEhSRUUuTWVzaChoYWlyRmxhdEJhY2tHZW9tLCBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX29iamVjdHNfTWF0ZXJpYWxzX19bXCJhXCIgLyogZGVmYXVsdCAqL10ud2hpdGVNYXQpO1xuICAgICAgaGFpcjUuYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlVHJhbnNsYXRpb24oMCwgLTQuNSwgLTYpKTtcbiAgICAgIGhhaXI1LnVwZGF0ZU1hdHJpeCgpO1xuICAgICAgaGFpckdlb21NZXJnZWQubWVyZ2UoaGFpcjUuZ2VvbWV0cnksIGhhaXI1Lm1hdHJpeCk7XG5cbiAgICAgIHZhciBoYWlyTWVyZ2VkID0gbmV3IFRIUkVFLk1lc2goaGFpckdlb21NZXJnZWQsIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fb2JqZWN0c19NYXRlcmlhbHNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS53aGl0ZU1hdCk7XG4gICAgICBoYWlyTWVyZ2VkLmNhc3RTaGFkb3cgPSBmYWxzZTtcbiAgICAgIGhhaXJNZXJnZWQucmVjZWl2ZVNoYWRvdyA9IHRydWU7XG5cbiAgICAgIHRoaXMuaGFpci5hZGQoaGFpck1lcmdlZCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnRXllcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIEV5ZXMoKSB7XG5cbiAgICAgIHRoaXMuZXllcyA9IG5ldyBUSFJFRS5PYmplY3QzRCgpO1xuICAgICAgdGhpcy5leWVzLnBvc2l0aW9uLnNldCgwLCAzLCA5KTtcbiAgICAgIHRoaXMuaGVhZC5hZGQodGhpcy5leWVzKTtcblxuICAgICAgdmFyIGV5ZVdoaXRlR2VvbSA9IG5ldyBUSFJFRS5QbGFuZUdlb21ldHJ5KDIuNSwgMi41KTtcblxuICAgICAgdmFyIGV5ZVdoaXRlUmlnaHQgPSBuZXcgVEhSRUUuTWVzaChleWVXaGl0ZUdlb20sIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fb2JqZWN0c19NYXRlcmlhbHNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS53aGl0ZU1hdCk7XG4gICAgICBleWVXaGl0ZVJpZ2h0LnBvc2l0aW9uLnNldCgtMy43NSwgMCwgMCk7XG4gICAgICBleWVXaGl0ZVJpZ2h0LmNhc3RTaGFkb3cgPSBmYWxzZTtcbiAgICAgIGV5ZVdoaXRlUmlnaHQucmVjZWl2ZVNoYWRvdyA9IGZhbHNlO1xuXG4gICAgICB2YXIgZXllQmx1ZUdlb20gPSBuZXcgVEhSRUUuUGxhbmVHZW9tZXRyeSgxLjUsIDEuNSk7XG5cbiAgICAgIHZhciBleWVNYXQgPSBuZXcgVEhSRUUuTWVzaFBob25nTWF0ZXJpYWwoeyBjb2xvcjogX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19vYmplY3RzX2NvbG9yc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLmV5ZSwgZmxhdFNoYWRpbmc6IHRydWUgfSk7XG5cbiAgICAgIHRoaXMuZXllQmx1ZVJpZ2h0ID0gbmV3IFRIUkVFLk1lc2goZXllQmx1ZUdlb20sIGV5ZU1hdCk7XG4gICAgICB0aGlzLmV5ZUJsdWVSaWdodC5wb3NpdGlvbi5zZXQoMCwgMCwgLjAxKTtcbiAgICAgIHRoaXMuZXllQmx1ZVJpZ2h0LmNhc3RTaGFkb3cgPSBmYWxzZTtcbiAgICAgIHRoaXMuZXllQmx1ZVJpZ2h0LnJlY2VpdmVTaGFkb3cgPSBmYWxzZTtcblxuICAgICAgZXllV2hpdGVSaWdodC5hZGQodGhpcy5leWVCbHVlUmlnaHQpO1xuXG4gICAgICB2YXIgZXllUHVwaWxHZW9tID0gbmV3IFRIUkVFLlBsYW5lR2VvbWV0cnkoMSwgMSk7XG5cbiAgICAgIHRoaXMuZXllUHVwaWxSaWdodCA9IG5ldyBUSFJFRS5NZXNoKGV5ZVB1cGlsR2VvbSwgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19vYmplY3RzX01hdGVyaWFsc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLmJsYWNrTWF0KTtcbiAgICAgIHRoaXMuZXllUHVwaWxSaWdodC5wb3NpdGlvbi5zZXQoMCwgMCwgLjAyKTtcbiAgICAgIHRoaXMuZXllUHVwaWxSaWdodC5jYXN0U2hhZG93ID0gZmFsc2U7XG4gICAgICB0aGlzLmV5ZVB1cGlsUmlnaHQucmVjZWl2ZVNoYWRvdyA9IGZhbHNlO1xuXG4gICAgICB0aGlzLmV5ZUJsdWVSaWdodC5hZGQodGhpcy5leWVQdXBpbFJpZ2h0KTtcblxuICAgICAgdmFyIGV5ZVdoaXRlTGVmdCA9IG5ldyBUSFJFRS5NZXNoKGV5ZVdoaXRlR2VvbSwgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19vYmplY3RzX01hdGVyaWFsc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLndoaXRlTWF0KTtcbiAgICAgIGV5ZVdoaXRlTGVmdC5wb3NpdGlvbi5zZXQoMy43NSwgMCwgMCk7XG4gICAgICBleWVXaGl0ZUxlZnQuY2FzdFNoYWRvdyA9IGZhbHNlO1xuICAgICAgZXllV2hpdGVMZWZ0LnJlY2VpdmVTaGFkb3cgPSBmYWxzZTtcblxuICAgICAgdGhpcy5leWVCbHVlTGVmdCA9IG5ldyBUSFJFRS5NZXNoKGV5ZUJsdWVHZW9tLCBleWVNYXQpO1xuICAgICAgdGhpcy5leWVCbHVlTGVmdC5wb3NpdGlvbi5zZXQoMCwgMCwgLjAxKTtcbiAgICAgIHRoaXMuZXllQmx1ZUxlZnQuY2FzdFNoYWRvdyA9IGZhbHNlO1xuICAgICAgdGhpcy5leWVCbHVlTGVmdC5yZWNlaXZlU2hhZG93ID0gZmFsc2U7XG5cbiAgICAgIGV5ZVdoaXRlTGVmdC5hZGQodGhpcy5leWVCbHVlTGVmdCk7XG5cbiAgICAgIHRoaXMuZXllUHVwaWxMZWZ0ID0gbmV3IFRIUkVFLk1lc2goZXllUHVwaWxHZW9tLCBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX29iamVjdHNfTWF0ZXJpYWxzX19bXCJhXCIgLyogZGVmYXVsdCAqL10uYmxhY2tNYXQpO1xuICAgICAgdGhpcy5leWVQdXBpbExlZnQucG9zaXRpb24uc2V0KDAsIDAsIC4wMik7XG4gICAgICB0aGlzLmV5ZVB1cGlsTGVmdC5jYXN0U2hhZG93ID0gZmFsc2U7XG4gICAgICB0aGlzLmV5ZVB1cGlsTGVmdC5yZWNlaXZlU2hhZG93ID0gZmFsc2U7XG5cbiAgICAgIHRoaXMuZXllQmx1ZUxlZnQuYWRkKHRoaXMuZXllUHVwaWxMZWZ0KTtcblxuICAgICAgdGhpcy5leWVzLmFkZChleWVXaGl0ZVJpZ2h0LCBleWVXaGl0ZUxlZnQpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ0V5ZUJyb3dzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gRXllQnJvd3MoKSB7XG4gICAgICB0aGlzLmV5ZUJyb3dzID0gbmV3IFRIUkVFLk9iamVjdDNEKCk7XG4gICAgICB0aGlzLmV5ZUJyb3dzLnBvc2l0aW9uLnNldCgwLCA2LCA4KTtcbiAgICAgIHRoaXMuaGVhZC5hZGQodGhpcy5leWVCcm93cyk7XG5cbiAgICAgIHZhciBleWVCcm93R2VvbSA9IG5ldyBUSFJFRS5Cb3hHZW9tZXRyeSg0LCAxLCAxKTtcblxuICAgICAgdGhpcy5leWVCcm93UmlnaHQgPSBuZXcgVEhSRUUuTWVzaChleWVCcm93R2VvbSwgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19vYmplY3RzX01hdGVyaWFsc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLndoaXRlTWF0KTtcbiAgICAgIHRoaXMuZXllQnJvd1JpZ2h0LmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVJvdGF0aW9uWihNYXRoLlBJIC8gNDUpKTtcbiAgICAgIHRoaXMuZXllQnJvd1JpZ2h0LnBvc2l0aW9uLnNldCgtMy43NSwgMCwgMCk7XG4gICAgICB0aGlzLmV5ZUJyb3dSaWdodC5jYXN0U2hhZG93ID0gZmFsc2U7XG4gICAgICB0aGlzLmV5ZUJyb3dSaWdodC5yZWNlaXZlU2hhZG93ID0gZmFsc2U7XG5cbiAgICAgIHRoaXMuZXllQnJvd0xlZnQgPSBuZXcgVEhSRUUuTWVzaChleWVCcm93R2VvbSwgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19vYmplY3RzX01hdGVyaWFsc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLndoaXRlTWF0KTtcbiAgICAgIHRoaXMuZXllQnJvd0xlZnQuYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlUm90YXRpb25aKC1NYXRoLlBJIC8gNDUpKTtcbiAgICAgIHRoaXMuZXllQnJvd0xlZnQucG9zaXRpb24uc2V0KDMuNzUsIDAsIDApO1xuICAgICAgdGhpcy5leWVCcm93TGVmdC5jYXN0U2hhZG93ID0gZmFsc2U7XG4gICAgICB0aGlzLmV5ZUJyb3dMZWZ0LnJlY2VpdmVTaGFkb3cgPSBmYWxzZTtcblxuICAgICAgdGhpcy5leWVCcm93cy5hZGQodGhpcy5leWVCcm93UmlnaHQsIHRoaXMuZXllQnJvd0xlZnQpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ0hhdCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIEhhdCgpIHtcbiAgICAgIHRoaXMuaGF0ID0gbmV3IFRIUkVFLk9iamVjdDNEKCk7XG4gICAgICB0aGlzLmhhdC5wb3NpdGlvbi5zZXQoLTAuMiwgMTEsIDIuNCk7XG4gICAgICB0aGlzLmhlYWQuYWRkKHRoaXMuaGF0KTtcblxuICAgICAgdmFyIGhhdE1hdCA9IG5ldyBUSFJFRS5NZXNoUGhvbmdNYXRlcmlhbCh7IGNvbG9yOiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX29iamVjdHNfY29sb3JzX19bXCJhXCIgLyogZGVmYXVsdCAqL10uaGF0LCBmbGF0U2hhZGluZzogdHJ1ZSB9KTtcblxuICAgICAgdmFyIGJhbmRHZW9tID0gbmV3IFRIUkVFLlRvcnVzR2VvbWV0cnkoOSwgMiwgMTYsIDEwMCk7XG4gICAgICB2YXIgYmlnQ29uZUdlb20gPSBuZXcgVEhSRUUuQ3lsaW5kZXJHZW9tZXRyeSgxLCAxMSwgMTIsIDE1KTtcbiAgICAgIHZhciBzbWFsbENvbmVHZW9tID0gbmV3IFRIUkVFLkN5bGluZGVyR2VvbWV0cnkoMC44LCAzLCA5LCAzMik7XG4gICAgICB2YXIgaGF0RGluZ2xlR2VvbSA9IG5ldyBUSFJFRS5TcGhlcmVHZW9tZXRyeSgxLjUsIDgsIDgpO1xuXG4gICAgICB0aGlzLmJhbmQgPSBuZXcgVEhSRUUuTWVzaChiYW5kR2VvbSwgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19vYmplY3RzX01hdGVyaWFsc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLnRlZXRoTWF0KTtcbiAgICAgIHRoaXMuYmFuZC5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VSb3RhdGlvblgoTWF0aC5QSSAvIDIpKTtcbiAgICAgIHRoaXMuYmFuZC5wb3NpdGlvbi5zZXQoMCwgMCwgMCk7XG4gICAgICB0aGlzLmJhbmQuY2FzdFNoYWRvdyA9IGZhbHNlO1xuICAgICAgdGhpcy5iYW5kLnJlY2VpdmVTaGFkb3cgPSBmYWxzZTtcblxuICAgICAgdGhpcy5iaWdDb25lID0gbmV3IFRIUkVFLk1lc2goYmlnQ29uZUdlb20sIGhhdE1hdCk7XG4gICAgICB0aGlzLmJpZ0NvbmUucG9zaXRpb24uc2V0KDAsIDYsIDApO1xuICAgICAgdGhpcy5iaWdDb25lLmNhc3RTaGFkb3cgPSBmYWxzZTtcbiAgICAgIHRoaXMuYmlnQ29uZS5yZWNlaXZlU2hhZG93ID0gZmFsc2U7XG5cbiAgICAgIHRoaXMuc21hbGxDb25lID0gbmV3IFRIUkVFLk1lc2goc21hbGxDb25lR2VvbSwgaGF0TWF0KTtcbiAgICAgIHRoaXMuc21hbGxDb25lLmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVJvdGF0aW9uWChNYXRoLlBJIC8gMikpO1xuICAgICAgdGhpcy5zbWFsbENvbmUuYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlUm90YXRpb25ZKE1hdGguUEkgLyAyKSk7XG4gICAgICB0aGlzLnNtYWxsQ29uZS5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VSb3RhdGlvblooTWF0aC5QSSAvIC04KSk7XG4gICAgICB0aGlzLnNtYWxsQ29uZS5wb3NpdGlvbi5zZXQoNCwgNy44LCAtMSk7XG4gICAgICB0aGlzLnNtYWxsQ29uZS5jYXN0U2hhZG93ID0gZmFsc2U7XG4gICAgICB0aGlzLnNtYWxsQ29uZS5yZWNlaXZlU2hhZG93ID0gZmFsc2U7XG5cbiAgICAgIHRoaXMuaGF0RGluZ2xlID0gbmV3IFRIUkVFLk1lc2goaGF0RGluZ2xlR2VvbSwgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19vYmplY3RzX01hdGVyaWFsc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLndoaXRlTWF0KTtcbiAgICAgIHRoaXMuaGF0RGluZ2xlLnBvc2l0aW9uLnNldCg5LCA1LjUsIC0xKTtcbiAgICAgIHRoaXMuaGF0RGluZ2xlLmNhc3RTaGFkb3cgPSBmYWxzZTtcbiAgICAgIHRoaXMuaGF0RGluZ2xlLnJlY2VpdmVTaGFkb3cgPSBmYWxzZTtcblxuICAgICAgdGhpcy5oYXQuYWRkKHRoaXMuYmFuZCwgdGhpcy5iaWdDb25lLCB0aGlzLnNtYWxsQ29uZSwgdGhpcy5oYXREaW5nbGUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ0ZyZWNrbGVzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gRnJlY2tsZXMoKSB7XG4gICAgICB0aGlzLmZyZWNrbGVzID0gbmV3IFRIUkVFLk9iamVjdDNEKCk7XG4gICAgICB0aGlzLmZyZWNrbGVzLnBvc2l0aW9uLnNldCgwLCAwLCA4KTtcbiAgICAgIHRoaXMuaGVhZC5hZGQodGhpcy5mcmVja2xlcyk7XG5cbiAgICAgIHZhciBmcmVja2xlc01hdCA9IG5ldyBUSFJFRS5NZXNoTGFtYmVydE1hdGVyaWFsKHsgY29sb3I6IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fb2JqZWN0c19jb2xvcnNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS5mcmVja2xlcywgZmxhdFNoYWRpbmc6IHRydWUgfSk7XG4gICAgICB2YXIgZnJlY2tsZXNHZW9tTWVyZ2VkID0gbmV3IFRIUkVFLkdlb21ldHJ5KCk7XG5cbiAgICAgIHZhciBmcmVja2xlc0dlb20gPSBuZXcgVEhSRUUuUGxhbmVHZW9tZXRyeSgwLjUsIDAuNSk7XG5cbiAgICAgIHZhciBmcmVja2xlMSA9IG5ldyBUSFJFRS5NZXNoKGZyZWNrbGVzR2VvbSwgZnJlY2tsZXNNYXQpO1xuICAgICAgZnJlY2tsZTEuYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlVHJhbnNsYXRpb24oLTUsIDAsIDAuMDEpKTtcbiAgICAgIGZyZWNrbGUxLnVwZGF0ZU1hdHJpeCgpO1xuICAgICAgZnJlY2tsZXNHZW9tTWVyZ2VkLm1lcmdlKGZyZWNrbGUxLmdlb21ldHJ5LCBmcmVja2xlMS5tYXRyaXgpO1xuXG4gICAgICB2YXIgZnJlY2tsZTIgPSBmcmVja2xlMS5jbG9uZSgpO1xuICAgICAgZnJlY2tsZTIuYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlVHJhbnNsYXRpb24oLTAuNSwgLTEsIDApKTtcbiAgICAgIGZyZWNrbGUyLnVwZGF0ZU1hdHJpeCgpO1xuICAgICAgZnJlY2tsZXNHZW9tTWVyZ2VkLm1lcmdlKGZyZWNrbGUyLmdlb21ldHJ5LCBmcmVja2xlMi5tYXRyaXgpO1xuXG4gICAgICB2YXIgZnJlY2tsZTMgPSBmcmVja2xlMS5jbG9uZSgpO1xuICAgICAgZnJlY2tsZTMuYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlVHJhbnNsYXRpb24oMSwgLTAuNSwgMCkpO1xuICAgICAgZnJlY2tsZTMudXBkYXRlTWF0cml4KCk7XG4gICAgICBmcmVja2xlc0dlb21NZXJnZWQubWVyZ2UoZnJlY2tsZTMuZ2VvbWV0cnksIGZyZWNrbGUzLm1hdHJpeCk7XG5cbiAgICAgIHZhciBmcmVja2xlNCA9IGZyZWNrbGUxLmNsb25lKCk7XG4gICAgICBmcmVja2xlNC5wb3NpdGlvbi54ID0gLWZyZWNrbGUxLnBvc2l0aW9uLng7XG4gICAgICBmcmVja2xlNC51cGRhdGVNYXRyaXgoKTtcbiAgICAgIGZyZWNrbGVzR2VvbU1lcmdlZC5tZXJnZShmcmVja2xlNC5nZW9tZXRyeSwgZnJlY2tsZTQubWF0cml4KTtcbiAgICAgIHZhciBmcmVja2xlNSA9IGZyZWNrbGUyLmNsb25lKCk7XG4gICAgICBmcmVja2xlNS5wb3NpdGlvbi54ID0gLWZyZWNrbGUyLnBvc2l0aW9uLng7XG4gICAgICBmcmVja2xlNS51cGRhdGVNYXRyaXgoKTtcbiAgICAgIGZyZWNrbGVzR2VvbU1lcmdlZC5tZXJnZShmcmVja2xlNS5nZW9tZXRyeSwgZnJlY2tsZTUubWF0cml4KTtcbiAgICAgIHZhciBmcmVja2xlNiA9IGZyZWNrbGUzLmNsb25lKCk7XG4gICAgICBmcmVja2xlNi5wb3NpdGlvbi54ID0gLWZyZWNrbGUzLnBvc2l0aW9uLng7XG4gICAgICBmcmVja2xlNi51cGRhdGVNYXRyaXgoKTtcbiAgICAgIGZyZWNrbGVzR2VvbU1lcmdlZC5tZXJnZShmcmVja2xlNi5nZW9tZXRyeSwgZnJlY2tsZTYubWF0cml4KTtcblxuICAgICAgdmFyIGZyZWNrbGVkTWVyZ2VkID0gbmV3IFRIUkVFLk1lc2goZnJlY2tsZXNHZW9tTWVyZ2VkLCBmcmVja2xlc01hdCk7XG4gICAgICBmcmVja2xlZE1lcmdlZC5jYXN0U2hhZG93ID0gZmFsc2U7XG4gICAgICBmcmVja2xlZE1lcmdlZC5yZWNlaXZlU2hhZG93ID0gZmFsc2U7XG5cbiAgICAgIHRoaXMuZnJlY2tsZXMuYWRkKGZyZWNrbGVkTWVyZ2VkKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdGZWF0dXJlcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIEZlYXR1cmVzKCkge1xuICAgICAgdmFyIGVhckdlb20gPSBuZXcgVEhSRUUuQm94QnVmZmVyR2VvbWV0cnkoMS41LCAzLCAxLjUpO1xuICAgICAgdmFyIHNraW5NYXQgPSBuZXcgVEhSRUUuTWVzaExhbWJlcnRNYXRlcmlhbCh7IGNvbG9yOiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX29iamVjdHNfY29sb3JzX19bXCJhXCIgLyogZGVmYXVsdCAqL10uc2tpbiwgZmxhdFNoYWRpbmc6IHRydWUgfSk7XG4gICAgICB2YXIgZWFyUmlnaHQgPSBuZXcgVEhSRUUuTWVzaChlYXJHZW9tLCBza2luTWF0KTtcbiAgICAgIGVhclJpZ2h0LnBvc2l0aW9uLnNldCgtOC41LCAxLCAzKTtcbiAgICAgIGVhclJpZ2h0LmNhc3RTaGFkb3cgPSBmYWxzZTtcbiAgICAgIGVhclJpZ2h0LnJlY2VpdmVTaGFkb3cgPSBmYWxzZTtcblxuICAgICAgdmFyIGVhckxlZnQgPSBuZXcgVEhSRUUuTWVzaChlYXJHZW9tLCBza2luTWF0KTtcbiAgICAgIGVhckxlZnQucG9zaXRpb24uc2V0KDguNSwgMSwgMyk7XG4gICAgICBlYXJMZWZ0LmNhc3RTaGFkb3cgPSBmYWxzZTtcbiAgICAgIGVhckxlZnQucmVjZWl2ZVNoYWRvdyA9IGZhbHNlO1xuXG4gICAgICB2YXIgbm9zZUdlb20gPSBuZXcgVEhSRUUuQ3lsaW5kZXJHZW9tZXRyeSgxLCAyLCA0LCA0KTtcbiAgICAgIHZhciBub3NlID0gbmV3IFRIUkVFLk1lc2gobm9zZUdlb20sIHNraW5NYXQpO1xuICAgICAgbm9zZS5zY2FsZS5zZXQoLjc1LCAxLCAxLjMpO1xuICAgICAgbm9zZS5wb3NpdGlvbi5zZXQoMCwgMSwgOCk7XG4gICAgICBub3NlLmNhc3RTaGFkb3cgPSBmYWxzZTtcbiAgICAgIG5vc2UucmVjZWl2ZVNoYWRvdyA9IGZhbHNlO1xuXG4gICAgICB0aGlzLmhlYWQuYWRkKGVhclJpZ2h0LCBlYXJMZWZ0LCBub3NlKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gSGVhZDtcbn0oKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IChIZWFkKTtcblxuLyoqKi8gfSksXG4vKiA0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fY29sb3JzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgTWF0ZXJpYWxzID0ge1xuICBcIndoaXRlTWF0XCI6IG5ldyBUSFJFRS5NZXNoTGFtYmVydE1hdGVyaWFsKHsgY29sb3I6IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fY29sb3JzX19bXCJhXCIgLyogZGVmYXVsdCAqL10ud2hpdGUsIGZsYXRTaGFkaW5nOiB0cnVlIH0pLFxuICBcInRlZXRoTWF0XCI6IG5ldyBUSFJFRS5NZXNoUGhvbmdNYXRlcmlhbCh7IGNvbG9yOiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2NvbG9yc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLnRlZXRoLCBmbGF0U2hhZGluZzogdHJ1ZSB9KSxcbiAgXCJibGFja01hdFwiOiBuZXcgVEhSRUUuTWVzaExhbWJlcnRNYXRlcmlhbCh7IGNvbG9yOiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2NvbG9yc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLmJsYWNrLCBmbGF0U2hhZGluZzogdHJ1ZSB9KSxcbiAgXCJub3JtYWxNYXRcIjogbmV3IFRIUkVFLk1lc2hOb3JtYWxNYXRlcmlhbCh7fSlcbn07XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSAoTWF0ZXJpYWxzKTtcblxuLyoqKi8gfSksXG4vKiA1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIHRoZSB3aGF0d2ctZmV0Y2ggcG9seWZpbGwgaW5zdGFsbHMgdGhlIGZldGNoKCkgZnVuY3Rpb25cbi8vIG9uIHRoZSBnbG9iYWwgb2JqZWN0ICh3aW5kb3cgb3Igc2VsZilcbi8vXG4vLyBSZXR1cm4gdGhhdCBhcyB0aGUgZXhwb3J0IGZvciB1c2UgaW4gV2VicGFjaywgQnJvd3NlcmlmeSBldGMuXG5fX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xubW9kdWxlLmV4cG9ydHMgPSBzZWxmLmZldGNoLmJpbmQoc2VsZik7XG5cblxuLyoqKi8gfSksXG4vKiA2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbihmdW5jdGlvbihzZWxmKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBpZiAoc2VsZi5mZXRjaCkge1xuICAgIHJldHVyblxuICB9XG5cbiAgdmFyIHN1cHBvcnQgPSB7XG4gICAgc2VhcmNoUGFyYW1zOiAnVVJMU2VhcmNoUGFyYW1zJyBpbiBzZWxmLFxuICAgIGl0ZXJhYmxlOiAnU3ltYm9sJyBpbiBzZWxmICYmICdpdGVyYXRvcicgaW4gU3ltYm9sLFxuICAgIGJsb2I6ICdGaWxlUmVhZGVyJyBpbiBzZWxmICYmICdCbG9iJyBpbiBzZWxmICYmIChmdW5jdGlvbigpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIG5ldyBCbG9iKClcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICB9KSgpLFxuICAgIGZvcm1EYXRhOiAnRm9ybURhdGEnIGluIHNlbGYsXG4gICAgYXJyYXlCdWZmZXI6ICdBcnJheUJ1ZmZlcicgaW4gc2VsZlxuICB9XG5cbiAgaWYgKHN1cHBvcnQuYXJyYXlCdWZmZXIpIHtcbiAgICB2YXIgdmlld0NsYXNzZXMgPSBbXG4gICAgICAnW29iamVjdCBJbnQ4QXJyYXldJyxcbiAgICAgICdbb2JqZWN0IFVpbnQ4QXJyYXldJyxcbiAgICAgICdbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XScsXG4gICAgICAnW29iamVjdCBJbnQxNkFycmF5XScsXG4gICAgICAnW29iamVjdCBVaW50MTZBcnJheV0nLFxuICAgICAgJ1tvYmplY3QgSW50MzJBcnJheV0nLFxuICAgICAgJ1tvYmplY3QgVWludDMyQXJyYXldJyxcbiAgICAgICdbb2JqZWN0IEZsb2F0MzJBcnJheV0nLFxuICAgICAgJ1tvYmplY3QgRmxvYXQ2NEFycmF5XSdcbiAgICBdXG5cbiAgICB2YXIgaXNEYXRhVmlldyA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiBEYXRhVmlldy5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihvYmopXG4gICAgfVxuXG4gICAgdmFyIGlzQXJyYXlCdWZmZXJWaWV3ID0gQXJyYXlCdWZmZXIuaXNWaWV3IHx8IGZ1bmN0aW9uKG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiB2aWV3Q2xhc3Nlcy5pbmRleE9mKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopKSA+IC0xXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gbm9ybWFsaXplTmFtZShuYW1lKSB7XG4gICAgaWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJykge1xuICAgICAgbmFtZSA9IFN0cmluZyhuYW1lKVxuICAgIH1cbiAgICBpZiAoL1teYS16MC05XFwtIyQlJicqKy5cXF5fYHx+XS9pLnRlc3QobmFtZSkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgY2hhcmFjdGVyIGluIGhlYWRlciBmaWVsZCBuYW1lJylcbiAgICB9XG4gICAgcmV0dXJuIG5hbWUudG9Mb3dlckNhc2UoKVxuICB9XG5cbiAgZnVuY3Rpb24gbm9ybWFsaXplVmFsdWUodmFsdWUpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJykge1xuICAgICAgdmFsdWUgPSBTdHJpbmcodmFsdWUpXG4gICAgfVxuICAgIHJldHVybiB2YWx1ZVxuICB9XG5cbiAgLy8gQnVpbGQgYSBkZXN0cnVjdGl2ZSBpdGVyYXRvciBmb3IgdGhlIHZhbHVlIGxpc3RcbiAgZnVuY3Rpb24gaXRlcmF0b3JGb3IoaXRlbXMpIHtcbiAgICB2YXIgaXRlcmF0b3IgPSB7XG4gICAgICBuZXh0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gaXRlbXMuc2hpZnQoKVxuICAgICAgICByZXR1cm4ge2RvbmU6IHZhbHVlID09PSB1bmRlZmluZWQsIHZhbHVlOiB2YWx1ZX1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc3VwcG9ydC5pdGVyYWJsZSkge1xuICAgICAgaXRlcmF0b3JbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gaXRlcmF0b3JcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gaXRlcmF0b3JcbiAgfVxuXG4gIGZ1bmN0aW9uIEhlYWRlcnMoaGVhZGVycykge1xuICAgIHRoaXMubWFwID0ge31cblxuICAgIGlmIChoZWFkZXJzIGluc3RhbmNlb2YgSGVhZGVycykge1xuICAgICAgaGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG4gICAgICAgIHRoaXMuYXBwZW5kKG5hbWUsIHZhbHVlKVxuICAgICAgfSwgdGhpcylcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoaGVhZGVycykpIHtcbiAgICAgIGhlYWRlcnMuZm9yRWFjaChmdW5jdGlvbihoZWFkZXIpIHtcbiAgICAgICAgdGhpcy5hcHBlbmQoaGVhZGVyWzBdLCBoZWFkZXJbMV0pXG4gICAgICB9LCB0aGlzKVxuICAgIH0gZWxzZSBpZiAoaGVhZGVycykge1xuICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoaGVhZGVycykuZm9yRWFjaChmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgIHRoaXMuYXBwZW5kKG5hbWUsIGhlYWRlcnNbbmFtZV0pXG4gICAgICB9LCB0aGlzKVxuICAgIH1cbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgbmFtZSA9IG5vcm1hbGl6ZU5hbWUobmFtZSlcbiAgICB2YWx1ZSA9IG5vcm1hbGl6ZVZhbHVlKHZhbHVlKVxuICAgIHZhciBvbGRWYWx1ZSA9IHRoaXMubWFwW25hbWVdXG4gICAgdGhpcy5tYXBbbmFtZV0gPSBvbGRWYWx1ZSA/IG9sZFZhbHVlKycsJyt2YWx1ZSA6IHZhbHVlXG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBmdW5jdGlvbihuYW1lKSB7XG4gICAgZGVsZXRlIHRoaXMubWFwW25vcm1hbGl6ZU5hbWUobmFtZSldXG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihuYW1lKSB7XG4gICAgbmFtZSA9IG5vcm1hbGl6ZU5hbWUobmFtZSlcbiAgICByZXR1cm4gdGhpcy5oYXMobmFtZSkgPyB0aGlzLm1hcFtuYW1lXSA6IG51bGxcbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAuaGFzT3duUHJvcGVydHkobm9ybWFsaXplTmFtZShuYW1lKSlcbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgdGhpcy5tYXBbbm9ybWFsaXplTmFtZShuYW1lKV0gPSBub3JtYWxpemVWYWx1ZSh2YWx1ZSlcbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbihjYWxsYmFjaywgdGhpc0FyZykge1xuICAgIGZvciAodmFyIG5hbWUgaW4gdGhpcy5tYXApIHtcbiAgICAgIGlmICh0aGlzLm1hcC5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICBjYWxsYmFjay5jYWxsKHRoaXNBcmcsIHRoaXMubWFwW25hbWVdLCBuYW1lLCB0aGlzKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLmtleXMgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaXRlbXMgPSBbXVxuICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwgbmFtZSkgeyBpdGVtcy5wdXNoKG5hbWUpIH0pXG4gICAgcmV0dXJuIGl0ZXJhdG9yRm9yKGl0ZW1zKVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUudmFsdWVzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGl0ZW1zID0gW11cbiAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24odmFsdWUpIHsgaXRlbXMucHVzaCh2YWx1ZSkgfSlcbiAgICByZXR1cm4gaXRlcmF0b3JGb3IoaXRlbXMpXG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS5lbnRyaWVzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGl0ZW1zID0gW11cbiAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIG5hbWUpIHsgaXRlbXMucHVzaChbbmFtZSwgdmFsdWVdKSB9KVxuICAgIHJldHVybiBpdGVyYXRvckZvcihpdGVtcylcbiAgfVxuXG4gIGlmIChzdXBwb3J0Lml0ZXJhYmxlKSB7XG4gICAgSGVhZGVycy5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXSA9IEhlYWRlcnMucHJvdG90eXBlLmVudHJpZXNcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbnN1bWVkKGJvZHkpIHtcbiAgICBpZiAoYm9keS5ib2R5VXNlZCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBUeXBlRXJyb3IoJ0FscmVhZHkgcmVhZCcpKVxuICAgIH1cbiAgICBib2R5LmJvZHlVc2VkID0gdHJ1ZVxuICB9XG5cbiAgZnVuY3Rpb24gZmlsZVJlYWRlclJlYWR5KHJlYWRlcikge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmVzb2x2ZShyZWFkZXIucmVzdWx0KVxuICAgICAgfVxuICAgICAgcmVhZGVyLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmVqZWN0KHJlYWRlci5lcnJvcilcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgZnVuY3Rpb24gcmVhZEJsb2JBc0FycmF5QnVmZmVyKGJsb2IpIHtcbiAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKVxuICAgIHZhciBwcm9taXNlID0gZmlsZVJlYWRlclJlYWR5KHJlYWRlcilcbiAgICByZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIoYmxvYilcbiAgICByZXR1cm4gcHJvbWlzZVxuICB9XG5cbiAgZnVuY3Rpb24gcmVhZEJsb2JBc1RleHQoYmxvYikge1xuICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpXG4gICAgdmFyIHByb21pc2UgPSBmaWxlUmVhZGVyUmVhZHkocmVhZGVyKVxuICAgIHJlYWRlci5yZWFkQXNUZXh0KGJsb2IpXG4gICAgcmV0dXJuIHByb21pc2VcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWRBcnJheUJ1ZmZlckFzVGV4dChidWYpIHtcbiAgICB2YXIgdmlldyA9IG5ldyBVaW50OEFycmF5KGJ1ZilcbiAgICB2YXIgY2hhcnMgPSBuZXcgQXJyYXkodmlldy5sZW5ndGgpXG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZpZXcubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNoYXJzW2ldID0gU3RyaW5nLmZyb21DaGFyQ29kZSh2aWV3W2ldKVxuICAgIH1cbiAgICByZXR1cm4gY2hhcnMuam9pbignJylcbiAgfVxuXG4gIGZ1bmN0aW9uIGJ1ZmZlckNsb25lKGJ1Zikge1xuICAgIGlmIChidWYuc2xpY2UpIHtcbiAgICAgIHJldHVybiBidWYuc2xpY2UoMClcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHZpZXcgPSBuZXcgVWludDhBcnJheShidWYuYnl0ZUxlbmd0aClcbiAgICAgIHZpZXcuc2V0KG5ldyBVaW50OEFycmF5KGJ1ZikpXG4gICAgICByZXR1cm4gdmlldy5idWZmZXJcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBCb2R5KCkge1xuICAgIHRoaXMuYm9keVVzZWQgPSBmYWxzZVxuXG4gICAgdGhpcy5faW5pdEJvZHkgPSBmdW5jdGlvbihib2R5KSB7XG4gICAgICB0aGlzLl9ib2R5SW5pdCA9IGJvZHlcbiAgICAgIGlmICghYm9keSkge1xuICAgICAgICB0aGlzLl9ib2R5VGV4dCA9ICcnXG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBib2R5ID09PSAnc3RyaW5nJykge1xuICAgICAgICB0aGlzLl9ib2R5VGV4dCA9IGJvZHlcbiAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5ibG9iICYmIEJsb2IucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkpIHtcbiAgICAgICAgdGhpcy5fYm9keUJsb2IgPSBib2R5XG4gICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuZm9ybURhdGEgJiYgRm9ybURhdGEucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkpIHtcbiAgICAgICAgdGhpcy5fYm9keUZvcm1EYXRhID0gYm9keVxuICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LnNlYXJjaFBhcmFtcyAmJiBVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkpIHtcbiAgICAgICAgdGhpcy5fYm9keVRleHQgPSBib2R5LnRvU3RyaW5nKClcbiAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5hcnJheUJ1ZmZlciAmJiBzdXBwb3J0LmJsb2IgJiYgaXNEYXRhVmlldyhib2R5KSkge1xuICAgICAgICB0aGlzLl9ib2R5QXJyYXlCdWZmZXIgPSBidWZmZXJDbG9uZShib2R5LmJ1ZmZlcilcbiAgICAgICAgLy8gSUUgMTAtMTEgY2FuJ3QgaGFuZGxlIGEgRGF0YVZpZXcgYm9keS5cbiAgICAgICAgdGhpcy5fYm9keUluaXQgPSBuZXcgQmxvYihbdGhpcy5fYm9keUFycmF5QnVmZmVyXSlcbiAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5hcnJheUJ1ZmZlciAmJiAoQXJyYXlCdWZmZXIucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkgfHwgaXNBcnJheUJ1ZmZlclZpZXcoYm9keSkpKSB7XG4gICAgICAgIHRoaXMuX2JvZHlBcnJheUJ1ZmZlciA9IGJ1ZmZlckNsb25lKGJvZHkpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3Vuc3VwcG9ydGVkIEJvZHlJbml0IHR5cGUnKVxuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMuaGVhZGVycy5nZXQoJ2NvbnRlbnQtdHlwZScpKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYm9keSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICB0aGlzLmhlYWRlcnMuc2V0KCdjb250ZW50LXR5cGUnLCAndGV4dC9wbGFpbjtjaGFyc2V0PVVURi04JylcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5QmxvYiAmJiB0aGlzLl9ib2R5QmxvYi50eXBlKSB7XG4gICAgICAgICAgdGhpcy5oZWFkZXJzLnNldCgnY29udGVudC10eXBlJywgdGhpcy5fYm9keUJsb2IudHlwZSlcbiAgICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LnNlYXJjaFBhcmFtcyAmJiBVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkpIHtcbiAgICAgICAgICB0aGlzLmhlYWRlcnMuc2V0KCdjb250ZW50LXR5cGUnLCAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9VVRGLTgnKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHN1cHBvcnQuYmxvYikge1xuICAgICAgdGhpcy5ibG9iID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciByZWplY3RlZCA9IGNvbnN1bWVkKHRoaXMpXG4gICAgICAgIGlmIChyZWplY3RlZCkge1xuICAgICAgICAgIHJldHVybiByZWplY3RlZFxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2JvZHlCbG9iKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5QmxvYilcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5ldyBCbG9iKFt0aGlzLl9ib2R5QXJyYXlCdWZmZXJdKSlcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5Rm9ybURhdGEpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvdWxkIG5vdCByZWFkIEZvcm1EYXRhIGJvZHkgYXMgYmxvYicpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShuZXcgQmxvYihbdGhpcy5fYm9keVRleHRdKSlcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLmFycmF5QnVmZmVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpIHtcbiAgICAgICAgICByZXR1cm4gY29uc3VtZWQodGhpcykgfHwgUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcilcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5ibG9iKCkudGhlbihyZWFkQmxvYkFzQXJyYXlCdWZmZXIpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnRleHQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciByZWplY3RlZCA9IGNvbnN1bWVkKHRoaXMpXG4gICAgICBpZiAocmVqZWN0ZWQpIHtcbiAgICAgICAgcmV0dXJuIHJlamVjdGVkXG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl9ib2R5QmxvYikge1xuICAgICAgICByZXR1cm4gcmVhZEJsb2JBc1RleHQodGhpcy5fYm9keUJsb2IpXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlYWRBcnJheUJ1ZmZlckFzVGV4dCh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpKVxuICAgICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5Rm9ybURhdGEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjb3VsZCBub3QgcmVhZCBGb3JtRGF0YSBib2R5IGFzIHRleHQnKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5VGV4dClcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc3VwcG9ydC5mb3JtRGF0YSkge1xuICAgICAgdGhpcy5mb3JtRGF0YSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50ZXh0KCkudGhlbihkZWNvZGUpXG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5qc29uID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy50ZXh0KCkudGhlbihKU09OLnBhcnNlKVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvLyBIVFRQIG1ldGhvZHMgd2hvc2UgY2FwaXRhbGl6YXRpb24gc2hvdWxkIGJlIG5vcm1hbGl6ZWRcbiAgdmFyIG1ldGhvZHMgPSBbJ0RFTEVURScsICdHRVQnLCAnSEVBRCcsICdPUFRJT05TJywgJ1BPU1QnLCAnUFVUJ11cblxuICBmdW5jdGlvbiBub3JtYWxpemVNZXRob2QobWV0aG9kKSB7XG4gICAgdmFyIHVwY2FzZWQgPSBtZXRob2QudG9VcHBlckNhc2UoKVxuICAgIHJldHVybiAobWV0aG9kcy5pbmRleE9mKHVwY2FzZWQpID4gLTEpID8gdXBjYXNlZCA6IG1ldGhvZFxuICB9XG5cbiAgZnVuY3Rpb24gUmVxdWVzdChpbnB1dCwgb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9XG4gICAgdmFyIGJvZHkgPSBvcHRpb25zLmJvZHlcblxuICAgIGlmIChpbnB1dCBpbnN0YW5jZW9mIFJlcXVlc3QpIHtcbiAgICAgIGlmIChpbnB1dC5ib2R5VXNlZCkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBbHJlYWR5IHJlYWQnKVxuICAgICAgfVxuICAgICAgdGhpcy51cmwgPSBpbnB1dC51cmxcbiAgICAgIHRoaXMuY3JlZGVudGlhbHMgPSBpbnB1dC5jcmVkZW50aWFsc1xuICAgICAgaWYgKCFvcHRpb25zLmhlYWRlcnMpIHtcbiAgICAgICAgdGhpcy5oZWFkZXJzID0gbmV3IEhlYWRlcnMoaW5wdXQuaGVhZGVycylcbiAgICAgIH1cbiAgICAgIHRoaXMubWV0aG9kID0gaW5wdXQubWV0aG9kXG4gICAgICB0aGlzLm1vZGUgPSBpbnB1dC5tb2RlXG4gICAgICBpZiAoIWJvZHkgJiYgaW5wdXQuX2JvZHlJbml0ICE9IG51bGwpIHtcbiAgICAgICAgYm9keSA9IGlucHV0Ll9ib2R5SW5pdFxuICAgICAgICBpbnB1dC5ib2R5VXNlZCA9IHRydWVcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy51cmwgPSBTdHJpbmcoaW5wdXQpXG4gICAgfVxuXG4gICAgdGhpcy5jcmVkZW50aWFscyA9IG9wdGlvbnMuY3JlZGVudGlhbHMgfHwgdGhpcy5jcmVkZW50aWFscyB8fCAnb21pdCdcbiAgICBpZiAob3B0aW9ucy5oZWFkZXJzIHx8ICF0aGlzLmhlYWRlcnMpIHtcbiAgICAgIHRoaXMuaGVhZGVycyA9IG5ldyBIZWFkZXJzKG9wdGlvbnMuaGVhZGVycylcbiAgICB9XG4gICAgdGhpcy5tZXRob2QgPSBub3JtYWxpemVNZXRob2Qob3B0aW9ucy5tZXRob2QgfHwgdGhpcy5tZXRob2QgfHwgJ0dFVCcpXG4gICAgdGhpcy5tb2RlID0gb3B0aW9ucy5tb2RlIHx8IHRoaXMubW9kZSB8fCBudWxsXG4gICAgdGhpcy5yZWZlcnJlciA9IG51bGxcblxuICAgIGlmICgodGhpcy5tZXRob2QgPT09ICdHRVQnIHx8IHRoaXMubWV0aG9kID09PSAnSEVBRCcpICYmIGJvZHkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0JvZHkgbm90IGFsbG93ZWQgZm9yIEdFVCBvciBIRUFEIHJlcXVlc3RzJylcbiAgICB9XG4gICAgdGhpcy5faW5pdEJvZHkoYm9keSlcbiAgfVxuXG4gIFJlcXVlc3QucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG5ldyBSZXF1ZXN0KHRoaXMsIHsgYm9keTogdGhpcy5fYm9keUluaXQgfSlcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlY29kZShib2R5KSB7XG4gICAgdmFyIGZvcm0gPSBuZXcgRm9ybURhdGEoKVxuICAgIGJvZHkudHJpbSgpLnNwbGl0KCcmJykuZm9yRWFjaChmdW5jdGlvbihieXRlcykge1xuICAgICAgaWYgKGJ5dGVzKSB7XG4gICAgICAgIHZhciBzcGxpdCA9IGJ5dGVzLnNwbGl0KCc9JylcbiAgICAgICAgdmFyIG5hbWUgPSBzcGxpdC5zaGlmdCgpLnJlcGxhY2UoL1xcKy9nLCAnICcpXG4gICAgICAgIHZhciB2YWx1ZSA9IHNwbGl0LmpvaW4oJz0nKS5yZXBsYWNlKC9cXCsvZywgJyAnKVxuICAgICAgICBmb3JtLmFwcGVuZChkZWNvZGVVUklDb21wb25lbnQobmFtZSksIGRlY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkpXG4gICAgICB9XG4gICAgfSlcbiAgICByZXR1cm4gZm9ybVxuICB9XG5cbiAgZnVuY3Rpb24gcGFyc2VIZWFkZXJzKHJhd0hlYWRlcnMpIHtcbiAgICB2YXIgaGVhZGVycyA9IG5ldyBIZWFkZXJzKClcbiAgICByYXdIZWFkZXJzLnNwbGl0KC9cXHI/XFxuLykuZm9yRWFjaChmdW5jdGlvbihsaW5lKSB7XG4gICAgICB2YXIgcGFydHMgPSBsaW5lLnNwbGl0KCc6JylcbiAgICAgIHZhciBrZXkgPSBwYXJ0cy5zaGlmdCgpLnRyaW0oKVxuICAgICAgaWYgKGtleSkge1xuICAgICAgICB2YXIgdmFsdWUgPSBwYXJ0cy5qb2luKCc6JykudHJpbSgpXG4gICAgICAgIGhlYWRlcnMuYXBwZW5kKGtleSwgdmFsdWUpXG4gICAgICB9XG4gICAgfSlcbiAgICByZXR1cm4gaGVhZGVyc1xuICB9XG5cbiAgQm9keS5jYWxsKFJlcXVlc3QucHJvdG90eXBlKVxuXG4gIGZ1bmN0aW9uIFJlc3BvbnNlKGJvZHlJbml0LCBvcHRpb25zKSB7XG4gICAgaWYgKCFvcHRpb25zKSB7XG4gICAgICBvcHRpb25zID0ge31cbiAgICB9XG5cbiAgICB0aGlzLnR5cGUgPSAnZGVmYXVsdCdcbiAgICB0aGlzLnN0YXR1cyA9ICdzdGF0dXMnIGluIG9wdGlvbnMgPyBvcHRpb25zLnN0YXR1cyA6IDIwMFxuICAgIHRoaXMub2sgPSB0aGlzLnN0YXR1cyA+PSAyMDAgJiYgdGhpcy5zdGF0dXMgPCAzMDBcbiAgICB0aGlzLnN0YXR1c1RleHQgPSAnc3RhdHVzVGV4dCcgaW4gb3B0aW9ucyA/IG9wdGlvbnMuc3RhdHVzVGV4dCA6ICdPSydcbiAgICB0aGlzLmhlYWRlcnMgPSBuZXcgSGVhZGVycyhvcHRpb25zLmhlYWRlcnMpXG4gICAgdGhpcy51cmwgPSBvcHRpb25zLnVybCB8fCAnJ1xuICAgIHRoaXMuX2luaXRCb2R5KGJvZHlJbml0KVxuICB9XG5cbiAgQm9keS5jYWxsKFJlc3BvbnNlLnByb3RvdHlwZSlcblxuICBSZXNwb25zZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gbmV3IFJlc3BvbnNlKHRoaXMuX2JvZHlJbml0LCB7XG4gICAgICBzdGF0dXM6IHRoaXMuc3RhdHVzLFxuICAgICAgc3RhdHVzVGV4dDogdGhpcy5zdGF0dXNUZXh0LFxuICAgICAgaGVhZGVyczogbmV3IEhlYWRlcnModGhpcy5oZWFkZXJzKSxcbiAgICAgIHVybDogdGhpcy51cmxcbiAgICB9KVxuICB9XG5cbiAgUmVzcG9uc2UuZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgcmVzcG9uc2UgPSBuZXcgUmVzcG9uc2UobnVsbCwge3N0YXR1czogMCwgc3RhdHVzVGV4dDogJyd9KVxuICAgIHJlc3BvbnNlLnR5cGUgPSAnZXJyb3InXG4gICAgcmV0dXJuIHJlc3BvbnNlXG4gIH1cblxuICB2YXIgcmVkaXJlY3RTdGF0dXNlcyA9IFszMDEsIDMwMiwgMzAzLCAzMDcsIDMwOF1cblxuICBSZXNwb25zZS5yZWRpcmVjdCA9IGZ1bmN0aW9uKHVybCwgc3RhdHVzKSB7XG4gICAgaWYgKHJlZGlyZWN0U3RhdHVzZXMuaW5kZXhPZihzdGF0dXMpID09PSAtMSkge1xuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0ludmFsaWQgc3RhdHVzIGNvZGUnKVxuICAgIH1cblxuICAgIHJldHVybiBuZXcgUmVzcG9uc2UobnVsbCwge3N0YXR1czogc3RhdHVzLCBoZWFkZXJzOiB7bG9jYXRpb246IHVybH19KVxuICB9XG5cbiAgc2VsZi5IZWFkZXJzID0gSGVhZGVyc1xuICBzZWxmLlJlcXVlc3QgPSBSZXF1ZXN0XG4gIHNlbGYuUmVzcG9uc2UgPSBSZXNwb25zZVxuXG4gIHNlbGYuZmV0Y2ggPSBmdW5jdGlvbihpbnB1dCwgaW5pdCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciByZXF1ZXN0ID0gbmV3IFJlcXVlc3QoaW5wdXQsIGluaXQpXG4gICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KClcblxuICAgICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgICBzdGF0dXM6IHhoci5zdGF0dXMsXG4gICAgICAgICAgc3RhdHVzVGV4dDogeGhyLnN0YXR1c1RleHQsXG4gICAgICAgICAgaGVhZGVyczogcGFyc2VIZWFkZXJzKHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSB8fCAnJylcbiAgICAgICAgfVxuICAgICAgICBvcHRpb25zLnVybCA9ICdyZXNwb25zZVVSTCcgaW4geGhyID8geGhyLnJlc3BvbnNlVVJMIDogb3B0aW9ucy5oZWFkZXJzLmdldCgnWC1SZXF1ZXN0LVVSTCcpXG4gICAgICAgIHZhciBib2R5ID0gJ3Jlc3BvbnNlJyBpbiB4aHIgPyB4aHIucmVzcG9uc2UgOiB4aHIucmVzcG9uc2VUZXh0XG4gICAgICAgIHJlc29sdmUobmV3IFJlc3BvbnNlKGJvZHksIG9wdGlvbnMpKVxuICAgICAgfVxuXG4gICAgICB4aHIub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZWplY3QobmV3IFR5cGVFcnJvcignTmV0d29yayByZXF1ZXN0IGZhaWxlZCcpKVxuICAgICAgfVxuXG4gICAgICB4aHIub250aW1lb3V0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJlamVjdChuZXcgVHlwZUVycm9yKCdOZXR3b3JrIHJlcXVlc3QgZmFpbGVkJykpXG4gICAgICB9XG5cbiAgICAgIHhoci5vcGVuKHJlcXVlc3QubWV0aG9kLCByZXF1ZXN0LnVybCwgdHJ1ZSlcblxuICAgICAgaWYgKHJlcXVlc3QuY3JlZGVudGlhbHMgPT09ICdpbmNsdWRlJykge1xuICAgICAgICB4aHIud2l0aENyZWRlbnRpYWxzID0gdHJ1ZVxuICAgICAgfVxuXG4gICAgICBpZiAoJ3Jlc3BvbnNlVHlwZScgaW4geGhyICYmIHN1cHBvcnQuYmxvYikge1xuICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2Jsb2InXG4gICAgICB9XG5cbiAgICAgIHJlcXVlc3QuaGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG4gICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKG5hbWUsIHZhbHVlKVxuICAgICAgfSlcblxuICAgICAgeGhyLnNlbmQodHlwZW9mIHJlcXVlc3QuX2JvZHlJbml0ID09PSAndW5kZWZpbmVkJyA/IG51bGwgOiByZXF1ZXN0Ll9ib2R5SW5pdClcbiAgICB9KVxuICB9XG4gIHNlbGYuZmV0Y2gucG9seWZpbGwgPSB0cnVlXG59KSh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgPyBzZWxmIDogdGhpcyk7XG5cblxuLyoqKi8gfSksXG4vKiA3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciByYW5kb21CeXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNCk7XG5cbmZ1bmN0aW9uIGVuY29kZShsb29rdXAsIG51bWJlcikge1xuICAgIHZhciBsb29wQ291bnRlciA9IDA7XG4gICAgdmFyIGRvbmU7XG5cbiAgICB2YXIgc3RyID0gJyc7XG5cbiAgICB3aGlsZSAoIWRvbmUpIHtcbiAgICAgICAgc3RyID0gc3RyICsgbG9va3VwKCAoIChudW1iZXIgPj4gKDQgKiBsb29wQ291bnRlcikpICYgMHgwZiApIHwgcmFuZG9tQnl0ZSgpICk7XG4gICAgICAgIGRvbmUgPSBudW1iZXIgPCAoTWF0aC5wb3coMTYsIGxvb3BDb3VudGVyICsgMSApICk7XG4gICAgICAgIGxvb3BDb3VudGVyKys7XG4gICAgfVxuICAgIHJldHVybiBzdHI7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZW5jb2RlO1xuXG5cbi8qKiovIH0pLFxuLyogOCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShfX3dlYnBhY2tfZXhwb3J0c19fLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2NsYXNzZXNfSGVhZF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX29iamVjdHNfY29sb3JzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fY2xhc3Nlc19BdWRpb19qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX29iamVjdHNfU2F2ZV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19saWJfY2FydEFQSV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cblxuXG5cblxuXG5cbntcbiAgdmFyIHNjZW5lID0gdm9pZCAwLFxuICAgICAgY2FtZXJhID0gdm9pZCAwLFxuICAgICAgZmllbGRPZlZpZXcgPSB2b2lkIDAsXG4gICAgICBhc3BlY3RSYXRpbyA9IHZvaWQgMCxcbiAgICAgIG5lYXJQbGFuZSA9IHZvaWQgMCxcbiAgICAgIGZhclBsYW5lID0gdm9pZCAwLFxuICAgICAgSEVJR0hUID0gdm9pZCAwLFxuICAgICAgV0lEVEggPSB2b2lkIDA7XG4gIHZhciBnbG9iYWxMaWdodCA9IHZvaWQgMCxcbiAgICAgIHNoYWRvd0xpZ2h0ID0gdm9pZCAwLFxuICAgICAgYmFja0xpZ2h0ID0gdm9pZCAwLFxuICAgICAgbGlnaHQgPSB2b2lkIDAsXG4gICAgICByZW5kZXJlciA9IHZvaWQgMCxcbiAgICAgIGNvbnRhaW5lciA9IHZvaWQgMCxcbiAgICAgIGxvYWRlZCA9IHZvaWQgMDtcbiAgdmFyIGhlYWQgPSB2b2lkIDAsXG4gICAgICB3aW5kb3dIYWxmWCA9IHZvaWQgMCxcbiAgICAgIHdpbmRvd0hhbGZZID0gdm9pZCAwLFxuICAgICAgY29sb3IgPSB2b2lkIDAsXG4gICAgICBhdWRpbyA9IHZvaWQgMCxcbiAgICAgIFNwZWVjaFRleHQgPSB2b2lkIDA7XG5cbiAgLy8gdmFycyBmb3IgZGF0Lmd1aVxuICB2YXIgY29udHJvbGxlciA9IHZvaWQgMCxcbiAgICAgIGd1aSA9IHZvaWQgMDtcbiAgdmFyIHNhdmVCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2F2ZScpO1xuXG4gIHZhciBtb3VzZVBvcyA9IHsgeDogMCwgeTogMCB9O1xuXG4gIHZhciBpbml0ID0gZnVuY3Rpb24gaW5pdCgpIHtcbiAgICAvLyBjcmVhdGUgc25vd1xuICAgIHBhcnRpY2xlc0pTLmxvYWQoJ3BhcnRpY2xlcy1qcycsICcuLi9hc3NldHMvcGFydGljbGVzLmpzb24nLCBmdW5jdGlvbiAoKSB7XG4gICAgICBjb25zb2xlLmxvZygnY2FsbGJhY2sgLSBwYXJ0aWNsZXMuanMgY29uZmlnIGxvYWRlZCcpO1xuICAgIH0pO1xuXG4gICAgY3JlYXRlU2NlbmUoKTtcbiAgICBjcmVhdGVMaWdodHMoKTtcblxuICAgIGF1ZGlvID0gbmV3IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fY2xhc3Nlc19BdWRpb19qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKCk7IC8vIGhhbmRsZSBhdWRpb1xuICAgIGhlYWQgPSBuZXcgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19jbGFzc2VzX0hlYWRfX1tcImFcIiAvKiBkZWZhdWx0ICovXSgpOyAvLyBzaG93IGFuZCBoYW5kbGUgaGVhZFxuICAgIHNjZW5lLmFkZChoZWFkLm1lc2gpO1xuICAgIC8vc2NlbmUuYWRkKHN0YXJzLm1lc2gpO1xuICAgIGNvbnNvbGUubG9nKGF1ZGlvLmlkKTtcbiAgICAvLyBzZW5kIG9iamVjdHMgdG8gc2F2ZSBvbiBjbGlja1xuICAgIHNhdmVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19vYmplY3RzX1NhdmVfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoe1xuICAgICAgICB0ZXh0OiBhdWRpby50eHQsXG4gICAgICAgIGlkOiBhdWRpby5pZFxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBndWkgPSBuZXcgZGF0LkdVSSgpO1xuICAgIGd1aS5kb21FbGVtZW50LmlkID0gJ2d1aSc7XG4gICAgZ3VpLmNsb3NlZCA9IHRydWU7XG4gICAgY29udHJvbGxlciA9IG5ldyBjb250cm9sbGVyVGV4dCgpO1xuICAgIGd1aUNvbnRyb2xsZXIoWydza2luJywgJ2ZyZWNrbGVzJywgJ2V5ZScsICdnbGFzc2VzJywgJ2hhdCddKTsgLy8gYWRkIGd1aSBmb3IgYXJyYXkgb2JqZWN0IGFuZCBzZXQgY29sb3JzIG9uIGNvbG9yIGNoYW5nZVxuXG4gICAgd2luZG93LnNjZW5lID0gc2NlbmU7IC8vIHNldCBzY2VuZSBmb3IgZXh0ZW5zaW9uXG5cbiAgICBsb29wKCk7XG4gIH07XG5cbiAgdmFyIGd1aUNvbnRyb2xsZXIgPSBmdW5jdGlvbiBndWlDb250cm9sbGVyKGtleXMpIHtcbiAgICBrZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgZ3VpLmFkZENvbG9yKGNvbnRyb2xsZXIsIGtleSkub25DaGFuZ2UoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIC8vIHNldCByaWdodCBjb2xvciBmb3IgbWF0ZXJpYWxcbiAgICAgICAgc3dpdGNoIChrZXkpIHtcbiAgICAgICAgICBjYXNlICdza2luJzpcbiAgICAgICAgICAgIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fb2JqZWN0c19jb2xvcnNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS5za2luID0gY29udHJvbGxlci5za2luO1xuICAgICAgICAgIGNhc2UgJ2ZyZWNrbGVzJzpcbiAgICAgICAgICAgIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fb2JqZWN0c19jb2xvcnNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS5mcmVja2xlcyA9IGNvbnRyb2xsZXIuZnJlY2tsZXM7XG4gICAgICAgICAgY2FzZSAnZXllJzpcbiAgICAgICAgICAgIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fb2JqZWN0c19jb2xvcnNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS5leWUgPSBjb250cm9sbGVyLmV5ZTtcbiAgICAgICAgICBjYXNlICdnbGFzc2VzJzpcbiAgICAgICAgICAgIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fb2JqZWN0c19jb2xvcnNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS5nbGFzc2VzID0gY29udHJvbGxlci5nbGFzc2VzO1xuICAgICAgICAgIGNhc2UgJ2hhdCc6XG4gICAgICAgICAgICBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX29iamVjdHNfY29sb3JzX19bXCJhXCIgLyogZGVmYXVsdCAqL10uaGF0ID0gY29udHJvbGxlci5oYXQ7XG4gICAgICAgIH1cblxuICAgICAgICAvL3JlbW92ZSBjdXJyZW50IGhlYWQgYW5kIG1ha2UgYSBuZXcgb25lIHRvIHNldCBjdXJyZW50IGNvbG9yXG4gICAgICAgIHNjZW5lLnJlbW92ZShoZWFkLm1lc2gpO1xuICAgICAgICBjcmVhdGVIZWFkKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICB2YXIgZGVjMmhleCA9IGZ1bmN0aW9uIGRlYzJoZXgoaSkge1xuICAgIHZhciByZXN1bHQgPSBcIjB4MDAwMDAwXCI7XG4gICAgaWYgKGkgPj0gMCAmJiBpIDw9IDE1KSB7XG4gICAgICByZXN1bHQgPSBcIjB4MDAwMDBcIiArIGkudG9TdHJpbmcoMTYpO1xuICAgIH0gZWxzZSBpZiAoaSA+PSAxNiAmJiBpIDw9IDI1NSkge1xuICAgICAgcmVzdWx0ID0gXCIweDAwMDBcIiArIGkudG9TdHJpbmcoMTYpO1xuICAgIH0gZWxzZSBpZiAoaSA+PSAyNTYgJiYgaSA8PSA0MDk1KSB7XG4gICAgICByZXN1bHQgPSBcIjB4MDAwXCIgKyBpLnRvU3RyaW5nKDE2KTtcbiAgICB9IGVsc2UgaWYgKGkgPj0gNDA5NiAmJiBpIDw9IDY1NTM1KSB7XG4gICAgICByZXN1bHQgPSBcIjB4MDBcIiArIGkudG9TdHJpbmcoMTYpO1xuICAgIH0gZWxzZSBpZiAoaSA+PSA2NTUzNSAmJiBpIDw9IDEwNDg1NzUpIHtcbiAgICAgIHJlc3VsdCA9IFwiMHgwXCIgKyBpLnRvU3RyaW5nKDE2KTtcbiAgICB9IGVsc2UgaWYgKGkgPj0gMTA0ODU3NSkge1xuICAgICAgcmVzdWx0ID0gJzB4JyArIGkudG9TdHJpbmcoMTYpO1xuICAgIH1cbiAgICBpZiAocmVzdWx0Lmxlbmd0aCA9PSA4KSB7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgfTtcblxuICB2YXIgY3JlYXRlU2NlbmUgPSBmdW5jdGlvbiBjcmVhdGVTY2VuZSgpIHtcbiAgICA7XG4gICAgSEVJR0hUID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgIFdJRFRIID0gd2luZG93LmlubmVyV2lkdGggLyAxLjY3O1xuICAgIHdpbmRvd0hhbGZYID0gV0lEVEggLyAyO1xuICAgIHdpbmRvd0hhbGZZID0gSEVJR0hUIC8gMjtcblxuICAgIHNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7XG4gICAgYXNwZWN0UmF0aW8gPSBXSURUSCAvIEhFSUdIVDtcbiAgICBmaWVsZE9mVmlldyA9IDUwO1xuICAgIG5lYXJQbGFuZSA9IDE7XG4gICAgZmFyUGxhbmUgPSAyMDAwO1xuXG4gICAgY2FtZXJhID0gbmV3IFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhKGZpZWxkT2ZWaWV3LCBhc3BlY3RSYXRpbywgbmVhclBsYW5lLCBmYXJQbGFuZSk7XG4gICAgY2FtZXJhLnBvc2l0aW9uLnggPSAwO1xuICAgIGNhbWVyYS5wb3NpdGlvbi56ID0gNzA7XG4gICAgY2FtZXJhLnBvc2l0aW9uLnkgPSAtNTtcblxuICAgIHJlbmRlcmVyID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoeyBhbHBoYTogdHJ1ZSwgYW50aWFsaWFzOiB0cnVlIH0pO1xuICAgIHJlbmRlcmVyLnNldFBpeGVsUmF0aW8od2luZG93LmRldmljZVBpeGVsUmF0aW8gPyB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyA6IDEpO1xuICAgIHJlbmRlcmVyLnNldFNpemUoV0lEVEgsIEhFSUdIVCk7XG4gICAgcmVuZGVyZXIuc2hhZG93TWFwLmVuYWJsZWQgPSB0cnVlO1xuICAgIHJlbmRlcmVyLnNoYWRvd01hcC50eXBlID0gVEhSRUUuUENGU29mdFNoYWRvd01hcDtcblxuICAgIGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250YWluZXInKTtcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQocmVuZGVyZXIuZG9tRWxlbWVudCk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIG9uV2luZG93UmVzaXplLCBmYWxzZSk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgaGFuZGxlTW91c2VNb3ZlLCBmYWxzZSk7XG4gIH07XG5cbiAgdmFyIG9uV2luZG93UmVzaXplID0gZnVuY3Rpb24gb25XaW5kb3dSZXNpemUoKSB7XG4gICAgSEVJR0hUID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgIFdJRFRIID0gd2luZG93LmlubmVyV2lkdGggLyAxLjY3O1xuICAgIHdpbmRvd0hhbGZYID0gV0lEVEggLyAyO1xuICAgIHdpbmRvd0hhbGZZID0gSEVJR0hUIC8gMjtcbiAgICByZW5kZXJlci5zZXRTaXplKFdJRFRILCBIRUlHSFQpO1xuICAgIGNhbWVyYS5hc3BlY3QgPSBXSURUSCAvIEhFSUdIVDtcbiAgICBjYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICB9O1xuXG4gIHZhciBoYW5kbGVNb3VzZU1vdmUgPSBmdW5jdGlvbiBoYW5kbGVNb3VzZU1vdmUoZSkge1xuICAgIG1vdXNlUG9zID0ge1xuICAgICAgeDogZXZlbnQuY2xpZW50WCxcbiAgICAgIHk6IGV2ZW50LmNsaWVudFlcbiAgICB9O1xuICB9O1xuXG4gIHZhciBsb2FkZXJNYW5hZ2VyID0gbmV3IFRIUkVFLkxvYWRpbmdNYW5hZ2VyKCk7XG5cbiAgdmFyIGhhbmRsZVdpbmRvd1Jlc2l6ZSA9IGZ1bmN0aW9uIGhhbmRsZVdpbmRvd1Jlc2l6ZShlKSB7XG4gICAgSEVJR0hUID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgIFdJRFRIID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgcmVuZGVyZXIuc2V0U2l6ZShXSURUSCwgSEVJR0hUKTtcbiAgICBjYW1lcmEuYXNwZWN0ID0gV0lEVEggLyBIRUlHSFQ7XG4gICAgY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcbiAgfTtcblxuICB2YXIgaXNNb2JpbGUgPSAvaVBob25lfEFuZHJvaWQvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuXG4gIHZhciBjcmVhdGVMaWdodHMgPSBmdW5jdGlvbiBjcmVhdGVMaWdodHMoKSB7XG4gICAgZ2xvYmFsTGlnaHQgPSBuZXcgVEhSRUUuSGVtaXNwaGVyZUxpZ2h0KDB4ZmZmZmZmLCAweDU1NTU1NSwgLjkpO1xuXG4gICAgc2hhZG93TGlnaHQgPSBuZXcgVEhSRUUuRGlyZWN0aW9uYWxMaWdodCgweGZmZmZmZiwgLjMpO1xuICAgIHNoYWRvd0xpZ2h0LnBvc2l0aW9uLnNldCgxMDAsIDI1MCwgMTc1KTtcbiAgICBzaGFkb3dMaWdodC5jYXN0U2hhZG93ID0gdHJ1ZTtcblxuICAgIGJhY2tMaWdodCA9IG5ldyBUSFJFRS5EaXJlY3Rpb25hbExpZ2h0KDB4ZmZmZmZmLCAuMik7XG4gICAgYmFja0xpZ2h0LnBvc2l0aW9uLnNldCgtMTAwLCAyMDAsIDE1MCk7XG4gICAgYmFja0xpZ2h0LmNhc3RTaGFkb3cgPSB0cnVlO1xuXG4gICAgaWYgKGlzTW9iaWxlKSBzaGFkb3dMaWdodC5zaGFkb3cubWFwU2l6ZS53aWR0aCA9IHNoYWRvd0xpZ2h0LnNoYWRvdy5tYXBTaXplLmhlaWdodCA9IDEwMjQ7XG4gICAgaWYgKCFpc01vYmlsZSkgc2hhZG93TGlnaHQuc2hhZG93Lm1hcFNpemUud2lkdGggPSBzaGFkb3dMaWdodC5zaGFkb3cubWFwU2l6ZS5oZWlnaHQgPSAyMDQ4O1xuXG4gICAgc2NlbmUuYWRkKGdsb2JhbExpZ2h0KTtcbiAgICBzY2VuZS5hZGQoc2hhZG93TGlnaHQpO1xuICAgIHNjZW5lLmFkZChiYWNrTGlnaHQpO1xuICAgIHNjZW5lLmFkZChuZXcgVEhSRUUuQW1iaWVudExpZ2h0KDB4ZWFkZWFkLCAwLjEpKTtcbiAgfTtcblxuICAvLyBjb25zdCBjcmVhdGVIZWFkID0gKCkgPT4ge1xuICAvLyAgIGhlYWQubmFtZSA9IFwiSGVhZFwiO1xuICAvLyAgIGhlYWQgPSBuZXcgSGVhZCgpO1xuICAvLyAgIGNvbnNvbGUubG9nKFwiY3JlYXRlSGVhZFwiKTtcbiAgLy8gICBoZWFkLmlkbGUoKTtcbiAgLy8gICAvL2hlYWQuZGl6enkoKTtcbiAgLy8gICBzY2VuZS5hZGQoaGVhZC5tZXNoKTtcbiAgLy9cbiAgLy8gICBzdGFycyA9IG5ldyBTdGFyc0dyb3VwKCk7XG4gIC8vICAgc2NlbmUuYWRkKHN0YXJzLm1lc2gpO1xuICAvLyB9XG5cbiAgLy8gY29uc3QgY3JlYXRlQ2hhcmFjdGVyID0gKCkgPT4ge1xuICAvLyAgIGNvbnNvbGUubG9nKFwiQ1JFQVRFIENIQVJBQ1RFUlwiKTtcbiAgLy8gICBjcmVhdGVIZWFkKCk7XG4gIC8vICAgaGVhZC5tZXNoLnBvc2l0aW9uLnNldCgwLCAyLCAwKTtcbiAgLy8gICBzdGFycy5tZXNoLnBvc2l0aW9uLnNldCgwLCAxMCwgMCk7XG4gIC8vIH1cblxuICB2YXIgaXNCbGlua2luZyA9IGZhbHNlO1xuICB2YXIgYmxpbmtMb29wID0gZnVuY3Rpb24gYmxpbmtMb29wKCkge1xuICAgIGlzQmxpbmtpbmcgPSBmYWxzZTtcblxuICAgIGlmICghaXNCbGlua2luZyAmJiBNYXRoLnJhbmRvbSgpID4gMC45OSkge1xuICAgICAgaXNCbGlua2luZyA9IHRydWU7XG4gICAgICBibGluaygpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgYmxpbmsgPSBmdW5jdGlvbiBibGluaygpIHtcbiAgICBoZWFkLmV5ZXMuc2NhbGUueSA9IDE7XG4gICAgVHdlZW5NYXgudG8oaGVhZC5leWVzLnNjYWxlLCAuMDcsIHtcbiAgICAgIHk6IDAsXG4gICAgICB5b3lvOiB0cnVlLFxuICAgICAgcmVwZWF0OiAxLFxuICAgICAgb25Db21wbGV0ZTogZnVuY3Rpb24gb25Db21wbGV0ZSgpIHtcbiAgICAgICAgaXNCbGlua2luZyA9IGZhbHNlO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHZhciBjb250cm9sbGVyVGV4dCA9IGZ1bmN0aW9uIGNvbnRyb2xsZXJUZXh0KCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBjb250cm9sbGVyVGV4dCk7XG5cbiAgICB0aGlzLnNraW4gPSBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX29iamVjdHNfY29sb3JzX19bXCJhXCIgLyogZGVmYXVsdCAqL10uc2tpbjtcbiAgICB0aGlzLmZyZWNrbGVzID0gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19vYmplY3RzX2NvbG9yc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLmZyZWNrbGVzO1xuICAgIHRoaXMuZXllID0gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19vYmplY3RzX2NvbG9yc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLmV5ZTtcbiAgICB0aGlzLmdsYXNzZXMgPSBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX29iamVjdHNfY29sb3JzX19bXCJhXCIgLyogZGVmYXVsdCAqL10uZ2xhc3NlcztcbiAgICB0aGlzLmhhdCA9IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fb2JqZWN0c19jb2xvcnNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS5oYXQ7XG4gIH07XG5cbiAgdmFyIGxvb3AgPSBmdW5jdGlvbiBsb29wKCkge1xuICAgIGJsaW5rTG9vcCgpO1xuICAgIC8vaGVhZC5kaXp6eSgpO1xuICAgIGhlYWQuaWRsZSh4VGFyZ2V0LCB5VGFyZ2V0KTtcblxuICAgIHZhciB4VGFyZ2V0ID0gbW91c2VQb3MueCAtIHdpbmRvd0hhbGZYO1xuICAgIHZhciB5VGFyZ2V0ID0gbW91c2VQb3MueSAtIHdpbmRvd0hhbGZZO1xuXG4gICAgcmVuZGVyZXIucmVuZGVyKHNjZW5lLCBjYW1lcmEpO1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShsb29wKTtcbiAgfTtcblxuICAvL3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgaW5pdCwgZmFsc2UpO1xuXG4gIGluaXQoKTtcbn1cblxuLyoqKi8gfSksXG4vKiA5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fbGliX3NvdW5kQVBJX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfc2hvcnRpZF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX3Nob3J0aWRfX19kZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9zaG9ydGlkX18pO1xudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuXG5cblxudmFyIFNwZWVjaFJlY29nbml0aW9uID0gU3BlZWNoUmVjb2duaXRpb24gfHwgd2Via2l0U3BlZWNoUmVjb2duaXRpb247XG52YXIgU3BlZWNoR3JhbW1hckxpc3QgPSBTcGVlY2hHcmFtbWFyTGlzdCB8fCB3ZWJraXRTcGVlY2hHcmFtbWFyTGlzdDtcbnZhciBTcGVlY2hSZWNvZ25pdGlvbkV2ZW50ID0gU3BlZWNoUmVjb2duaXRpb25FdmVudCB8fCB3ZWJraXRTcGVlY2hSZWNvZ25pdGlvbkV2ZW50O1xudmFyIEF1ZGlvQ29udGV4dCA9IHdpbmRvdy5BdWRpb0NvbnRleHQgfHwgd2luZG93LndlYmtpdEF1ZGlvQ29udGV4dDtcblxudmFyIGF1ZGlvQ3R4ID0gdm9pZCAwLFxuICAgIHJlY29nbml0aW9uID0gdm9pZCAwO1xudmFyIHRyYW5zY3JpcHQgPSBcIlwiO1xudmFyIGF1ZGlvQ2h1bmtzID0gW107XG5cbnZhciAkdGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmaWVsZCcpO1xudmFyICRyZWNvcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVjb3JkJyk7XG52YXIgJGF1ZGlvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2F1ZGlvX2NvbnRyb2xzJyk7XG52YXIgJHN0b3AgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RvcCcpO1xuXG52YXIgYXVkaW9Tb3VyY2VzID0gW10sXG4gICAgcGl0Y2hTaGlmdGVyUHJvY2Vzc29yID0gdm9pZCAwO1xuXG52YXIgYXVkaW9Tb3VyY2VJbmRleCA9IDAsXG4gICAgYXVkaW9WaXN1YWxpc2F0aW9uSW5kZXggPSAwLFxuICAgIHZhbGlkR3JhblNpemVzID0gWzI1NiwgNTEyLCAxMDI0LCAyMDQ4LCA0MDk2LCA4MTkyXSxcbiAgICBncmFpblNpemUgPSB2YWxpZEdyYW5TaXplc1syXSxcbiAgICBwaXRjaFJhdGlvID0gMS4wLFxuICAgIG92ZXJsYXBSYXRpbyA9IDAuNTA7XG5cbnZhciBpZCA9IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9zaG9ydGlkX19fZGVmYXVsdC5hLmdlbmVyYXRlKCk7XG5cbnZhciBBdWRpbyA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gQXVkaW8oKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBdWRpbyk7XG5cbiAgICB0aGlzLmlkID0gaWQ7XG4gICAgLy8gaGFuZGxlIFNwZWVjaFJlY29nbml0aW9uXG4gICAgcmVjb2duaXRpb24gPSBuZXcgU3BlZWNoUmVjb2duaXRpb24oKTtcbiAgICB0aGlzLnNwZWVjaFNldHRpbmdzKCk7XG5cbiAgICByZWNvZ25pdGlvbi5vbnJlc3VsdCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgcmV0dXJuIF90aGlzLmdvdFJlc3VsdChldmVudCk7XG4gICAgfTtcbiAgICByZWNvZ25pdGlvbi5vbnNwZWVjaGVuZCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICByZXR1cm4gX3RoaXMub25TcGVlY2hFbmQoZSk7XG4gICAgfTtcbiAgICAkdGV4dC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF90aGlzLnR4dCA9ICR0ZXh0LnZhbHVlO1xuICAgIH0pO1xuXG4gICAgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoeyBhdWRpbzogdHJ1ZSB9KS50aGVuKGZ1bmN0aW9uIChzdHJlYW0pIHtcbiAgICAgIF90aGlzLm1lZGlhUmVjb3JkZXIgPSBuZXcgTWVkaWFSZWNvcmRlcihzdHJlYW0pO1xuXG4gICAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tU3RhcnQgUmVjb3JkaW5nLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuICAgICAgJHJlY29yZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMubWVkaWFSZWNvcmRlci5zdGFydCgpO1xuICAgICAgICByZWNvZ25pdGlvbi5zdGFydCgpO1xuICAgICAgICAkcmVjb3JkLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIH0pO1xuICAgICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgICAgX3RoaXMubWVkaWFSZWNvcmRlci5hZGRFdmVudExpc3RlbmVyKCdkYXRhYXZhaWxhYmxlJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgcmV0dXJuIGF1ZGlvQ2h1bmtzLnB1c2goZS5kYXRhKTtcbiAgICAgIH0pOyAvLyBhZGQgYXVkaW9jaHVuayB0byBhcnJheVxuXG4gICAgICAvLyB3aGVuIG1lZGlhUmVjb3JkZXIgc3RvcHMsIG1ha2UgYW5kIGhhbmRsZSBhdWRpbyBibG9iXG4gICAgICBfdGhpcy5tZWRpYVJlY29yZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ3N0b3AnLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgLy8gZ2l2ZSBsaW5rIHRvIGF1ZGlvIGNvbnRyb2xzIHRvIHBsYXkgYW5kIGNvbnRyb2wgdGhlIHNvdW5kXG4gICAgICAgIF90aGlzLmJsb2IgPSBuZXcgQmxvYihhdWRpb0NodW5rcywgeyB0eXBlOiAnYXVkaW8vb2dnJyB9KTsgLy8gY3JlYXRlIGJsb2IgZnJvbSBhdWRpb2NodW5rc1xuICAgICAgICAvLyBjb25zdCBibG9iVXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTCh0aGlzLmJsb2IpOyAvLyBtYWtlIHVybCBmcm9tIGJsb2Igc3RyZWFtXG4gICAgICAgIC8vICRhdWRpby5zcmMgPSBibG9iVXJsO1xuXG4gICAgICAgIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fbGliX3NvdW5kQVBJX19bXCJhXCIgLyogZGVmYXVsdCAqL10uY3JlYXRlKHtcbiAgICAgICAgICBpZDogX3RoaXMuaWQsXG4gICAgICAgICAgYmxvYjogX3RoaXMuYmxvYlxuICAgICAgICB9KTtcblxuICAgICAgICBhdWRpb0N0eCA9IG5ldyBBdWRpb0NvbnRleHQoKTtcblxuICAgICAgICAvLyBjb25zdCBzb3VyY2UgPSBhdWRpb0N0eC5jcmVhdGVNZWRpYUVsZW1lbnRTb3VyY2UoJGF1ZGlvKTsgLy8gZ2V0IGF1ZGlvIGZyb21cblxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YXIgYnVmZmVyTG9hZGVyID0gbmV3IEJ1ZmZlckxvYWRlcihhdWRpb0N0eCwgWycuL3VwbG9hZHMvJyArIF90aGlzLmlkICsgJy5vZ2cnXSwgZnVuY3Rpb24gKGJ1ZmZlckxpc3QpIHtcblxuICAgICAgICAgICAgdmFyIGxvb3AgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBzb3VyY2UgPSB2b2lkIDA7XG5cbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXBlYXQnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgbG9vcCA9ICFsb29wO1xuICAgICAgICAgICAgICBzb3VyY2Uuc3RvcCgpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHZhciAkcGl0Y2ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGl0Y2gnKTtcbiAgICAgICAgICAgICRwaXRjaC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHBpdGNoUmF0aW8gPSBwYXJzZUZsb2F0KCRwaXRjaC52YWx1ZSk7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKHBpdGNoUmF0aW8pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICRhdWRpby5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgc291cmNlID0gJyc7XG4gICAgICAgICAgICAgIHNvdXJjZSA9IGF1ZGlvQ3R4LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpO1xuICAgICAgICAgICAgICBzb3VyY2UuYnVmZmVyID0gYnVmZmVyTGlzdFswXTtcblxuICAgICAgICAgICAgICAvLyBzb3VyY2UuY29ubmVjdChhdWRpb0N0eC5kZXN0aW5hdGlvbilcblxuICAgICAgICAgICAgICBzb3VyY2UuY29ubmVjdChwaXRjaFNoaWZ0ZXJQcm9jZXNzb3IpO1xuICAgICAgICAgICAgICBzb3VyY2UubG9vcCA9IGxvb3A7XG4gICAgICAgICAgICAgIHNvdXJjZS5zdGFydCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBidWZmZXJMb2FkZXIubG9hZCgpO1xuICAgICAgICAgIF90aGlzLmluaXRQcm9jZXNzb3IoKTtcbiAgICAgICAgICAvLyB0aGlzLmluaXRTbGlkZXJzKCk7XG4gICAgICAgIH0sIDEwMDApO1xuXG4gICAgICAgIHZhciBvdmVybGFwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ292ZXJsYXAnKTtcbiAgICAgICAgb3ZlcmxhcC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgb3ZlcmxhcFJhdGlvID0gb3ZlcmxhcC52YWx1ZTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhvdmVybGFwLnZhbHVlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgYXVkaW9DaHVua3MgPSBbXTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEF1ZGlvLCBbe1xuICAgIGtleTogJ29uU3BlZWNoRW5kJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25TcGVlY2hFbmQoZSkge1xuICAgICAgdGhpcy5tZWRpYVJlY29yZGVyLnN0b3AoKTtcbiAgICAgIHJlY29nbml0aW9uLnN0b3AoKTtcbiAgICAgICRyZWNvcmQuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICRyZWNvcmQudGV4dENvbnRlbnQgPSAnV2FudCB0byB0cnkgYWdhaW4/JztcbiAgICAgIHRoaXMudHh0ID0gJHRleHQudmFsdWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ290UmVzdWx0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ290UmVzdWx0KGV2ZW50KSB7XG4gICAgICB2YXIgbGFzdCA9IGV2ZW50LnJlc3VsdHMubGVuZ3RoIC0gMTtcbiAgICAgIHRyYW5zY3JpcHQgPSBldmVudC5yZXN1bHRzW2xhc3RdWzBdLnRyYW5zY3JpcHQ7XG4gICAgICAkdGV4dC52YWx1ZSA9IHRyYW5zY3JpcHQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnc3BlZWNoU2V0dGluZ3MnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzcGVlY2hTZXR0aW5ncygpIHtcbiAgICAgIHJlY29nbml0aW9uLmNvbnRpbnVvdXMgPSBmYWxzZTtcbiAgICAgIHJlY29nbml0aW9uLmxhbmcgPSAnbmwtQkUnO1xuICAgICAgcmVjb2duaXRpb24uaW50ZXJpbVJlc3VsdHMgPSBmYWxzZTtcbiAgICAgIHJlY29nbml0aW9uLm1heEFsdGVybmF0aXZlcyA9IDE7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnaW5pdFByb2Nlc3NvcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRQcm9jZXNzb3IoKSB7XG5cbiAgICAgIHZhciBsaW5lYXJJbnRlcnBvbGF0aW9uID0gZnVuY3Rpb24gbGluZWFySW50ZXJwb2xhdGlvbihhLCBiLCB0KSB7XG4gICAgICAgIHJldHVybiBhICsgKGIgLSBhKSAqIHQ7XG4gICAgICB9O1xuXG4gICAgICBpZiAocGl0Y2hTaGlmdGVyUHJvY2Vzc29yKSB7XG4gICAgICAgIHBpdGNoU2hpZnRlclByb2Nlc3Nvci5kaXNjb25uZWN0KCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChhdWRpb0N0eC5jcmVhdGVTY3JpcHRQcm9jZXNzb3IpIHtcbiAgICAgICAgcGl0Y2hTaGlmdGVyUHJvY2Vzc29yID0gYXVkaW9DdHguY3JlYXRlU2NyaXB0UHJvY2Vzc29yKGdyYWluU2l6ZSwgMSwgMSk7XG4gICAgICB9IGVsc2UgaWYgKGF1ZGlvQ3R4LmNyZWF0ZUphdmFTY3JpcHROb2RlKSB7XG4gICAgICAgIHBpdGNoU2hpZnRlclByb2Nlc3NvciA9IGF1ZGlvQ3R4LmNyZWF0ZUphdmFTY3JpcHROb2RlKGdyYWluU2l6ZSwgMSwgMSk7XG4gICAgICB9XG5cbiAgICAgIHBpdGNoU2hpZnRlclByb2Nlc3Nvci5idWZmZXIgPSBuZXcgRmxvYXQzMkFycmF5KGdyYWluU2l6ZSAqIDIpO1xuICAgICAgcGl0Y2hTaGlmdGVyUHJvY2Vzc29yLmdyYWluV2luZG93ID0gdGhpcy5oYW5uV2luZG93KGdyYWluU2l6ZSk7XG5cbiAgICAgIHBpdGNoU2hpZnRlclByb2Nlc3Nvci5vbmF1ZGlvcHJvY2VzcyA9IGZ1bmN0aW9uIChldmVudCkge1xuXG4gICAgICAgIHZhciBpbnB1dERhdGEgPSBldmVudC5pbnB1dEJ1ZmZlci5nZXRDaGFubmVsRGF0YSgwKTtcbiAgICAgICAgdmFyIG91dHB1dERhdGEgPSBldmVudC5vdXRwdXRCdWZmZXIuZ2V0Q2hhbm5lbERhdGEoMCk7XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGlucHV0RGF0YS5sZW5ndGg7IGkrKykge1xuXG4gICAgICAgICAgLy8gQXBwbHkgdGhlIHdpbmRvdyB0byB0aGUgaW5wdXQgYnVmZmVyXG4gICAgICAgICAgaW5wdXREYXRhW2ldICo9IHRoaXMuZ3JhaW5XaW5kb3dbaV07XG5cbiAgICAgICAgICAvLyBTaGlmdCBoYWxmIG9mIHRoZSBidWZmZXJcbiAgICAgICAgICB0aGlzLmJ1ZmZlcltpXSA9IHRoaXMuYnVmZmVyW2kgKyBncmFpblNpemVdO1xuXG4gICAgICAgICAgLy8gRW1wdHkgdGhlIGJ1ZmZlciB0YWlsXG4gICAgICAgICAgdGhpcy5idWZmZXJbaSArIGdyYWluU2l6ZV0gPSAwLjA7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDYWxjdWxhdGUgdGhlIHBpdGNoIHNoaWZ0ZWQgZ3JhaW4gcmUtc2FtcGxpbmcgYW5kIGxvb3BpbmcgdGhlIGlucHV0XG4gICAgICAgIHZhciBncmFpbkRhdGEgPSBuZXcgRmxvYXQzMkFycmF5KGdyYWluU2l6ZSAqIDIpO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaiA9IDAuMDsgaSA8IGdyYWluU2l6ZTsgaSsrLCBqICs9IHBpdGNoUmF0aW8pIHtcblxuICAgICAgICAgIHZhciBpbmRleCA9IE1hdGguZmxvb3IoaikgJSBncmFpblNpemU7XG4gICAgICAgICAgdmFyIGEgPSBpbnB1dERhdGFbaW5kZXhdO1xuICAgICAgICAgIHZhciBiID0gaW5wdXREYXRhWyhpbmRleCArIDEpICUgZ3JhaW5TaXplXTtcbiAgICAgICAgICBncmFpbkRhdGFbaV0gKz0gbGluZWFySW50ZXJwb2xhdGlvbihhLCBiLCBqICUgMS4wKSAqIHRoaXMuZ3JhaW5XaW5kb3dbaV07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDb3B5IHRoZSBncmFpbiBtdWx0aXBsZSB0aW1lcyBvdmVybGFwcGluZyBpdFxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZ3JhaW5TaXplOyBpICs9IE1hdGgucm91bmQoZ3JhaW5TaXplICogKDEgLSBvdmVybGFwUmF0aW8pKSkge1xuICAgICAgICAgIGZvciAoaiA9IDA7IGogPD0gZ3JhaW5TaXplOyBqKyspIHtcbiAgICAgICAgICAgIHRoaXMuYnVmZmVyW2kgKyBqXSArPSBncmFpbkRhdGFbal07XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gT3V0cHV0IHRoZSBmaXJzdCBoYWxmIG9mIHRoZSBidWZmZXJcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGdyYWluU2l6ZTsgaSsrKSB7XG4gICAgICAgICAgb3V0cHV0RGF0YVtpXSA9IHRoaXMuYnVmZmVyW2ldO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBwaXRjaFNoaWZ0ZXJQcm9jZXNzb3IuY29ubmVjdChhdWRpb0N0eC5kZXN0aW5hdGlvbik7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnaGFubldpbmRvdycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhhbm5XaW5kb3cobGVuZ3RoKSB7XG4gICAgICB2YXIgd2luZG93ID0gbmV3IEZsb2F0MzJBcnJheShsZW5ndGgpO1xuICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGxlbmd0aDsgX2krKykge1xuICAgICAgICB3aW5kb3dbX2ldID0gMC41ICogKDEgLSBNYXRoLmNvcygyICogTWF0aC5QSSAqIF9pIC8gKGxlbmd0aCAtIDEpKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gd2luZG93O1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBBdWRpbztcbn0oKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IChBdWRpbyk7XG47XG5cbi8qKiovIH0pLFxuLyogMTAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19saWJfQ2FydEFQSV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNCk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX3Nob3J0aWRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9zaG9ydGlkX19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfc2hvcnRpZF9fKTtcblxuXG52YXIgbmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduYW1lX2lucHV0Jyk7XG52YXIgbGluayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy51bmlxdWVfbGluaycpO1xuXG52YXIgaGFuZGxlU2F2ZSA9IGZ1bmN0aW9uIGhhbmRsZVNhdmUoX3JlZikge1xuICB2YXIgdGV4dCA9IF9yZWYudGV4dCxcbiAgICAgIGlkID0gX3JlZi5pZDtcblxuXG4gIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fbGliX0NhcnRBUElfX1tcImFcIiAvKiBkZWZhdWx0ICovXS5jcmVhdGUoe1xuICAgIHRleHQ6IHRleHQsXG4gICAgaWQ6IGlkLFxuICAgIG5hbWU6IG5hbWUudmFsdWVcbiAgfSk7XG5cbiAgbGluay5pbm5lckhUTUwgPSAnaHR0cHM6Ly9sb2NhbGhvc3Q6ODA4MC9zYW50YS5odG1sP2lkPScgKyBpZDtcbiAgbGluay5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCAnaHR0cHM6Ly9sb2NhbGhvc3Q6ODA4MC9zYW50YS5odG1sP2lkPScgKyBpZCk7XG4gIGxpbmsuc2V0QXR0cmlidXRlKCd0YXJnZXQnLCAnX2JsYW5rJyk7XG59O1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gKGhhbmRsZVNhdmUpO1xuXG4vKioqLyB9KSxcbi8qIDExICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5tb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xuXG5cbi8qKiovIH0pLFxuLyogMTIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIGFscGhhYmV0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcbnZhciBlbmNvZGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xudmFyIGRlY29kZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpO1xudmFyIGJ1aWxkID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNik7XG52YXIgaXNWYWxpZCA9IF9fd2VicGFja19yZXF1aXJlX18oMTcpO1xuXG4vLyBpZiB5b3UgYXJlIHVzaW5nIGNsdXN0ZXIgb3IgbXVsdGlwbGUgc2VydmVycyB1c2UgdGhpcyB0byBtYWtlIGVhY2ggaW5zdGFuY2Vcbi8vIGhhcyBhIHVuaXF1ZSB2YWx1ZSBmb3Igd29ya2VyXG4vLyBOb3RlOiBJIGRvbid0IGtub3cgaWYgdGhpcyBpcyBhdXRvbWF0aWNhbGx5IHNldCB3aGVuIHVzaW5nIHRoaXJkXG4vLyBwYXJ0eSBjbHVzdGVyIHNvbHV0aW9ucyBzdWNoIGFzIHBtMi5cbnZhciBjbHVzdGVyV29ya2VySWQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KSB8fCAwO1xuXG4vKipcbiAqIFNldCB0aGUgc2VlZC5cbiAqIEhpZ2hseSByZWNvbW1lbmRlZCBpZiB5b3UgZG9uJ3Qgd2FudCBwZW9wbGUgdG8gdHJ5IHRvIGZpZ3VyZSBvdXQgeW91ciBpZCBzY2hlbWEuXG4gKiBleHBvc2VkIGFzIHNob3J0aWQuc2VlZChpbnQpXG4gKiBAcGFyYW0gc2VlZCBJbnRlZ2VyIHZhbHVlIHRvIHNlZWQgdGhlIHJhbmRvbSBhbHBoYWJldC4gIEFMV0FZUyBVU0UgVEhFIFNBTUUgU0VFRCBvciB5b3UgbWlnaHQgZ2V0IG92ZXJsYXBzLlxuICovXG5mdW5jdGlvbiBzZWVkKHNlZWRWYWx1ZSkge1xuICAgIGFscGhhYmV0LnNlZWQoc2VlZFZhbHVlKTtcbiAgICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbi8qKlxuICogU2V0IHRoZSBjbHVzdGVyIHdvcmtlciBvciBtYWNoaW5lIGlkXG4gKiBleHBvc2VkIGFzIHNob3J0aWQud29ya2VyKGludClcbiAqIEBwYXJhbSB3b3JrZXJJZCB3b3JrZXIgbXVzdCBiZSBwb3NpdGl2ZSBpbnRlZ2VyLiAgTnVtYmVyIGxlc3MgdGhhbiAxNiBpcyByZWNvbW1lbmRlZC5cbiAqIHJldHVybnMgc2hvcnRpZCBtb2R1bGUgc28gaXQgY2FuIGJlIGNoYWluZWQuXG4gKi9cbmZ1bmN0aW9uIHdvcmtlcih3b3JrZXJJZCkge1xuICAgIGNsdXN0ZXJXb3JrZXJJZCA9IHdvcmtlcklkO1xuICAgIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuLyoqXG4gKlxuICogc2V0cyBuZXcgY2hhcmFjdGVycyB0byB1c2UgaW4gdGhlIGFscGhhYmV0XG4gKiByZXR1cm5zIHRoZSBzaHVmZmxlZCBhbHBoYWJldFxuICovXG5mdW5jdGlvbiBjaGFyYWN0ZXJzKG5ld0NoYXJhY3RlcnMpIHtcbiAgICBpZiAobmV3Q2hhcmFjdGVycyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGFscGhhYmV0LmNoYXJhY3RlcnMobmV3Q2hhcmFjdGVycyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFscGhhYmV0LnNodWZmbGVkKCk7XG59XG5cbi8qKlxuICogR2VuZXJhdGUgdW5pcXVlIGlkXG4gKiBSZXR1cm5zIHN0cmluZyBpZFxuICovXG5mdW5jdGlvbiBnZW5lcmF0ZSgpIHtcbiAgcmV0dXJuIGJ1aWxkKGNsdXN0ZXJXb3JrZXJJZCk7XG59XG5cbi8vIEV4cG9ydCBhbGwgb3RoZXIgZnVuY3Rpb25zIGFzIHByb3BlcnRpZXMgb2YgdGhlIGdlbmVyYXRlIGZ1bmN0aW9uXG5tb2R1bGUuZXhwb3J0cyA9IGdlbmVyYXRlO1xubW9kdWxlLmV4cG9ydHMuZ2VuZXJhdGUgPSBnZW5lcmF0ZTtcbm1vZHVsZS5leHBvcnRzLnNlZWQgPSBzZWVkO1xubW9kdWxlLmV4cG9ydHMud29ya2VyID0gd29ya2VyO1xubW9kdWxlLmV4cG9ydHMuY2hhcmFjdGVycyA9IGNoYXJhY3RlcnM7XG5tb2R1bGUuZXhwb3J0cy5kZWNvZGUgPSBkZWNvZGU7XG5tb2R1bGUuZXhwb3J0cy5pc1ZhbGlkID0gaXNWYWxpZDtcblxuXG4vKioqLyB9KSxcbi8qIDEzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbi8vIEZvdW5kIHRoaXMgc2VlZC1iYXNlZCByYW5kb20gZ2VuZXJhdG9yIHNvbWV3aGVyZVxuLy8gQmFzZWQgb24gVGhlIENlbnRyYWwgUmFuZG9taXplciAxLjMgKEMpIDE5OTcgYnkgUGF1bCBIb3VsZSAoaG91bGVAbXNjLmNvcm5lbGwuZWR1KVxuXG52YXIgc2VlZCA9IDE7XG5cbi8qKlxuICogcmV0dXJuIGEgcmFuZG9tIG51bWJlciBiYXNlZCBvbiBhIHNlZWRcbiAqIEBwYXJhbSBzZWVkXG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5mdW5jdGlvbiBnZXROZXh0VmFsdWUoKSB7XG4gICAgc2VlZCA9IChzZWVkICogOTMwMSArIDQ5Mjk3KSAlIDIzMzI4MDtcbiAgICByZXR1cm4gc2VlZC8oMjMzMjgwLjApO1xufVxuXG5mdW5jdGlvbiBzZXRTZWVkKF9zZWVkXykge1xuICAgIHNlZWQgPSBfc2VlZF87XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIG5leHRWYWx1ZTogZ2V0TmV4dFZhbHVlLFxuICAgIHNlZWQ6IHNldFNlZWRcbn07XG5cblxuLyoqKi8gfSksXG4vKiAxNCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgY3J5cHRvID0gdHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcgJiYgKHdpbmRvdy5jcnlwdG8gfHwgd2luZG93Lm1zQ3J5cHRvKTsgLy8gSUUgMTEgdXNlcyB3aW5kb3cubXNDcnlwdG9cblxuZnVuY3Rpb24gcmFuZG9tQnl0ZSgpIHtcbiAgICBpZiAoIWNyeXB0byB8fCAhY3J5cHRvLmdldFJhbmRvbVZhbHVlcykge1xuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMjU2KSAmIDB4MzA7XG4gICAgfVxuICAgIHZhciBkZXN0ID0gbmV3IFVpbnQ4QXJyYXkoMSk7XG4gICAgY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhkZXN0KTtcbiAgICByZXR1cm4gZGVzdFswXSAmIDB4MzA7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gcmFuZG9tQnl0ZTtcblxuXG4vKioqLyB9KSxcbi8qIDE1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG52YXIgYWxwaGFiZXQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG4vKipcbiAqIERlY29kZSB0aGUgaWQgdG8gZ2V0IHRoZSB2ZXJzaW9uIGFuZCB3b3JrZXJcbiAqIE1haW5seSBmb3IgZGVidWdnaW5nIGFuZCB0ZXN0aW5nLlxuICogQHBhcmFtIGlkIC0gdGhlIHNob3J0aWQtZ2VuZXJhdGVkIGlkLlxuICovXG5mdW5jdGlvbiBkZWNvZGUoaWQpIHtcbiAgICB2YXIgY2hhcmFjdGVycyA9IGFscGhhYmV0LnNodWZmbGVkKCk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdmVyc2lvbjogY2hhcmFjdGVycy5pbmRleE9mKGlkLnN1YnN0cigwLCAxKSkgJiAweDBmLFxuICAgICAgICB3b3JrZXI6IGNoYXJhY3RlcnMuaW5kZXhPZihpZC5zdWJzdHIoMSwgMSkpICYgMHgwZlxuICAgIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZGVjb2RlO1xuXG5cbi8qKiovIH0pLFxuLyogMTYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIGVuY29kZSA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG52YXIgYWxwaGFiZXQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG4vLyBJZ25vcmUgYWxsIG1pbGxpc2Vjb25kcyBiZWZvcmUgYSBjZXJ0YWluIHRpbWUgdG8gcmVkdWNlIHRoZSBzaXplIG9mIHRoZSBkYXRlIGVudHJvcHkgd2l0aG91dCBzYWNyaWZpY2luZyB1bmlxdWVuZXNzLlxuLy8gVGhpcyBudW1iZXIgc2hvdWxkIGJlIHVwZGF0ZWQgZXZlcnkgeWVhciBvciBzbyB0byBrZWVwIHRoZSBnZW5lcmF0ZWQgaWQgc2hvcnQuXG4vLyBUbyByZWdlbmVyYXRlIGBuZXcgRGF0ZSgpIC0gMGAgYW5kIGJ1bXAgdGhlIHZlcnNpb24uIEFsd2F5cyBidW1wIHRoZSB2ZXJzaW9uIVxudmFyIFJFRFVDRV9USU1FID0gMTQ1OTcwNzYwNjUxODtcblxuLy8gZG9uJ3QgY2hhbmdlIHVubGVzcyB3ZSBjaGFuZ2UgdGhlIGFsZ29zIG9yIFJFRFVDRV9USU1FXG4vLyBtdXN0IGJlIGFuIGludGVnZXIgYW5kIGxlc3MgdGhhbiAxNlxudmFyIHZlcnNpb24gPSA2O1xuXG4vLyBDb3VudGVyIGlzIHVzZWQgd2hlbiBzaG9ydGlkIGlzIGNhbGxlZCBtdWx0aXBsZSB0aW1lcyBpbiBvbmUgc2Vjb25kLlxudmFyIGNvdW50ZXI7XG5cbi8vIFJlbWVtYmVyIHRoZSBsYXN0IHRpbWUgc2hvcnRpZCB3YXMgY2FsbGVkIGluIGNhc2UgY291bnRlciBpcyBuZWVkZWQuXG52YXIgcHJldmlvdXNTZWNvbmRzO1xuXG4vKipcbiAqIEdlbmVyYXRlIHVuaXF1ZSBpZFxuICogUmV0dXJucyBzdHJpbmcgaWRcbiAqL1xuZnVuY3Rpb24gYnVpbGQoY2x1c3RlcldvcmtlcklkKSB7XG5cbiAgICB2YXIgc3RyID0gJyc7XG5cbiAgICB2YXIgc2Vjb25kcyA9IE1hdGguZmxvb3IoKERhdGUubm93KCkgLSBSRURVQ0VfVElNRSkgKiAwLjAwMSk7XG5cbiAgICBpZiAoc2Vjb25kcyA9PT0gcHJldmlvdXNTZWNvbmRzKSB7XG4gICAgICAgIGNvdW50ZXIrKztcbiAgICB9IGVsc2Uge1xuICAgICAgICBjb3VudGVyID0gMDtcbiAgICAgICAgcHJldmlvdXNTZWNvbmRzID0gc2Vjb25kcztcbiAgICB9XG5cbiAgICBzdHIgPSBzdHIgKyBlbmNvZGUoYWxwaGFiZXQubG9va3VwLCB2ZXJzaW9uKTtcbiAgICBzdHIgPSBzdHIgKyBlbmNvZGUoYWxwaGFiZXQubG9va3VwLCBjbHVzdGVyV29ya2VySWQpO1xuICAgIGlmIChjb3VudGVyID4gMCkge1xuICAgICAgICBzdHIgPSBzdHIgKyBlbmNvZGUoYWxwaGFiZXQubG9va3VwLCBjb3VudGVyKTtcbiAgICB9XG4gICAgc3RyID0gc3RyICsgZW5jb2RlKGFscGhhYmV0Lmxvb2t1cCwgc2Vjb25kcyk7XG5cbiAgICByZXR1cm4gc3RyO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJ1aWxkO1xuXG5cbi8qKiovIH0pLFxuLyogMTcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBhbHBoYWJldCA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbmZ1bmN0aW9uIGlzU2hvcnRJZChpZCkge1xuICAgIGlmICghaWQgfHwgdHlwZW9mIGlkICE9PSAnc3RyaW5nJyB8fCBpZC5sZW5ndGggPCA2ICkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIGNoYXJhY3RlcnMgPSBhbHBoYWJldC5jaGFyYWN0ZXJzKCk7XG4gICAgdmFyIGxlbiA9IGlkLmxlbmd0aDtcbiAgICBmb3IodmFyIGkgPSAwOyBpIDwgbGVuO2krKykge1xuICAgICAgICBpZiAoY2hhcmFjdGVycy5pbmRleE9mKGlkW2ldKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc1Nob3J0SWQ7XG5cblxuLyoqKi8gfSksXG4vKiAxOCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IDA7XG5cblxuLyoqKi8gfSksXG4vKiAxOSAqLyxcbi8qIDIwICovLFxuLyogMjEgKi8sXG4vKiAyMiAqLyxcbi8qIDIzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9pc29tb3JwaGljX2ZldGNoX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9pc29tb3JwaGljX2ZldGNoX19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfaXNvbW9ycGhpY19mZXRjaF9fKTtcblxuXG52YXIgdXJsID0gJy9hcGkvc291bmQnO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gKHtcblxuICBjcmVhdGU6IGZ1bmN0aW9uIGNyZWF0ZShfcmVmKSB7XG4gICAgdmFyIGlkID0gX3JlZi5pZCxcbiAgICAgICAgYmxvYiA9IF9yZWYuYmxvYjtcblxuICAgIHZhciBtZXRob2QgPSAnUE9TVCc7XG4gICAgdmFyIG5ld0ZpbGVOYW1lID0gJycgKyBpZC5zcGxpdCgnICcpLmpvaW4oJ18nKTtcbiAgICB2YXIgYm9keSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgIGJvZHkuYXBwZW5kKCdpZCcsIGlkKTtcbiAgICBib2R5LmFwcGVuZCgnc291bmQnLCBibG9iLCBuZXdGaWxlTmFtZSk7XG5cbiAgICByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX2lzb21vcnBoaWNfZmV0Y2hfX19kZWZhdWx0KCkodXJsLCB7IG1ldGhvZDogbWV0aG9kLCBib2R5OiBib2R5IH0pLnRoZW4oZnVuY3Rpb24gKHIpIHtcbiAgICAgIHJldHVybiByLmpzb24oKTtcbiAgICB9KTtcbiAgfSxcblxuICByZWFkOiBmdW5jdGlvbiByZWFkKCkge1xuICAgIHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfaXNvbW9ycGhpY19mZXRjaF9fX2RlZmF1bHQoKSh1cmwgKyAnP2lzQWN0aXZlPXRydWUnKS50aGVuKGZ1bmN0aW9uIChyKSB7XG4gICAgICByZXR1cm4gci5qc29uKCk7XG4gICAgfSk7XG4gIH0sXG5cbiAgcmVhZE9uZTogZnVuY3Rpb24gcmVhZE9uZShpZCkge1xuICAgIHZhciBtZXRob2QgPSAnR0VUJztcbiAgICByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX2lzb21vcnBoaWNfZmV0Y2hfX19kZWZhdWx0KCkodXJsICsgJy8nICsgaWQsIHsgbWV0aG9kOiBtZXRob2QgfSkudGhlbihmdW5jdGlvbiAocikge1xuICAgICAgcmV0dXJuIHIuanNvbigpO1xuICAgIH0pO1xuICB9XG59KTtcblxuLyoqKi8gfSksXG4vKiAyNCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfaXNvbW9ycGhpY19mZXRjaF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfaXNvbW9ycGhpY19mZXRjaF9fX2RlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX2lzb21vcnBoaWNfZmV0Y2hfXyk7XG5cblxudmFyIHVybCA9ICcvYXBpL2NhcnQnO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gKHtcblxuICBjcmVhdGU6IGZ1bmN0aW9uIGNyZWF0ZShfcmVmKSB7XG4gICAgdmFyIHRleHQgPSBfcmVmLnRleHQsXG4gICAgICAgIGlkID0gX3JlZi5pZCxcbiAgICAgICAgbmFtZSA9IF9yZWYubmFtZSxcbiAgICAgICAgYmxvYiA9IF9yZWYuYmxvYjtcblxuICAgIHZhciBtZXRob2QgPSAnUE9TVCc7XG4gICAgLy8gY29uc3QgbmV3RmlsZU5hbWUgPSBgJHtpZC5zcGxpdChgIGApLmpvaW4oYF9gKX1gO1xuICAgIHZhciBib2R5ID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgYm9keS5hcHBlbmQoJ3RleHQnLCB0ZXh0KTtcbiAgICBib2R5LmFwcGVuZCgnaWQnLCBpZCk7XG4gICAgYm9keS5hcHBlbmQoJ25hbWUnLCBuYW1lKTtcbiAgICAvLyBib2R5LmFwcGVuZChgc291bmRgLCBibG9iLCBuZXdGaWxlTmFtZSk7XG5cbiAgICByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX2lzb21vcnBoaWNfZmV0Y2hfX19kZWZhdWx0KCkodXJsLCB7IG1ldGhvZDogbWV0aG9kLCBib2R5OiBib2R5IH0pLnRoZW4oZnVuY3Rpb24gKHIpIHtcbiAgICAgIHJldHVybiByLmpzb24oKTtcbiAgICB9KTtcbiAgfSxcblxuICByZWFkOiBmdW5jdGlvbiByZWFkKCkge1xuICAgIHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfaXNvbW9ycGhpY19mZXRjaF9fX2RlZmF1bHQoKSh1cmwgKyAnP2lzQWN0aXZlPXRydWUnKS50aGVuKGZ1bmN0aW9uIChyKSB7XG4gICAgICByZXR1cm4gci5qc29uKCk7XG4gICAgfSk7XG4gIH0sXG5cbiAgcmVhZE9uZTogZnVuY3Rpb24gcmVhZE9uZShpZCkge1xuICAgIHZhciBtZXRob2QgPSAnR0VUJztcbiAgICByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX2lzb21vcnBoaWNfZmV0Y2hfX19kZWZhdWx0KCkodXJsICsgJy8nICsgaWQsIHsgbWV0aG9kOiBtZXRob2QgfSkudGhlbihmdW5jdGlvbiAocikge1xuICAgICAgcmV0dXJuIHIuanNvbigpO1xuICAgIH0pO1xuICB9XG59KTtcblxuLyoqKi8gfSlcbi8qKioqKiovIF0pO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBqcy9zY3JpcHQuanMiLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbiBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbiBcdFx0XHR9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA4KTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrL2Jvb3RzdHJhcCBiOGUwOGQ2NDcwNjNiMzVlZDI5MiIsImNvbnN0IENvbG9ycyA9IHtcbiAgc2tpbjogMHhmZmUwYmQsXG4gIGZyZWNrbGVzOiAweGNmYmE5NixcbiAgd2hpdGU6IDB4ZTllYmVlLFxuICBnbGFzc2VzOiAweGY5YzQyMSxcbiAgdGVldGg6IDB4ZmZmZmZmLFxuICBibGFjazogMHgyZTJlMmUsXG4gIGV5ZTogMHg2Mjk1YTgsXG4gIGhhdDogMHg3MjAzMTRcbn07XG5leHBvcnQgZGVmYXVsdCBDb2xvcnM7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvanMvb2JqZWN0cy9jb2xvcnMuanMiLCJpbXBvcnQgZmV0Y2ggZnJvbSAnaXNvbW9ycGhpYy1mZXRjaCc7XG5cbmNvbnN0IHVybCA9IGAvYXBpL2NhcnRgO1xuXG5leHBvcnQgZGVmYXVsdCB7XG5cbiAgY3JlYXRlOiAoe3RleHQsIGlkLCBuYW1lLCBibG9ifSkgPT4ge1xuICAgIGNvbnN0IG1ldGhvZCA9IGBQT1NUYDtcbiAgICAvLyBjb25zdCBuZXdGaWxlTmFtZSA9IGAke2lkLnNwbGl0KGAgYCkuam9pbihgX2ApfWA7XG4gICAgY29uc3QgYm9keSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgIGJvZHkuYXBwZW5kKGB0ZXh0YCwgdGV4dCk7XG4gICAgYm9keS5hcHBlbmQoYGlkYCwgaWQpO1xuICAgIGJvZHkuYXBwZW5kKGBuYW1lYCwgbmFtZSk7XG4gICAgLy8gYm9keS5hcHBlbmQoYHNvdW5kYCwgYmxvYiwgbmV3RmlsZU5hbWUpO1xuXG4gICAgcmV0dXJuIGZldGNoKHVybCwge21ldGhvZCwgYm9keX0pXG4gICAgICAudGhlbihyID0+IHIuanNvbigpKTtcbiAgfSxcblxuICByZWFkOiAoKSA9PiB7XG4gICAgcmV0dXJuIGZldGNoKGAke3VybH0/aXNBY3RpdmU9dHJ1ZWApXG4gICAgICAudGhlbihyID0+IHIuanNvbigpKTtcbiAgfSxcblxuICByZWFkT25lOiBpZCA9PiB7XG4gICAgY29uc3QgbWV0aG9kID0gYEdFVGA7XG4gICAgcmV0dXJuIGZldGNoKGAke3VybH0vJHtpZH1gLCB7bWV0aG9kfSkudGhlbihyID0+IHIuanNvbigpKTtcbiAgfVxufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9qcy9saWIvY2FydEFQSS5qcyIsIid1c2Ugc3RyaWN0JztcblxudmFyIHJhbmRvbUZyb21TZWVkID0gcmVxdWlyZSgnLi9yYW5kb20vcmFuZG9tLWZyb20tc2VlZCcpO1xuXG52YXIgT1JJR0lOQUwgPSAnMDEyMzQ1Njc4OWFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVpfLSc7XG52YXIgYWxwaGFiZXQ7XG52YXIgcHJldmlvdXNTZWVkO1xuXG52YXIgc2h1ZmZsZWQ7XG5cbmZ1bmN0aW9uIHJlc2V0KCkge1xuICAgIHNodWZmbGVkID0gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIHNldENoYXJhY3RlcnMoX2FscGhhYmV0Xykge1xuICAgIGlmICghX2FscGhhYmV0Xykge1xuICAgICAgICBpZiAoYWxwaGFiZXQgIT09IE9SSUdJTkFMKSB7XG4gICAgICAgICAgICBhbHBoYWJldCA9IE9SSUdJTkFMO1xuICAgICAgICAgICAgcmVzZXQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKF9hbHBoYWJldF8gPT09IGFscGhhYmV0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoX2FscGhhYmV0Xy5sZW5ndGggIT09IE9SSUdJTkFMLmxlbmd0aCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0N1c3RvbSBhbHBoYWJldCBmb3Igc2hvcnRpZCBtdXN0IGJlICcgKyBPUklHSU5BTC5sZW5ndGggKyAnIHVuaXF1ZSBjaGFyYWN0ZXJzLiBZb3Ugc3VibWl0dGVkICcgKyBfYWxwaGFiZXRfLmxlbmd0aCArICcgY2hhcmFjdGVyczogJyArIF9hbHBoYWJldF8pO1xuICAgIH1cblxuICAgIHZhciB1bmlxdWUgPSBfYWxwaGFiZXRfLnNwbGl0KCcnKS5maWx0ZXIoZnVuY3Rpb24oaXRlbSwgaW5kLCBhcnIpe1xuICAgICAgIHJldHVybiBpbmQgIT09IGFyci5sYXN0SW5kZXhPZihpdGVtKTtcbiAgICB9KTtcblxuICAgIGlmICh1bmlxdWUubGVuZ3RoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ3VzdG9tIGFscGhhYmV0IGZvciBzaG9ydGlkIG11c3QgYmUgJyArIE9SSUdJTkFMLmxlbmd0aCArICcgdW5pcXVlIGNoYXJhY3RlcnMuIFRoZXNlIGNoYXJhY3RlcnMgd2VyZSBub3QgdW5pcXVlOiAnICsgdW5pcXVlLmpvaW4oJywgJykpO1xuICAgIH1cblxuICAgIGFscGhhYmV0ID0gX2FscGhhYmV0XztcbiAgICByZXNldCgpO1xufVxuXG5mdW5jdGlvbiBjaGFyYWN0ZXJzKF9hbHBoYWJldF8pIHtcbiAgICBzZXRDaGFyYWN0ZXJzKF9hbHBoYWJldF8pO1xuICAgIHJldHVybiBhbHBoYWJldDtcbn1cblxuZnVuY3Rpb24gc2V0U2VlZChzZWVkKSB7XG4gICAgcmFuZG9tRnJvbVNlZWQuc2VlZChzZWVkKTtcbiAgICBpZiAocHJldmlvdXNTZWVkICE9PSBzZWVkKSB7XG4gICAgICAgIHJlc2V0KCk7XG4gICAgICAgIHByZXZpb3VzU2VlZCA9IHNlZWQ7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBzaHVmZmxlKCkge1xuICAgIGlmICghYWxwaGFiZXQpIHtcbiAgICAgICAgc2V0Q2hhcmFjdGVycyhPUklHSU5BTCk7XG4gICAgfVxuXG4gICAgdmFyIHNvdXJjZUFycmF5ID0gYWxwaGFiZXQuc3BsaXQoJycpO1xuICAgIHZhciB0YXJnZXRBcnJheSA9IFtdO1xuICAgIHZhciByID0gcmFuZG9tRnJvbVNlZWQubmV4dFZhbHVlKCk7XG4gICAgdmFyIGNoYXJhY3RlckluZGV4O1xuXG4gICAgd2hpbGUgKHNvdXJjZUFycmF5Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgciA9IHJhbmRvbUZyb21TZWVkLm5leHRWYWx1ZSgpO1xuICAgICAgICBjaGFyYWN0ZXJJbmRleCA9IE1hdGguZmxvb3IociAqIHNvdXJjZUFycmF5Lmxlbmd0aCk7XG4gICAgICAgIHRhcmdldEFycmF5LnB1c2goc291cmNlQXJyYXkuc3BsaWNlKGNoYXJhY3RlckluZGV4LCAxKVswXSk7XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXRBcnJheS5qb2luKCcnKTtcbn1cblxuZnVuY3Rpb24gZ2V0U2h1ZmZsZWQoKSB7XG4gICAgaWYgKHNodWZmbGVkKSB7XG4gICAgICAgIHJldHVybiBzaHVmZmxlZDtcbiAgICB9XG4gICAgc2h1ZmZsZWQgPSBzaHVmZmxlKCk7XG4gICAgcmV0dXJuIHNodWZmbGVkO1xufVxuXG4vKipcbiAqIGxvb2t1cCBzaHVmZmxlZCBsZXR0ZXJcbiAqIEBwYXJhbSBpbmRleFxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gbG9va3VwKGluZGV4KSB7XG4gICAgdmFyIGFscGhhYmV0U2h1ZmZsZWQgPSBnZXRTaHVmZmxlZCgpO1xuICAgIHJldHVybiBhbHBoYWJldFNodWZmbGVkW2luZGV4XTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgY2hhcmFjdGVyczogY2hhcmFjdGVycyxcbiAgICBzZWVkOiBzZXRTZWVkLFxuICAgIGxvb2t1cDogbG9va3VwLFxuICAgIHNodWZmbGVkOiBnZXRTaHVmZmxlZFxufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3Nob3J0aWQvbGliL2FscGhhYmV0LmpzXG4vLyBtb2R1bGUgaWQgPSAyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImltcG9ydCBDb2xvcnMgZnJvbSAnLi4vb2JqZWN0cy9jb2xvcnMnO1xuaW1wb3J0IE1hdCBmcm9tICcuLi9vYmplY3RzL01hdGVyaWFscyc7XG5cbmxldCBpc0JsaW5raW5nID0gZmFsc2U7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEhlYWQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLm1lc2ggPSBuZXcgVEhSRUUuT2JqZWN0M0QoKTtcblxuICAgIGxldCBoZWFkR2VvbSA9IG5ldyBUSFJFRS5Cb3hCdWZmZXJHZW9tZXRyeSgxNiwgMTYsIDE2KTtcbiAgICBsZXQgc2tpbk1hdCA9IG5ldyBUSFJFRS5NZXNoTGFtYmVydE1hdGVyaWFsKHtjb2xvcjogQ29sb3JzLnNraW4sIGZsYXRTaGFkaW5nOiB0cnVlfSk7XG4gICAgbGV0IGV5ZU1hdCA9IG5ldyBUSFJFRS5NZXNoUGhvbmdNYXRlcmlhbCh7Y29sb3I6IENvbG9ycy5leWUsIGZsYXRTaGFkaW5nOiB0cnVlfSk7XG5cbiAgICB0aGlzLmhlYWQgPSBuZXcgVEhSRUUuTWVzaChoZWFkR2VvbSxza2luTWF0KTtcbiAgICB0aGlzLmhlYWQuY2FzdFNoYWRvdyA9IHRydWU7XG4gICAgdGhpcy5oZWFkLnJlY2VpdmVTaGFkb3cgPSBmYWxzZTtcbiAgICB0aGlzLm1lc2guYWRkKHRoaXMuaGVhZCk7XG5cbiAgICB0aGlzLmJlYXJkID0gbmV3IFRIUkVFLk9iamVjdDNEKCk7XG4gICAgdGhpcy5iZWFyZC5wb3NpdGlvbi55ID0gLTc7XG4gICAgdGhpcy5iZWFyZC5wb3NpdGlvbi56ID0gMC41O1xuICAgIHRoaXMuaGVhZC5hZGQodGhpcy5iZWFyZCk7XG4gICAgbGV0IHN0YXJzO1xuXG4gICAgdGhpcy5CZWFyZCgpO1xuICAgIHRoaXMuR2xhc3NlcygpO1xuICAgIHRoaXMuSGFpcigpO1xuICAgIHRoaXMuRXllcygpO1xuICAgIHRoaXMuRXllQnJvd3MoKTtcbiAgICB0aGlzLkhhdCgpO1xuICAgIHRoaXMuRnJlY2tsZXMoKTtcbiAgICB0aGlzLkZlYXR1cmVzKCk7XG4gICAgdGhpcy5pZGxlKCk7XG4vLyAgICB0aGlzLmRpenp5KCk7XG4vLyAgICB0aGlzLlN0YXIoKTtcbi8vICAgIHRoaXMuU3RhcnNHcm91cCgpO1xuICAgIHRoaXMubm9ybWFsaXplKCk7XG4gIH1cblxuICBub3JtYWxpemUodiwgdm1pbiwgdm1heCwgdG1pbiwgdG1heCkge1xuICAgIGNvbnN0IG52ID0gTWF0aC5tYXgoTWF0aC5taW4odiwgdm1heCksIHZtaW4pO1xuICAgIGNvbnN0IGR2ID0gdm1heCAtIHZtaW47XG4gICAgY29uc3QgcGMgPSAobnYgLSB2bWluKSAvIGR2O1xuICAgIGNvbnN0IGR0ID0gdG1heCAtIHRtaW47XG4gICAgY29uc3QgdHYgPSB0bWluICsgKHBjICogZHQpO1xuICAgIHJldHVybiB0djtcbiAgfVxuXG4gIC8vIFN0YXIoKSB7XG4gIC8vICAgdGhpcy5tZXNoID0gbmV3IFRIUkVFLk9iamVjdDNEKCk7XG4gIC8vXG4gIC8vICAgbGV0IHB0cyA9IFtdLFxuICAvLyAgICAgbnVtUHRzID0gNTtcbiAgLy8gICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVB0cyAqIDI7IGkrKykge1xuICAvLyAgICAgbGV0IGwgPSBpICUgMiA9PSAxXG4gIC8vICAgICAgID8gMVxuICAvLyAgICAgICA6IDI7XG4gIC8vICAgICBsZXQgYSA9IGkgLyBudW1QdHMgKiBNYXRoLlBJO1xuICAvLyAgICAgcHRzLnB1c2gobmV3IFRIUkVFLlZlY3RvcjIoTWF0aC5jb3MoYSkgKiBsLCBNYXRoLnNpbihhKSAqIGwpKTtcbiAgLy8gICB9XG4gIC8vICAgbGV0IHN0YXJTaGFwZSA9IG5ldyBUSFJFRS5TaGFwZShwdHMpO1xuICAvL1xuICAvLyAgIGxldCBleHRydWRlU2V0dGluZ3MgPSB7XG4gIC8vICAgICBhbW91bnQ6IDAuNSxcbiAgLy8gICAgIHN0ZXBzOiAxLFxuICAvLyAgICAgYmV2ZWxFbmFibGVkOiBmYWxzZVxuICAvLyAgIH07XG4gIC8vICAgbGV0IHN0YXJHZW9tID0gbmV3IFRIUkVFLkV4dHJ1ZGVHZW9tZXRyeShzdGFyU2hhcGUsIGV4dHJ1ZGVTZXR0aW5ncyk7XG4gIC8vXG4gIC8vICAgbGV0IHN0YXIgPSBuZXcgVEhSRUUuTWVzaChzdGFyR2VvbSwgTWF0LndoaXRlTWF0KTtcbiAgLy9cbiAgLy8gICBzdGFyLnJvdGF0aW9uLnggPSBNYXRoLlBJIC8gMjtcbiAgLy9cbiAgLy8gICB0aGlzLm1lc2guYWRkKHN0YXIpO1xuICAvLyB9XG5cbiAgLy8gU3RhcnNHcm91cCgpe1xuICAvLyAgIHRoaXMubWVzaCA9IG5ldyBUSFJFRS5PYmplY3QzRCgpO1xuICAvL1xuICAvLyAgIHRoaXMublN0YXJzID0gMTU7XG4gIC8vICAgY29uc3Qgc3RhckFycmF5ID0gW107XG4gIC8vICAgbGV0IHN0ZXBBbmdsZSA9IE1hdGguUEkgKiAyIC8gdGhpcy5uU3RhcnM7XG4gIC8vXG4gIC8vICAgLy8gQ3JlYXRlIHRoZSBTdGFyc1xuICAvLyAgIC8vIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5uU3RhcnM7IGkrKykge1xuICAvLyAgIC8vXG4gIC8vICAgLy8gICAvLyB0aGlzLnMgPSB0aGlzLlN0YXIoKTtcbiAgLy8gICAvLyAgIC8vIGxldCBhID0gc3RlcEFuZ2xlICogaTtcbiAgLy8gICAvLyAgIC8vIGxldCByID0gMTU7XG4gIC8vICAgLy8gICAvL1xuICAvLyAgIC8vICAgLy8gdGhpcy5zLm1lc2gucG9zaXRpb24ueSA9IE1hdGguc2luKGEpICogcjtcbiAgLy8gICAvLyAgIC8vIHRoaXMucy5tZXNoLnBvc2l0aW9uLnggPSBNYXRoLmNvcyhhKSAqIHI7XG4gIC8vICAgLy8gICAvL1xuICAvLyAgIC8vICAgLy8gdGhpcy5zLm1lc2gucm90YXRpb24ueiA9IGEgKyBNYXRoLlBJIC8gMjtcbiAgLy8gICAvLyAgIC8vIHRoaXMucy5tZXNoLnBvc2l0aW9uLnogPSAwIC0gTWF0aC5yYW5kb20oKSAqIDM7XG4gIC8vICAgLy8gICAvL1xuICAvLyAgIC8vICAgLy8gLy8gIHJhbmRvbSBzY2FsZSBmb3IgZWFjaCBjbG91ZFxuICAvLyAgIC8vICAgLy8gbGV0IHNjID0gMC41ICsgTWF0aC5yYW5kb20oKSAqIC42O1xuICAvLyAgIC8vICAgLy8gdGhpcy5zLm1lc2guc2NhbGUuc2V0KHNjLCBzYywgc2MpO1xuICAvLyAgIC8vICAgLy9cbiAgLy8gICAvLyAgIC8vIHRoaXMubWVzaC5hZGQodGhpcy5zLm1lc2gpO1xuICAvLyAgIC8vXG4gIC8vICAgLy8gICBzdGFyQXJyYXkucHVzaCh0aGlzLnMpO1xuICAvLyAgIC8vfVxuICAvLyAgIHRoaXMubWVzaC5yb3RhdGlvbi54ID0gTWF0aC5QSSAvIDI7XG4gIC8vIH1cblxuICAvLyBzcGluU2NhbGUoKSB7XG4gIC8vICAgdGhpcy5tZXNoLnJvdGF0aW9uLnogKz0gMC4wMjtcbiAgLy9cbiAgLy8gICBmb3IgKGxldCBpID0gMDsgaSA8IHN0YXJBcnJheS5sZW5ndGg7IGkrKykge1xuICAvLyAgICAgIHN0YXJBcnJheVtpXS5tZXNoLnJvdGF0aW9uLnggPSBNYXRoLnNpbihEYXRlLm5vdygpICogMC4wMSkgKiBNYXRoLlBJICogMC4xIDtcbiAgLy8gICAgIHN0YXJBcnJheVtpXS5tZXNoLnJvdGF0aW9uLnogKz0gMCAtIE1hdGgucmFuZG9tKCkgKiAwLjE1O1xuICAvLyAgICAgc3RhckFycmF5W2ldLm1lc2gucm90YXRpb24ueCArPSAwIC0gTWF0aC5yYW5kb20oKSAqIDAuMDU7XG4gIC8vXG4gIC8vICAgfVxuICAvLyB9XG5cbiAgLy8gZGl6enkoKSB7XG4gIC8vICAgdGhpcy5zdGFycyA9IHRoaXMuU3RhcnNHcm91cCgpO1xuICAvL1xuICAvLyAgIC8vIHRoaXMuc3RhcnMubWVzaC5wb3NpdGlvbi5zZXQoMCwgMTAsIDApO1xuICAvLyAgIGxldCBkaXN0YW5jZSA9IDE7XG4gIC8vXG4gIC8vICAgdGhpcy5oZWFkLnJvdGF0aW9uLnogPSBNYXRoLnNpbihEYXRlLm5vdygpICogMC4wMDUpICogTWF0aC5QSSAqIDAuMDE7XG4gIC8vICAgdGhpcy5oZWFkLnJvdGF0aW9uLnggPSBNYXRoLnNpbihEYXRlLm5vdygpICogMC4wMSkgKiBNYXRoLlBJICogMC4wMTtcbiAgLy8gICB0aGlzLmhlYWQucm90YXRpb24ueSA9IE1hdGguc2luKERhdGUubm93KCkgKiAwLjAwNSkgKiBNYXRoLlBJICogMC4wMTtcbiAgLy9cbiAgLy8gICB0aGlzLm1vdXN0YWNoZS5yb3RhdGlvbi56ID0gTWF0aC5zaW4oRGF0ZS5ub3coKSAqIDAuMDA1KSAqIE1hdGguUEkgKiAwLjA1O1xuICAvL1xuICAvLyAgIHRoaXMuc3RhcnMuc3BpblNjYWxlKCk7XG4gIC8vIH1cblxuICB1cGRhdGVCb2R5KHNwZWVkLCBleWVCbHVlUmlnaHRQb3NYLCBleWVCbHVlTGVmdFBvc1gsIGV5ZUJsdWVSaWdodFBvc1ksIGV5ZUJsdWVMZWZ0UG9zWSwgZXllQnJvd1JpZ2h0UG9zWSwgZXllQnJvd0xlZnRQb3NZKSB7XG4gICAgdGhpcy5leWVCbHVlUmlnaHQucG9zaXRpb24ueCArPSAoZXllQmx1ZVJpZ2h0UG9zWCAtIHRoaXMuZXllQmx1ZVJpZ2h0LnBvc2l0aW9uLngpIC8gc3BlZWQ7XG4gICAgdGhpcy5leWVCbHVlTGVmdC5wb3NpdGlvbi54ICs9IChleWVCbHVlTGVmdFBvc1ggLSB0aGlzLmV5ZUJsdWVMZWZ0LnBvc2l0aW9uLngpIC8gc3BlZWQ7XG5cbiAgICB0aGlzLmV5ZUJsdWVSaWdodC5wb3NpdGlvbi55ICs9IChleWVCbHVlUmlnaHRQb3NZIC0gdGhpcy5leWVCbHVlUmlnaHQucG9zaXRpb24ueSkgLyBzcGVlZDtcbiAgICB0aGlzLmV5ZUJsdWVMZWZ0LnBvc2l0aW9uLnkgKz0gKGV5ZUJsdWVMZWZ0UG9zWSAtIHRoaXMuZXllQmx1ZUxlZnQucG9zaXRpb24ueSkgLyBzcGVlZDtcblxuICAgIHRoaXMuZXllQnJvd1JpZ2h0LnBvc2l0aW9uLnkgKz0gKGV5ZUJyb3dSaWdodFBvc1kgLSB0aGlzLmV5ZUJyb3dSaWdodC5wb3NpdGlvbi55KSAvIHNwZWVkO1xuICAgIHRoaXMuZXllQnJvd0xlZnQucG9zaXRpb24ueSArPSAoZXllQnJvd0xlZnRQb3NZIC0gdGhpcy5leWVCcm93TGVmdC5wb3NpdGlvbi55KSAvIHNwZWVkO1xuICB9XG5cbiAgaWRsZSh4VGFyZ2V0ID0gMCwgeVRhcmdldCA9IDApIHtcbiAgICBsZXQgZGlzdGFuY2UgPSAxO1xuXG4gICAgdGhpcy5oZWFkLnJvdGF0aW9uLnogPSBNYXRoLnNpbihEYXRlLm5vdygpICogMC4wMDUpICogTWF0aC5QSSAqIDAuMDA1O1xuICAgIHRoaXMuaGVhZC5yb3RhdGlvbi54ID0gTWF0aC5zaW4oRGF0ZS5ub3coKSAqIDAuMDA0KSAqIE1hdGguUEkgKiAwLjAzO1xuXG4gICAgY29uc3QgZXllQmx1ZVJpZ2h0UG9zWCA9IHRoaXMubm9ybWFsaXplKHhUYXJnZXQsIC0yMDAsIDIwMCwgLTAuNiwgMC42KTtcbiAgICBjb25zdCBleWVCbHVlTGVmdFBvc1ggPSB0aGlzLm5vcm1hbGl6ZSh4VGFyZ2V0LCAtMjAwLCAyMDAsIC0wLjYsIDAuNik7XG5cbiAgICBjb25zdCBleWVCbHVlUmlnaHRQb3NZID0gdGhpcy5ub3JtYWxpemUoeVRhcmdldCwgLTIwMCwgMjAwLCAwLjYsIC0wLjYpO1xuICAgIGNvbnN0IGV5ZUJsdWVMZWZ0UG9zWSA9IHRoaXMubm9ybWFsaXplKHlUYXJnZXQsIC0yMDAsIDIwMCwgMC42LCAtMC42KTtcblxuICAgIGNvbnN0IGV5ZUJyb3dSaWdodFBvc1kgPSB0aGlzLm5vcm1hbGl6ZSh4VGFyZ2V0LCAtMjAwLCAyMDAsIC0xLCAwLjgpO1xuICAgIGNvbnN0IGV5ZUJyb3dMZWZ0UG9zWSA9IHRoaXMubm9ybWFsaXplKHhUYXJnZXQsIC0yMDAsIDIwMCwgLTEsIDAuOCk7XG5cbiAgICB0aGlzLm1vdXN0YWNoZS5wb3NpdGlvbi55ID0gTWF0aC5jb3MoRGF0ZS5ub3coKSAqIDAuMDEpICogZGlzdGFuY2UgLyA0O1xuICAgIHRoaXMubW91c3RhY2hlLnJvdGF0aW9uLnogPSBNYXRoLnNpbihEYXRlLm5vdygpICogMC4wMSkgKiBNYXRoLlBJICogMC4wMTtcblxuICAgIHRoaXMubWVzaC5yb3RhdGlvbi55ID0gTWF0aC5zaW4oRGF0ZS5ub3coKSAqIDAuMDAyKSAqIE1hdGguUEkgKiAwLjA1O1xuICAgIHRoaXMudXBkYXRlQm9keSgxMCwgZXllQmx1ZVJpZ2h0UG9zWCwgZXllQmx1ZUxlZnRQb3NYLCBleWVCbHVlUmlnaHRQb3NZLCBleWVCbHVlTGVmdFBvc1ksIGV5ZUJyb3dSaWdodFBvc1ksIGV5ZUJyb3dMZWZ0UG9zWSk7XG4gIH1cblxuICBCZWFyZCgpIHtcbiAgICBsZXQgYmVhcmRHZW9tTWVyZ2VkID0gbmV3IFRIUkVFLkdlb21ldHJ5KCk7XG5cbiAgICBsZXQgYmVhcmQxR2VvbSA9IG5ldyBUSFJFRS5Cb3hHZW9tZXRyeSgyLCAxMCwgMTYpO1xuXG4gICAgbGV0IGJlYXJkMSA9IG5ldyBUSFJFRS5NZXNoKGJlYXJkMUdlb20sIE1hdC53aGl0ZU1hdCk7XG4gICAgYmVhcmQxLmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVRyYW5zbGF0aW9uKDksIDAsIDApKTtcbiAgICBiZWFyZDEudXBkYXRlTWF0cml4KCk7XG4gICAgYmVhcmRHZW9tTWVyZ2VkLm1lcmdlKGJlYXJkMS5nZW9tZXRyeSwgYmVhcmQxLm1hdHJpeCk7XG5cbiAgICBsZXQgYmVhcmQyID0gbmV3IFRIUkVFLk1lc2goYmVhcmQxR2VvbSwgTWF0LndoaXRlTWF0KTtcbiAgICBiZWFyZDIuYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlVHJhbnNsYXRpb24oNywgLTIsIDIpKTtcbiAgICBiZWFyZDIuc2NhbGUueiA9IDAuODtcbiAgICBiZWFyZDIudXBkYXRlTWF0cml4KCk7XG4gICAgYmVhcmRHZW9tTWVyZ2VkLm1lcmdlKGJlYXJkMi5nZW9tZXRyeSwgYmVhcmQyLm1hdHJpeCk7XG5cbiAgICBsZXQgYmVhcmQzID0gYmVhcmQxLmNsb25lKCk7XG4gICAgYmVhcmQzLnBvc2l0aW9uLnggPSAtYmVhcmQxLnBvc2l0aW9uLng7XG4gICAgYmVhcmQzLnVwZGF0ZU1hdHJpeCgpO1xuICAgIGJlYXJkR2VvbU1lcmdlZC5tZXJnZShiZWFyZDMuZ2VvbWV0cnksIGJlYXJkMy5tYXRyaXgpO1xuXG4gICAgbGV0IGJlYXJkNCA9IGJlYXJkMi5jbG9uZSgpO1xuICAgIGJlYXJkNC5wb3NpdGlvbi54ID0gLWJlYXJkMi5wb3NpdGlvbi54O1xuICAgIGJlYXJkNC51cGRhdGVNYXRyaXgoKTtcbiAgICBiZWFyZEdlb21NZXJnZWQubWVyZ2UoYmVhcmQ0Lmdlb21ldHJ5LCBiZWFyZDQubWF0cml4KTtcblxuICAgIGxldCBiZWFyZDJHZW9tID0gbmV3IFRIUkVFLkJveEdlb21ldHJ5KDMsIDE0LCAxMCk7XG4gICAgYmVhcmQyR2VvbS52ZXJ0aWNlc1syXS56IC09IDI7XG4gICAgYmVhcmQyR2VvbS52ZXJ0aWNlc1s3XS56IC09IDI7XG5cbiAgICBsZXQgYmVhcmQ1ID0gbmV3IFRIUkVFLk1lc2goYmVhcmQyR2VvbSwgTWF0LndoaXRlTWF0KTtcbiAgICBiZWFyZDUuYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlVHJhbnNsYXRpb24oNSwgLTUsIDQpKTtcbiAgICBiZWFyZDUudXBkYXRlTWF0cml4KCk7XG4gICAgYmVhcmRHZW9tTWVyZ2VkLm1lcmdlKGJlYXJkNS5nZW9tZXRyeSwgYmVhcmQ1Lm1hdHJpeCk7XG5cbiAgICBsZXQgYmVhcmQzR2VvbSA9IG5ldyBUSFJFRS5Cb3hHZW9tZXRyeSgyLjUsIDE0LCAxMCk7XG4gICAgYmVhcmQzR2VvbS52ZXJ0aWNlc1syXS56IC09IDI7XG4gICAgYmVhcmQzR2VvbS52ZXJ0aWNlc1s3XS56IC09IDI7XG5cbiAgICBsZXQgYmVhcmQ2ID0gbmV3IFRIUkVFLk1lc2goYmVhcmQzR2VvbSwgTWF0LndoaXRlTWF0KTtcbiAgICBiZWFyZDYuYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlVHJhbnNsYXRpb24oMi41LCAtNiwgNikpO1xuICAgIGJlYXJkNi51cGRhdGVNYXRyaXgoKTtcbiAgICBiZWFyZEdlb21NZXJnZWQubWVyZ2UoYmVhcmQ2Lmdlb21ldHJ5LCBiZWFyZDYubWF0cml4KTtcblxuICAgIGxldCBiZWFyZDcgPSBiZWFyZDUuY2xvbmUoKTtcbiAgICBiZWFyZDcucG9zaXRpb24ueCA9IC1iZWFyZDUucG9zaXRpb24ueDtcbiAgICBiZWFyZDcudXBkYXRlTWF0cml4KCk7XG4gICAgYmVhcmRHZW9tTWVyZ2VkLm1lcmdlKGJlYXJkNy5nZW9tZXRyeSwgYmVhcmQ3Lm1hdHJpeCk7XG5cbiAgICBsZXQgYmVhcmQ4ID0gYmVhcmQ2LmNsb25lKCk7XG4gICAgYmVhcmQ4LnBvc2l0aW9uLnggPSAtYmVhcmQ2LnBvc2l0aW9uLng7XG4gICAgYmVhcmQ4LnVwZGF0ZU1hdHJpeCgpO1xuICAgIGJlYXJkR2VvbU1lcmdlZC5tZXJnZShiZWFyZDguZ2VvbWV0cnksIGJlYXJkOC5tYXRyaXgpO1xuXG4gICAgbGV0IGJlYXJkNEdlb20gPSBuZXcgVEhSRUUuQm94R2VvbWV0cnkoMi41LCAxNC41LCAxMCk7XG4gICAgYmVhcmQ0R2VvbS52ZXJ0aWNlc1syXS56IC09IDE7XG4gICAgYmVhcmQ0R2VvbS52ZXJ0aWNlc1s3XS56IC09IDE7XG5cbiAgICBsZXQgYmVhcmQ5ID0gbmV3IFRIUkVFLk1lc2goYmVhcmQ0R2VvbSwgTWF0LndoaXRlTWF0KTtcbiAgICBiZWFyZDkuYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlVHJhbnNsYXRpb24oMCwgLTcsIDUuNzUpKTtcbiAgICBiZWFyZDkudXBkYXRlTWF0cml4KCk7XG4gICAgYmVhcmRHZW9tTWVyZ2VkLm1lcmdlKGJlYXJkOS5nZW9tZXRyeSwgYmVhcmQ5Lm1hdHJpeCk7XG5cbiAgICBsZXQgYmVhcmQ1R2VvbSA9IG5ldyBUSFJFRS5Cb3hHZW9tZXRyeSg0LCA4LCA4KTtcbiAgICBsZXQgYmVhcmQxMCA9IG5ldyBUSFJFRS5NZXNoKGJlYXJkNUdlb20sIE1hdC53aGl0ZU1hdCk7XG4gICAgYmVhcmQxMC5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VUcmFuc2xhdGlvbigtNiwgLTEsIC0yKSk7XG4gICAgYmVhcmQxMC51cGRhdGVNYXRyaXgoKTtcbiAgICBiZWFyZEdlb21NZXJnZWQubWVyZ2UoYmVhcmQxMC5nZW9tZXRyeSwgYmVhcmQxMC5tYXRyaXgpO1xuXG4gICAgbGV0IGJlYXJkMTEgPSBuZXcgVEhSRUUuTWVzaChiZWFyZDVHZW9tLCBNYXQud2hpdGVNYXQpO1xuICAgIGJlYXJkMTEuYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlVHJhbnNsYXRpb24oMCwgLTUsIC0yKSk7XG4gICAgYmVhcmQxMS51cGRhdGVNYXRyaXgoKTtcbiAgICBiZWFyZEdlb21NZXJnZWQubWVyZ2UoYmVhcmQxMS5nZW9tZXRyeSwgYmVhcmQxMS5tYXRyaXgpO1xuXG4gICAgbGV0IGJlYXJkTWVyZ2VkID0gbmV3IFRIUkVFLk1lc2goYmVhcmRHZW9tTWVyZ2VkLCBNYXQud2hpdGVNYXQpO1xuICAgIGJlYXJkTWVyZ2VkLmNhc3RTaGFkb3cgPSB0cnVlO1xuICAgIGJlYXJkTWVyZ2VkLnJlY2VpdmVTaGFkb3cgPSB0cnVlO1xuXG4gICAgbGV0IG1vdXRoR2VvbSA9IG5ldyBUSFJFRS5Cb3hHZW9tZXRyeSgxMCwgNCwgMSk7XG4gICAgbGV0IG1vdXRoID0gbmV3IFRIUkVFLk1lc2gobW91dGhHZW9tLCBNYXQuYmxhY2tNYXQpO1xuICAgIG1vdXRoLnBvc2l0aW9uLnNldCgwLCAyLCA4KTtcbiAgICBtb3V0aC5jYXN0U2hhZG93ID0gZmFsc2U7XG4gICAgbW91dGgucmVjZWl2ZVNoYWRvdyA9IHRydWU7XG5cbiAgICBsZXQgdGVldGhHZW9tID0gbmV3IFRIUkVFLkJveEdlb21ldHJ5KDEwLCAxLCAxKTtcbiAgICBsZXQgdGVldGggPSBuZXcgVEhSRUUuTWVzaCh0ZWV0aEdlb20sIE1hdC50ZWV0aE1hdCk7XG4gICAgdGVldGgucG9zaXRpb24uc2V0KDAsIDAuNSwgMC4xKTtcbiAgICB0ZWV0aC5jYXN0U2hhZG93ID0gZmFsc2U7XG4gICAgdGVldGgucmVjZWl2ZVNoYWRvdyA9IHRydWU7XG4gICAgbW91dGguYWRkKHRlZXRoKVxuXG4gICAgdGhpcy5iZWFyZC5hZGQoYmVhcmRNZXJnZWQsIG1vdXRoKTtcblxuICAgIGxldCBtb3VzdGFjaGVHZW9tID0gbmV3IFRIUkVFLkJveEdlb21ldHJ5KDE0LCAzLCAzLCAzKTtcbiAgICBtb3VzdGFjaGVHZW9tLnZlcnRpY2VzWzBdLnkgLT0gMjtcbiAgICBtb3VzdGFjaGVHZW9tLnZlcnRpY2VzWzFdLnkgLT0gMjtcbiAgICBtb3VzdGFjaGVHZW9tLnZlcnRpY2VzWzJdLnkgLT0gMjtcbiAgICBtb3VzdGFjaGVHZW9tLnZlcnRpY2VzWzNdLnkgLT0gMjtcbiAgICBtb3VzdGFjaGVHZW9tLnZlcnRpY2VzWzRdLnkgLT0gMjtcbiAgICBtb3VzdGFjaGVHZW9tLnZlcnRpY2VzWzVdLnkgLT0gMjtcbiAgICBtb3VzdGFjaGVHZW9tLnZlcnRpY2VzWzZdLnkgLT0gMjtcbiAgICBtb3VzdGFjaGVHZW9tLnZlcnRpY2VzWzddLnkgLT0gMjtcbiAgICBtb3VzdGFjaGVHZW9tLnZlcnRpY2VzWzhdLnggLT0gMTtcbiAgICBtb3VzdGFjaGVHZW9tLnZlcnRpY2VzWzldLnggKz0gMTtcblxuICAgIG1vdXN0YWNoZUdlb20uYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlVHJhbnNsYXRpb24oMCwgNCwgMCkpO1xuICAgIHRoaXMubW91c3RhY2hlID0gbmV3IFRIUkVFLk1lc2gobW91c3RhY2hlR2VvbSwgTWF0LndoaXRlTWF0KTtcbiAgICB0aGlzLm1vdXN0YWNoZS5jYXN0U2hhZG93ID0gdHJ1ZTtcbiAgICB0aGlzLm1vdXN0YWNoZS5yZWNlaXZlU2hhZG93ID0gdHJ1ZTtcblxuICAgIHRoaXMubW91c3RhY2hlLnBvc2l0aW9uLnNldCgwLCAwLCA5KTtcbiAgICB0aGlzLmJlYXJkLmFkZCh0aGlzLm1vdXN0YWNoZSk7XG4gIH1cblxuICBHbGFzc2VzKCkge1xuXG4gICAgdGhpcy5nbGFzc2VzID0gbmV3IFRIUkVFLk9iamVjdDNEKCk7XG4gICAgdGhpcy5nbGFzc2VzLnBvc2l0aW9uLnNldCgwLCAwLCA5KTtcbiAgICB0aGlzLmhlYWQuYWRkKHRoaXMuZ2xhc3Nlcyk7XG4gICAgbGV0IGdsYXNzZXNNYXQgPSBuZXcgVEhSRUUuTWVzaFBob25nTWF0ZXJpYWwoe2NvbG9yOiBDb2xvcnMuZ2xhc3NlcywgZmxhdFNoYWRpbmc6IHRydWV9KTtcblxuICAgIGxldCBmcmFtZUdlb21NZXJnZWQgPSBuZXcgVEhSRUUuR2VvbWV0cnkoKTtcblxuICAgIGxldCBmcmFtZU91dGVyR2VvbSA9IG5ldyBUSFJFRS5DeWxpbmRlckdlb21ldHJ5KDMsIDMsIDAuNSwgMzIpXG4gICAgbGV0IGZyYW1lSW5uZXJHZW9tID0gbmV3IFRIUkVFLkN5bGluZGVyR2VvbWV0cnkoMi43LCAyLjcsIDAuNSwgMzIpXG5cbiAgICBmcmFtZU91dGVyR2VvbS5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VSb3RhdGlvblgoLU1hdGguUEkgLyAyKSk7XG4gICAgZnJhbWVJbm5lckdlb20uYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlUm90YXRpb25YKC1NYXRoLlBJIC8gMikpO1xuXG4gICAgbGV0IGZyYW1lQlNQID0gbmV3IFRocmVlQlNQKGZyYW1lT3V0ZXJHZW9tKTtcbiAgICBsZXQgZnJhbWVDdXRCU1AgPSBuZXcgVGhyZWVCU1AoZnJhbWVJbm5lckdlb20pO1xuXG4gICAgbGV0IGZyYW1laW50ZXJzZWN0aW9uQlNQID0gZnJhbWVCU1Auc3VidHJhY3QoZnJhbWVDdXRCU1ApO1xuICAgIGxldCBmcmFtZUxlZnQgPSBmcmFtZWludGVyc2VjdGlvbkJTUC50b01lc2goZ2xhc3Nlc01hdCk7XG5cbiAgICBmcmFtZUxlZnQuYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlVHJhbnNsYXRpb24oNCwgMywgMCkpO1xuICAgIGZyYW1lTGVmdC51cGRhdGVNYXRyaXgoKTtcbiAgICBmcmFtZUdlb21NZXJnZWQubWVyZ2UoZnJhbWVMZWZ0Lmdlb21ldHJ5LCBmcmFtZUxlZnQubWF0cml4KTtcblxuICAgIGxldCBmcmFtZVJpZ2h0ID0gZnJhbWVMZWZ0LmNsb25lKCk7XG4gICAgZnJhbWVSaWdodC5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VSb3RhdGlvblooTWF0aC5QSSAvIDMwKSk7XG4gICAgZnJhbWVSaWdodC5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VUcmFuc2xhdGlvbigtNy41LCAtMC4yNSwgMCkpO1xuICAgIGZyYW1lUmlnaHQudXBkYXRlTWF0cml4KCk7XG4gICAgZnJhbWVHZW9tTWVyZ2VkLm1lcmdlKGZyYW1lUmlnaHQuZ2VvbWV0cnksIGZyYW1lUmlnaHQubWF0cml4KTtcblxuICAgIGxldCBmcmFtZU1pZEdlb20gPSBuZXcgVEhSRUUuQm94R2VvbWV0cnkoMiwgLjMsIC41KTtcbiAgICBsZXQgZnJhbWVNaWQgPSBuZXcgVEhSRUUuTWVzaChmcmFtZU1pZEdlb20sIGdsYXNzZXNNYXQpO1xuICAgIGZyYW1lTWlkLmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVRyYW5zbGF0aW9uKDAsIDMuMywgLTAuMykpO1xuICAgIGZyYW1lTWlkLnVwZGF0ZU1hdHJpeCgpO1xuICAgIGZyYW1lR2VvbU1lcmdlZC5tZXJnZShmcmFtZU1pZC5nZW9tZXRyeSwgZnJhbWVNaWQubWF0cml4KTtcblxuICAgIGxldCBmcmFtZUVuZEdlb20gPSBuZXcgVEhSRUUuQm94R2VvbWV0cnkoMS41LCAuNSwgMSk7XG4gICAgbGV0IGZyYW1lRW5kUmlnaHQgPSBuZXcgVEhSRUUuTWVzaChmcmFtZUVuZEdlb20sIGdsYXNzZXNNYXQpO1xuICAgIGZyYW1lRW5kUmlnaHQuYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlVHJhbnNsYXRpb24oNy41LCAzLCAwKSk7XG4gICAgZnJhbWVFbmRSaWdodC51cGRhdGVNYXRyaXgoKTtcbiAgICBmcmFtZUdlb21NZXJnZWQubWVyZ2UoZnJhbWVFbmRSaWdodC5nZW9tZXRyeSwgZnJhbWVFbmRSaWdodC5tYXRyaXgpO1xuXG4gICAgbGV0IGZyYW1lRW5kTGVmdCA9IGZyYW1lRW5kUmlnaHQuY2xvbmUoKTtcbiAgICBmcmFtZUVuZExlZnQucG9zaXRpb24ueCA9IC1mcmFtZUVuZFJpZ2h0LnBvc2l0aW9uLng7XG4gICAgZnJhbWVFbmRMZWZ0LnVwZGF0ZU1hdHJpeCgpO1xuICAgIGZyYW1lR2VvbU1lcmdlZC5tZXJnZShmcmFtZUVuZExlZnQuZ2VvbWV0cnksIGZyYW1lRW5kTGVmdC5tYXRyaXgpO1xuXG4gICAgbGV0IGZyYW1lU3Bva2VHZW9tID0gbmV3IFRIUkVFLkJveEdlb21ldHJ5KDEsIDAuNSwgMTIpO1xuICAgIGxldCBmcmFtZVNwb2tlUmlnaHQgPSBuZXcgVEhSRUUuTWVzaChmcmFtZVNwb2tlR2VvbSwgZ2xhc3Nlc01hdCk7XG4gICAgZnJhbWVTcG9rZVJpZ2h0LmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVRyYW5zbGF0aW9uKDgsIDMsIC01LjUpKTtcbiAgICBmcmFtZVNwb2tlUmlnaHQudXBkYXRlTWF0cml4KCk7XG4gICAgZnJhbWVHZW9tTWVyZ2VkLm1lcmdlKGZyYW1lU3Bva2VSaWdodC5nZW9tZXRyeSwgZnJhbWVTcG9rZVJpZ2h0Lm1hdHJpeCk7XG5cbiAgICBsZXQgZnJhbWVTcG9rZUxlZnQgPSBmcmFtZVNwb2tlUmlnaHQuY2xvbmUoKTtcbiAgICBmcmFtZVNwb2tlTGVmdC5wb3NpdGlvbi54ID0gLWZyYW1lU3Bva2VSaWdodC5wb3NpdGlvbi54O1xuICAgIGZyYW1lU3Bva2VMZWZ0LnVwZGF0ZU1hdHJpeCgpO1xuICAgIGZyYW1lR2VvbU1lcmdlZC5tZXJnZShmcmFtZVNwb2tlTGVmdC5nZW9tZXRyeSwgZnJhbWVTcG9rZUxlZnQubWF0cml4KTtcblxuICAgIGxldCBmcmFtZU1lcmdlZCA9IG5ldyBUSFJFRS5NZXNoKGZyYW1lR2VvbU1lcmdlZCwgZ2xhc3Nlc01hdCk7XG4gICAgZnJhbWVNZXJnZWQuY2FzdFNoYWRvdyA9IGZhbHNlO1xuICAgIGZyYW1lTWVyZ2VkLnJlY2VpdmVTaGFkb3cgPSB0cnVlO1xuXG4gICAgdGhpcy5nbGFzc2VzLmFkZChmcmFtZU1lcmdlZCk7XG5cbiAgfVxuXG4gIEhhaXIoKSB7XG5cbiAgICB0aGlzLmhhaXIgPSBuZXcgVEhSRUUuT2JqZWN0M0QoKTtcbiAgICB0aGlzLmhhaXIucG9zaXRpb24uc2V0KDAsIDksIDApO1xuICAgIHRoaXMuaGVhZC5hZGQodGhpcy5oYWlyKTtcblxuICAgIGxldCBoYWlyR2VvbU1lcmdlZCA9IG5ldyBUSFJFRS5HZW9tZXRyeSgpO1xuXG4gICAgbGV0IGhhaXJGbGF0R2VvbSA9IG5ldyBUSFJFRS5Cb3hHZW9tZXRyeSgxMCwgMiwgMTgpO1xuXG4gICAgbGV0IGhhaXIxID0gbmV3IFRIUkVFLk1lc2goaGFpckZsYXRHZW9tLCBNYXQud2hpdGVNYXQpO1xuICAgIGhhaXIxLmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVJvdGF0aW9uWigtTWF0aC5QSSAvIDQwKSk7XG4gICAgaGFpcjEuYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlVHJhbnNsYXRpb24oLTQsIC0wLjUsIDApKTtcbiAgICBoYWlyMS51cGRhdGVNYXRyaXgoKTtcbiAgICBoYWlyR2VvbU1lcmdlZC5tZXJnZShoYWlyMS5nZW9tZXRyeSwgaGFpcjEubWF0cml4KTtcblxuICAgIGxldCBoYWlyMiA9IG5ldyBUSFJFRS5NZXNoKGhhaXJGbGF0R2VvbSwgTWF0LndoaXRlTWF0KTtcbiAgICBoYWlyMi5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VSb3RhdGlvblooLU1hdGguUEkgLyAxMCkpO1xuICAgIGhhaXIyLmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVRyYW5zbGF0aW9uKC0yLCAxLCAwKSk7XG4gICAgaGFpcjIudXBkYXRlTWF0cml4KCk7XG4gICAgaGFpckdlb21NZXJnZWQubWVyZ2UoaGFpcjIuZ2VvbWV0cnksIGhhaXIyLm1hdHJpeCk7XG5cbiAgICBsZXQgaGFpcjMgPSBuZXcgVEhSRUUuTWVzaChoYWlyRmxhdEdlb20sIE1hdC53aGl0ZU1hdCk7XG4gICAgaGFpcjMuYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlUm90YXRpb25aKC1NYXRoLlBJIC8gNSkpO1xuICAgIGhhaXIzLmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVRyYW5zbGF0aW9uKDIsIDEsIDApKTtcbiAgICBoYWlyMy51cGRhdGVNYXRyaXgoKTtcbiAgICBoYWlyR2VvbU1lcmdlZC5tZXJnZShoYWlyMy5nZW9tZXRyeSwgaGFpcjMubWF0cml4KTtcblxuICAgIGxldCBoYWlyNCA9IG5ldyBUSFJFRS5NZXNoKGhhaXJGbGF0R2VvbSwgTWF0LndoaXRlTWF0KTtcbiAgICBoYWlyNC5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VSb3RhdGlvblooLU1hdGguUEkgLyA0KSk7XG4gICAgaGFpcjQuYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlVHJhbnNsYXRpb24oNiwgMCwgMCkpO1xuICAgIGhhaXI0LnVwZGF0ZU1hdHJpeCgpO1xuICAgIGhhaXJHZW9tTWVyZ2VkLm1lcmdlKGhhaXI0Lmdlb21ldHJ5LCBoYWlyNC5tYXRyaXgpO1xuXG4gICAgbGV0IGhhaXI2ID0gbmV3IFRIUkVFLk1lc2goaGFpckZsYXRHZW9tLCBNYXQud2hpdGVNYXQpO1xuICAgIGhhaXI2LmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVJvdGF0aW9uWigtTWF0aC5QSSAvIC0zKSk7XG4gICAgaGFpcjYuYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlVHJhbnNsYXRpb24oLTcuNzUsIC0uNSwgMCkpO1xuICAgIGhhaXI2LnVwZGF0ZU1hdHJpeCgpO1xuICAgIGhhaXJHZW9tTWVyZ2VkLm1lcmdlKGhhaXI2Lmdlb21ldHJ5LCBoYWlyNi5tYXRyaXgpO1xuXG4gICAgbGV0IGhhaXJGbGF0QmFja0dlb20gPSBuZXcgVEhSRUUuQm94R2VvbWV0cnkoMTgsIDcsIDYpO1xuICAgIGhhaXJGbGF0QmFja0dlb20udmVydGljZXNbMF0ueCAtPSAxO1xuICAgIGhhaXJGbGF0QmFja0dlb20udmVydGljZXNbMV0ueCAtPSAxO1xuICAgIGhhaXJGbGF0QmFja0dlb20udmVydGljZXNbNF0ueCArPSAxO1xuICAgIGhhaXJGbGF0QmFja0dlb20udmVydGljZXNbNV0ueCArPSAxO1xuXG4gICAgbGV0IGhhaXI1ID0gbmV3IFRIUkVFLk1lc2goaGFpckZsYXRCYWNrR2VvbSwgTWF0LndoaXRlTWF0KTtcbiAgICBoYWlyNS5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VUcmFuc2xhdGlvbigwLCAtNC41LCAtNikpO1xuICAgIGhhaXI1LnVwZGF0ZU1hdHJpeCgpO1xuICAgIGhhaXJHZW9tTWVyZ2VkLm1lcmdlKGhhaXI1Lmdlb21ldHJ5LCBoYWlyNS5tYXRyaXgpO1xuXG4gICAgbGV0IGhhaXJNZXJnZWQgPSBuZXcgVEhSRUUuTWVzaChoYWlyR2VvbU1lcmdlZCwgTWF0LndoaXRlTWF0KTtcbiAgICBoYWlyTWVyZ2VkLmNhc3RTaGFkb3cgPSBmYWxzZTtcbiAgICBoYWlyTWVyZ2VkLnJlY2VpdmVTaGFkb3cgPSB0cnVlO1xuXG4gICAgdGhpcy5oYWlyLmFkZChoYWlyTWVyZ2VkKTtcblxuICB9XG5cbiAgRXllcygpIHtcblxuICAgIHRoaXMuZXllcyA9IG5ldyBUSFJFRS5PYmplY3QzRCgpO1xuICAgIHRoaXMuZXllcy5wb3NpdGlvbi5zZXQoMCwgMywgOSk7XG4gICAgdGhpcy5oZWFkLmFkZCh0aGlzLmV5ZXMpO1xuXG4gICAgbGV0IGV5ZVdoaXRlR2VvbSA9IG5ldyBUSFJFRS5QbGFuZUdlb21ldHJ5KDIuNSwgMi41KTtcblxuICAgIGxldCBleWVXaGl0ZVJpZ2h0ID0gbmV3IFRIUkVFLk1lc2goZXllV2hpdGVHZW9tLCBNYXQud2hpdGVNYXQpO1xuICAgIGV5ZVdoaXRlUmlnaHQucG9zaXRpb24uc2V0KC0zLjc1LCAwLCAwKTtcbiAgICBleWVXaGl0ZVJpZ2h0LmNhc3RTaGFkb3cgPSBmYWxzZTtcbiAgICBleWVXaGl0ZVJpZ2h0LnJlY2VpdmVTaGFkb3cgPSBmYWxzZTtcblxuICAgIGxldCBleWVCbHVlR2VvbSA9IG5ldyBUSFJFRS5QbGFuZUdlb21ldHJ5KDEuNSwgMS41KTtcblxuICAgIGxldCBleWVNYXQgPSBuZXcgVEhSRUUuTWVzaFBob25nTWF0ZXJpYWwoe2NvbG9yOiBDb2xvcnMuZXllLCBmbGF0U2hhZGluZzogdHJ1ZX0pO1xuXG4gICAgdGhpcy5leWVCbHVlUmlnaHQgPSBuZXcgVEhSRUUuTWVzaChleWVCbHVlR2VvbSwgZXllTWF0KTtcbiAgICB0aGlzLmV5ZUJsdWVSaWdodC5wb3NpdGlvbi5zZXQoMCwgMCwgLjAxKTtcbiAgICB0aGlzLmV5ZUJsdWVSaWdodC5jYXN0U2hhZG93ID0gZmFsc2U7XG4gICAgdGhpcy5leWVCbHVlUmlnaHQucmVjZWl2ZVNoYWRvdyA9IGZhbHNlO1xuXG4gICAgZXllV2hpdGVSaWdodC5hZGQodGhpcy5leWVCbHVlUmlnaHQpO1xuXG4gICAgbGV0IGV5ZVB1cGlsR2VvbSA9IG5ldyBUSFJFRS5QbGFuZUdlb21ldHJ5KDEsIDEpO1xuXG4gICAgdGhpcy5leWVQdXBpbFJpZ2h0ID0gbmV3IFRIUkVFLk1lc2goZXllUHVwaWxHZW9tLCBNYXQuYmxhY2tNYXQpO1xuICAgIHRoaXMuZXllUHVwaWxSaWdodC5wb3NpdGlvbi5zZXQoMCwgMCwgLjAyKTtcbiAgICB0aGlzLmV5ZVB1cGlsUmlnaHQuY2FzdFNoYWRvdyA9IGZhbHNlO1xuICAgIHRoaXMuZXllUHVwaWxSaWdodC5yZWNlaXZlU2hhZG93ID0gZmFsc2U7XG5cbiAgICB0aGlzLmV5ZUJsdWVSaWdodC5hZGQodGhpcy5leWVQdXBpbFJpZ2h0KTtcblxuICAgIGxldCBleWVXaGl0ZUxlZnQgPSBuZXcgVEhSRUUuTWVzaChleWVXaGl0ZUdlb20sIE1hdC53aGl0ZU1hdCk7XG4gICAgZXllV2hpdGVMZWZ0LnBvc2l0aW9uLnNldCgzLjc1LCAwLCAwKTtcbiAgICBleWVXaGl0ZUxlZnQuY2FzdFNoYWRvdyA9IGZhbHNlO1xuICAgIGV5ZVdoaXRlTGVmdC5yZWNlaXZlU2hhZG93ID0gZmFsc2U7XG5cbiAgICB0aGlzLmV5ZUJsdWVMZWZ0ID0gbmV3IFRIUkVFLk1lc2goZXllQmx1ZUdlb20sIGV5ZU1hdCk7XG4gICAgdGhpcy5leWVCbHVlTGVmdC5wb3NpdGlvbi5zZXQoMCwgMCwgLjAxKTtcbiAgICB0aGlzLmV5ZUJsdWVMZWZ0LmNhc3RTaGFkb3cgPSBmYWxzZTtcbiAgICB0aGlzLmV5ZUJsdWVMZWZ0LnJlY2VpdmVTaGFkb3cgPSBmYWxzZTtcblxuICAgIGV5ZVdoaXRlTGVmdC5hZGQodGhpcy5leWVCbHVlTGVmdCk7XG5cbiAgICB0aGlzLmV5ZVB1cGlsTGVmdCA9IG5ldyBUSFJFRS5NZXNoKGV5ZVB1cGlsR2VvbSwgTWF0LmJsYWNrTWF0KTtcbiAgICB0aGlzLmV5ZVB1cGlsTGVmdC5wb3NpdGlvbi5zZXQoMCwgMCwgLjAyKTtcbiAgICB0aGlzLmV5ZVB1cGlsTGVmdC5jYXN0U2hhZG93ID0gZmFsc2U7XG4gICAgdGhpcy5leWVQdXBpbExlZnQucmVjZWl2ZVNoYWRvdyA9IGZhbHNlO1xuXG4gICAgdGhpcy5leWVCbHVlTGVmdC5hZGQodGhpcy5leWVQdXBpbExlZnQpO1xuXG4gICAgdGhpcy5leWVzLmFkZChleWVXaGl0ZVJpZ2h0LCBleWVXaGl0ZUxlZnQpO1xuICB9XG5cbiAgRXllQnJvd3MoKSB7XG4gICAgdGhpcy5leWVCcm93cyA9IG5ldyBUSFJFRS5PYmplY3QzRCgpO1xuICAgIHRoaXMuZXllQnJvd3MucG9zaXRpb24uc2V0KDAsIDYsIDgpO1xuICAgIHRoaXMuaGVhZC5hZGQodGhpcy5leWVCcm93cyk7XG5cbiAgICBsZXQgZXllQnJvd0dlb20gPSBuZXcgVEhSRUUuQm94R2VvbWV0cnkoNCwgMSwgMSk7XG5cbiAgICB0aGlzLmV5ZUJyb3dSaWdodCA9IG5ldyBUSFJFRS5NZXNoKGV5ZUJyb3dHZW9tLCBNYXQud2hpdGVNYXQpO1xuICAgIHRoaXMuZXllQnJvd1JpZ2h0LmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVJvdGF0aW9uWihNYXRoLlBJIC8gNDUpKTtcbiAgICB0aGlzLmV5ZUJyb3dSaWdodC5wb3NpdGlvbi5zZXQoLTMuNzUsIDAsIDApO1xuICAgIHRoaXMuZXllQnJvd1JpZ2h0LmNhc3RTaGFkb3cgPSBmYWxzZTtcbiAgICB0aGlzLmV5ZUJyb3dSaWdodC5yZWNlaXZlU2hhZG93ID0gZmFsc2U7XG5cbiAgICB0aGlzLmV5ZUJyb3dMZWZ0ID0gbmV3IFRIUkVFLk1lc2goZXllQnJvd0dlb20sIE1hdC53aGl0ZU1hdCk7XG4gICAgdGhpcy5leWVCcm93TGVmdC5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VSb3RhdGlvblooLU1hdGguUEkgLyA0NSkpO1xuICAgIHRoaXMuZXllQnJvd0xlZnQucG9zaXRpb24uc2V0KDMuNzUsIDAsIDApO1xuICAgIHRoaXMuZXllQnJvd0xlZnQuY2FzdFNoYWRvdyA9IGZhbHNlO1xuICAgIHRoaXMuZXllQnJvd0xlZnQucmVjZWl2ZVNoYWRvdyA9IGZhbHNlO1xuXG4gICAgdGhpcy5leWVCcm93cy5hZGQodGhpcy5leWVCcm93UmlnaHQsIHRoaXMuZXllQnJvd0xlZnQpO1xuICB9XG5cbiAgSGF0KCkge1xuICAgIHRoaXMuaGF0ID0gbmV3IFRIUkVFLk9iamVjdDNEKCk7XG4gICAgdGhpcy5oYXQucG9zaXRpb24uc2V0KC0wLjIsIDExLCAyLjQpO1xuICAgIHRoaXMuaGVhZC5hZGQodGhpcy5oYXQpO1xuXG4gICAgbGV0IGhhdE1hdCA9IG5ldyBUSFJFRS5NZXNoUGhvbmdNYXRlcmlhbCh7Y29sb3I6IENvbG9ycy5oYXQsIGZsYXRTaGFkaW5nOiB0cnVlfSk7XG5cbiAgICBsZXQgYmFuZEdlb20gPSBuZXcgVEhSRUUuVG9ydXNHZW9tZXRyeSg5LCAyLCAxNiwgMTAwKTtcbiAgICBsZXQgYmlnQ29uZUdlb20gPSBuZXcgVEhSRUUuQ3lsaW5kZXJHZW9tZXRyeSgxLCAxMSwgMTIsIDE1KTtcbiAgICBsZXQgc21hbGxDb25lR2VvbSA9IG5ldyBUSFJFRS5DeWxpbmRlckdlb21ldHJ5KDAuOCwgMywgOSwgMzIpO1xuICAgIGxldCBoYXREaW5nbGVHZW9tID0gbmV3IFRIUkVFLlNwaGVyZUdlb21ldHJ5KDEuNSwgOCwgOCk7XG5cbiAgICB0aGlzLmJhbmQgPSBuZXcgVEhSRUUuTWVzaChiYW5kR2VvbSwgTWF0LnRlZXRoTWF0KTtcbiAgICB0aGlzLmJhbmQuYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlUm90YXRpb25YKE1hdGguUEkgLyAyKSk7XG4gICAgdGhpcy5iYW5kLnBvc2l0aW9uLnNldCgwLCAwLCAwKTtcbiAgICB0aGlzLmJhbmQuY2FzdFNoYWRvdyA9IGZhbHNlO1xuICAgIHRoaXMuYmFuZC5yZWNlaXZlU2hhZG93ID0gZmFsc2U7XG5cbiAgICB0aGlzLmJpZ0NvbmUgPSBuZXcgVEhSRUUuTWVzaChiaWdDb25lR2VvbSwgaGF0TWF0KTtcbiAgICB0aGlzLmJpZ0NvbmUucG9zaXRpb24uc2V0KDAsIDYsIDApO1xuICAgIHRoaXMuYmlnQ29uZS5jYXN0U2hhZG93ID0gZmFsc2U7XG4gICAgdGhpcy5iaWdDb25lLnJlY2VpdmVTaGFkb3cgPSBmYWxzZTtcblxuICAgIHRoaXMuc21hbGxDb25lID0gbmV3IFRIUkVFLk1lc2goc21hbGxDb25lR2VvbSwgaGF0TWF0KTtcbiAgICB0aGlzLnNtYWxsQ29uZS5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VSb3RhdGlvblgoTWF0aC5QSSAvIDIpKTtcbiAgICB0aGlzLnNtYWxsQ29uZS5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VSb3RhdGlvblkoTWF0aC5QSSAvIDIpKTtcbiAgICB0aGlzLnNtYWxsQ29uZS5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VSb3RhdGlvblooTWF0aC5QSSAvIC04KSk7XG4gICAgdGhpcy5zbWFsbENvbmUucG9zaXRpb24uc2V0KDQsIDcuOCwgLTEpO1xuICAgIHRoaXMuc21hbGxDb25lLmNhc3RTaGFkb3cgPSBmYWxzZTtcbiAgICB0aGlzLnNtYWxsQ29uZS5yZWNlaXZlU2hhZG93ID0gZmFsc2U7XG5cbiAgICB0aGlzLmhhdERpbmdsZSA9IG5ldyBUSFJFRS5NZXNoKGhhdERpbmdsZUdlb20sIE1hdC53aGl0ZU1hdCk7XG4gICAgdGhpcy5oYXREaW5nbGUucG9zaXRpb24uc2V0KDksIDUuNSwgLTEpO1xuICAgIHRoaXMuaGF0RGluZ2xlLmNhc3RTaGFkb3cgPSBmYWxzZTtcbiAgICB0aGlzLmhhdERpbmdsZS5yZWNlaXZlU2hhZG93ID0gZmFsc2U7XG5cbiAgICB0aGlzLmhhdC5hZGQodGhpcy5iYW5kLCB0aGlzLmJpZ0NvbmUsIHRoaXMuc21hbGxDb25lLCB0aGlzLmhhdERpbmdsZSk7XG4gIH1cblxuICBGcmVja2xlcygpIHtcbiAgICB0aGlzLmZyZWNrbGVzID0gbmV3IFRIUkVFLk9iamVjdDNEKCk7XG4gICAgdGhpcy5mcmVja2xlcy5wb3NpdGlvbi5zZXQoMCwgMCwgOCk7XG4gICAgdGhpcy5oZWFkLmFkZCh0aGlzLmZyZWNrbGVzKTtcblxuICAgIGxldCBmcmVja2xlc01hdCA9IG5ldyBUSFJFRS5NZXNoTGFtYmVydE1hdGVyaWFsKHtjb2xvcjogQ29sb3JzLmZyZWNrbGVzLCBmbGF0U2hhZGluZzogdHJ1ZX0pO1xuICAgIGxldCBmcmVja2xlc0dlb21NZXJnZWQgPSBuZXcgVEhSRUUuR2VvbWV0cnkoKTtcblxuICAgIGxldCBmcmVja2xlc0dlb20gPSBuZXcgVEhSRUUuUGxhbmVHZW9tZXRyeSgwLjUsIDAuNSk7XG5cbiAgICBsZXQgZnJlY2tsZTEgPSBuZXcgVEhSRUUuTWVzaChmcmVja2xlc0dlb20sIGZyZWNrbGVzTWF0KTtcbiAgICBmcmVja2xlMS5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VUcmFuc2xhdGlvbigtNSwgMCwgMC4wMSkpO1xuICAgIGZyZWNrbGUxLnVwZGF0ZU1hdHJpeCgpO1xuICAgIGZyZWNrbGVzR2VvbU1lcmdlZC5tZXJnZShmcmVja2xlMS5nZW9tZXRyeSwgZnJlY2tsZTEubWF0cml4KTtcblxuICAgIGxldCBmcmVja2xlMiA9IGZyZWNrbGUxLmNsb25lKCk7XG4gICAgZnJlY2tsZTIuYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlVHJhbnNsYXRpb24oLTAuNSwgLTEsIDApKTtcbiAgICBmcmVja2xlMi51cGRhdGVNYXRyaXgoKTtcbiAgICBmcmVja2xlc0dlb21NZXJnZWQubWVyZ2UoZnJlY2tsZTIuZ2VvbWV0cnksIGZyZWNrbGUyLm1hdHJpeCk7XG5cbiAgICBsZXQgZnJlY2tsZTMgPSBmcmVja2xlMS5jbG9uZSgpO1xuICAgIGZyZWNrbGUzLmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVRyYW5zbGF0aW9uKDEsIC0wLjUsIDApKTtcbiAgICBmcmVja2xlMy51cGRhdGVNYXRyaXgoKTtcbiAgICBmcmVja2xlc0dlb21NZXJnZWQubWVyZ2UoZnJlY2tsZTMuZ2VvbWV0cnksIGZyZWNrbGUzLm1hdHJpeCk7XG5cbiAgICBsZXQgZnJlY2tsZTQgPSBmcmVja2xlMS5jbG9uZSgpO1xuICAgIGZyZWNrbGU0LnBvc2l0aW9uLnggPSAtZnJlY2tsZTEucG9zaXRpb24ueDtcbiAgICBmcmVja2xlNC51cGRhdGVNYXRyaXgoKTtcbiAgICBmcmVja2xlc0dlb21NZXJnZWQubWVyZ2UoZnJlY2tsZTQuZ2VvbWV0cnksIGZyZWNrbGU0Lm1hdHJpeCk7XG4gICAgbGV0IGZyZWNrbGU1ID0gZnJlY2tsZTIuY2xvbmUoKTtcbiAgICBmcmVja2xlNS5wb3NpdGlvbi54ID0gLWZyZWNrbGUyLnBvc2l0aW9uLng7XG4gICAgZnJlY2tsZTUudXBkYXRlTWF0cml4KCk7XG4gICAgZnJlY2tsZXNHZW9tTWVyZ2VkLm1lcmdlKGZyZWNrbGU1Lmdlb21ldHJ5LCBmcmVja2xlNS5tYXRyaXgpO1xuICAgIGxldCBmcmVja2xlNiA9IGZyZWNrbGUzLmNsb25lKCk7XG4gICAgZnJlY2tsZTYucG9zaXRpb24ueCA9IC1mcmVja2xlMy5wb3NpdGlvbi54O1xuICAgIGZyZWNrbGU2LnVwZGF0ZU1hdHJpeCgpO1xuICAgIGZyZWNrbGVzR2VvbU1lcmdlZC5tZXJnZShmcmVja2xlNi5nZW9tZXRyeSwgZnJlY2tsZTYubWF0cml4KTtcblxuICAgIGxldCBmcmVja2xlZE1lcmdlZCA9IG5ldyBUSFJFRS5NZXNoKGZyZWNrbGVzR2VvbU1lcmdlZCwgZnJlY2tsZXNNYXQpO1xuICAgIGZyZWNrbGVkTWVyZ2VkLmNhc3RTaGFkb3cgPSBmYWxzZTtcbiAgICBmcmVja2xlZE1lcmdlZC5yZWNlaXZlU2hhZG93ID0gZmFsc2U7XG5cbiAgICB0aGlzLmZyZWNrbGVzLmFkZChmcmVja2xlZE1lcmdlZCk7XG4gIH1cblxuICBGZWF0dXJlcygpIHtcbiAgICBsZXQgZWFyR2VvbSA9IG5ldyBUSFJFRS5Cb3hCdWZmZXJHZW9tZXRyeSgxLjUsIDMsIDEuNSk7XG4gICAgbGV0IHNraW5NYXQgPSBuZXcgVEhSRUUuTWVzaExhbWJlcnRNYXRlcmlhbCh7Y29sb3I6IENvbG9ycy5za2luLCBmbGF0U2hhZGluZzogdHJ1ZX0pO1xuICAgIGxldCBlYXJSaWdodCA9IG5ldyBUSFJFRS5NZXNoKGVhckdlb20sIHNraW5NYXQpO1xuICAgIGVhclJpZ2h0LnBvc2l0aW9uLnNldCgtOC41LCAxLCAzKTtcbiAgICBlYXJSaWdodC5jYXN0U2hhZG93ID0gZmFsc2U7XG4gICAgZWFyUmlnaHQucmVjZWl2ZVNoYWRvdyA9IGZhbHNlO1xuXG4gICAgbGV0IGVhckxlZnQgPSBuZXcgVEhSRUUuTWVzaChlYXJHZW9tLCBza2luTWF0KTtcbiAgICBlYXJMZWZ0LnBvc2l0aW9uLnNldCg4LjUsIDEsIDMpO1xuICAgIGVhckxlZnQuY2FzdFNoYWRvdyA9IGZhbHNlO1xuICAgIGVhckxlZnQucmVjZWl2ZVNoYWRvdyA9IGZhbHNlO1xuXG4gICAgbGV0IG5vc2VHZW9tID0gbmV3IFRIUkVFLkN5bGluZGVyR2VvbWV0cnkoMSwgMiwgNCwgNCk7XG4gICAgbGV0IG5vc2UgPSBuZXcgVEhSRUUuTWVzaChub3NlR2VvbSwgc2tpbk1hdCk7XG4gICAgbm9zZS5zY2FsZS5zZXQoLjc1LCAxLCAxLjMpO1xuICAgIG5vc2UucG9zaXRpb24uc2V0KDAsIDEsIDgpO1xuICAgIG5vc2UuY2FzdFNoYWRvdyA9IGZhbHNlO1xuICAgIG5vc2UucmVjZWl2ZVNoYWRvdyA9IGZhbHNlO1xuXG4gICAgdGhpcy5oZWFkLmFkZChlYXJSaWdodCwgZWFyTGVmdCwgbm9zZSk7XG4gIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9qcy9jbGFzc2VzL0hlYWQuanMiLCJpbXBvcnQgQ29sb3JzIGZyb20gJy4vY29sb3JzJztcbmNvbnN0IE1hdGVyaWFscyA9IHtcbiAgXCJ3aGl0ZU1hdFwiOiBuZXcgVEhSRUUuTWVzaExhbWJlcnRNYXRlcmlhbCh7Y29sb3I6IENvbG9ycy53aGl0ZSwgZmxhdFNoYWRpbmc6IHRydWV9KSxcbiAgXCJ0ZWV0aE1hdFwiOiBuZXcgVEhSRUUuTWVzaFBob25nTWF0ZXJpYWwoe2NvbG9yOiBDb2xvcnMudGVldGgsIGZsYXRTaGFkaW5nOiB0cnVlfSksXG4gIFwiYmxhY2tNYXRcIjogbmV3IFRIUkVFLk1lc2hMYW1iZXJ0TWF0ZXJpYWwoe2NvbG9yOiBDb2xvcnMuYmxhY2ssIGZsYXRTaGFkaW5nOiB0cnVlfSksXG4gIFwibm9ybWFsTWF0XCI6IG5ldyBUSFJFRS5NZXNoTm9ybWFsTWF0ZXJpYWwoe30pXG59O1xuXG5leHBvcnQgZGVmYXVsdCBNYXRlcmlhbHM7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvanMvb2JqZWN0cy9NYXRlcmlhbHMuanMiLCIvLyB0aGUgd2hhdHdnLWZldGNoIHBvbHlmaWxsIGluc3RhbGxzIHRoZSBmZXRjaCgpIGZ1bmN0aW9uXG4vLyBvbiB0aGUgZ2xvYmFsIG9iamVjdCAod2luZG93IG9yIHNlbGYpXG4vL1xuLy8gUmV0dXJuIHRoYXQgYXMgdGhlIGV4cG9ydCBmb3IgdXNlIGluIFdlYnBhY2ssIEJyb3dzZXJpZnkgZXRjLlxucmVxdWlyZSgnd2hhdHdnLWZldGNoJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHNlbGYuZmV0Y2guYmluZChzZWxmKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2lzb21vcnBoaWMtZmV0Y2gvZmV0Y2gtbnBtLWJyb3dzZXJpZnkuanNcbi8vIG1vZHVsZSBpZCA9IDVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCIoZnVuY3Rpb24oc2VsZikge1xuICAndXNlIHN0cmljdCc7XG5cbiAgaWYgKHNlbGYuZmV0Y2gpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIHZhciBzdXBwb3J0ID0ge1xuICAgIHNlYXJjaFBhcmFtczogJ1VSTFNlYXJjaFBhcmFtcycgaW4gc2VsZixcbiAgICBpdGVyYWJsZTogJ1N5bWJvbCcgaW4gc2VsZiAmJiAnaXRlcmF0b3InIGluIFN5bWJvbCxcbiAgICBibG9iOiAnRmlsZVJlYWRlcicgaW4gc2VsZiAmJiAnQmxvYicgaW4gc2VsZiAmJiAoZnVuY3Rpb24oKSB7XG4gICAgICB0cnkge1xuICAgICAgICBuZXcgQmxvYigpXG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgfSkoKSxcbiAgICBmb3JtRGF0YTogJ0Zvcm1EYXRhJyBpbiBzZWxmLFxuICAgIGFycmF5QnVmZmVyOiAnQXJyYXlCdWZmZXInIGluIHNlbGZcbiAgfVxuXG4gIGlmIChzdXBwb3J0LmFycmF5QnVmZmVyKSB7XG4gICAgdmFyIHZpZXdDbGFzc2VzID0gW1xuICAgICAgJ1tvYmplY3QgSW50OEFycmF5XScsXG4gICAgICAnW29iamVjdCBVaW50OEFycmF5XScsXG4gICAgICAnW29iamVjdCBVaW50OENsYW1wZWRBcnJheV0nLFxuICAgICAgJ1tvYmplY3QgSW50MTZBcnJheV0nLFxuICAgICAgJ1tvYmplY3QgVWludDE2QXJyYXldJyxcbiAgICAgICdbb2JqZWN0IEludDMyQXJyYXldJyxcbiAgICAgICdbb2JqZWN0IFVpbnQzMkFycmF5XScsXG4gICAgICAnW29iamVjdCBGbG9hdDMyQXJyYXldJyxcbiAgICAgICdbb2JqZWN0IEZsb2F0NjRBcnJheV0nXG4gICAgXVxuXG4gICAgdmFyIGlzRGF0YVZpZXcgPSBmdW5jdGlvbihvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgRGF0YVZpZXcucHJvdG90eXBlLmlzUHJvdG90eXBlT2Yob2JqKVxuICAgIH1cblxuICAgIHZhciBpc0FycmF5QnVmZmVyVmlldyA9IEFycmF5QnVmZmVyLmlzVmlldyB8fCBmdW5jdGlvbihvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgdmlld0NsYXNzZXMuaW5kZXhPZihPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSkgPiAtMVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG5vcm1hbGl6ZU5hbWUobmFtZSkge1xuICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIG5hbWUgPSBTdHJpbmcobmFtZSlcbiAgICB9XG4gICAgaWYgKC9bXmEtejAtOVxcLSMkJSYnKisuXFxeX2B8fl0vaS50ZXN0KG5hbWUpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGNoYXJhY3RlciBpbiBoZWFkZXIgZmllbGQgbmFtZScpXG4gICAgfVxuICAgIHJldHVybiBuYW1lLnRvTG93ZXJDYXNlKClcbiAgfVxuXG4gIGZ1bmN0aW9uIG5vcm1hbGl6ZVZhbHVlKHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHZhbHVlID0gU3RyaW5nKHZhbHVlKVxuICAgIH1cbiAgICByZXR1cm4gdmFsdWVcbiAgfVxuXG4gIC8vIEJ1aWxkIGEgZGVzdHJ1Y3RpdmUgaXRlcmF0b3IgZm9yIHRoZSB2YWx1ZSBsaXN0XG4gIGZ1bmN0aW9uIGl0ZXJhdG9yRm9yKGl0ZW1zKSB7XG4gICAgdmFyIGl0ZXJhdG9yID0ge1xuICAgICAgbmV4dDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGl0ZW1zLnNoaWZ0KClcbiAgICAgICAgcmV0dXJuIHtkb25lOiB2YWx1ZSA9PT0gdW5kZWZpbmVkLCB2YWx1ZTogdmFsdWV9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHN1cHBvcnQuaXRlcmFibGUpIHtcbiAgICAgIGl0ZXJhdG9yW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhdG9yXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGl0ZXJhdG9yXG4gIH1cblxuICBmdW5jdGlvbiBIZWFkZXJzKGhlYWRlcnMpIHtcbiAgICB0aGlzLm1hcCA9IHt9XG5cbiAgICBpZiAoaGVhZGVycyBpbnN0YW5jZW9mIEhlYWRlcnMpIHtcbiAgICAgIGhlYWRlcnMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwgbmFtZSkge1xuICAgICAgICB0aGlzLmFwcGVuZChuYW1lLCB2YWx1ZSlcbiAgICAgIH0sIHRoaXMpXG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGhlYWRlcnMpKSB7XG4gICAgICBoZWFkZXJzLmZvckVhY2goZnVuY3Rpb24oaGVhZGVyKSB7XG4gICAgICAgIHRoaXMuYXBwZW5kKGhlYWRlclswXSwgaGVhZGVyWzFdKVxuICAgICAgfSwgdGhpcylcbiAgICB9IGVsc2UgaWYgKGhlYWRlcnMpIHtcbiAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGhlYWRlcnMpLmZvckVhY2goZnVuY3Rpb24obmFtZSkge1xuICAgICAgICB0aGlzLmFwcGVuZChuYW1lLCBoZWFkZXJzW25hbWVdKVxuICAgICAgfSwgdGhpcylcbiAgICB9XG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS5hcHBlbmQgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgIG5hbWUgPSBub3JtYWxpemVOYW1lKG5hbWUpXG4gICAgdmFsdWUgPSBub3JtYWxpemVWYWx1ZSh2YWx1ZSlcbiAgICB2YXIgb2xkVmFsdWUgPSB0aGlzLm1hcFtuYW1lXVxuICAgIHRoaXMubWFwW25hbWVdID0gb2xkVmFsdWUgPyBvbGRWYWx1ZSsnLCcrdmFsdWUgOiB2YWx1ZVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGVbJ2RlbGV0ZSddID0gZnVuY3Rpb24obmFtZSkge1xuICAgIGRlbGV0ZSB0aGlzLm1hcFtub3JtYWxpemVOYW1lKG5hbWUpXVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24obmFtZSkge1xuICAgIG5hbWUgPSBub3JtYWxpemVOYW1lKG5hbWUpXG4gICAgcmV0dXJuIHRoaXMuaGFzKG5hbWUpID8gdGhpcy5tYXBbbmFtZV0gOiBudWxsXG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbihuYW1lKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwLmhhc093blByb3BlcnR5KG5vcm1hbGl6ZU5hbWUobmFtZSkpXG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgIHRoaXMubWFwW25vcm1hbGl6ZU5hbWUobmFtZSldID0gbm9ybWFsaXplVmFsdWUodmFsdWUpXG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24oY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICBmb3IgKHZhciBuYW1lIGluIHRoaXMubWFwKSB7XG4gICAgICBpZiAodGhpcy5tYXAuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgY2FsbGJhY2suY2FsbCh0aGlzQXJnLCB0aGlzLm1hcFtuYW1lXSwgbmFtZSwgdGhpcylcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS5rZXlzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGl0ZW1zID0gW11cbiAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIG5hbWUpIHsgaXRlbXMucHVzaChuYW1lKSB9KVxuICAgIHJldHVybiBpdGVyYXRvckZvcihpdGVtcylcbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLnZhbHVlcyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpdGVtcyA9IFtdXG4gICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlKSB7IGl0ZW1zLnB1c2godmFsdWUpIH0pXG4gICAgcmV0dXJuIGl0ZXJhdG9yRm9yKGl0ZW1zKVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuZW50cmllcyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpdGVtcyA9IFtdXG4gICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7IGl0ZW1zLnB1c2goW25hbWUsIHZhbHVlXSkgfSlcbiAgICByZXR1cm4gaXRlcmF0b3JGb3IoaXRlbXMpXG4gIH1cblxuICBpZiAoc3VwcG9ydC5pdGVyYWJsZSkge1xuICAgIEhlYWRlcnMucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl0gPSBIZWFkZXJzLnByb3RvdHlwZS5lbnRyaWVzXG4gIH1cblxuICBmdW5jdGlvbiBjb25zdW1lZChib2R5KSB7XG4gICAgaWYgKGJvZHkuYm9keVVzZWQpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgVHlwZUVycm9yKCdBbHJlYWR5IHJlYWQnKSlcbiAgICB9XG4gICAgYm9keS5ib2R5VXNlZCA9IHRydWVcbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbGVSZWFkZXJSZWFkeShyZWFkZXIpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJlc29sdmUocmVhZGVyLnJlc3VsdClcbiAgICAgIH1cbiAgICAgIHJlYWRlci5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJlamVjdChyZWFkZXIuZXJyb3IpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWRCbG9iQXNBcnJheUJ1ZmZlcihibG9iKSB7XG4gICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKClcbiAgICB2YXIgcHJvbWlzZSA9IGZpbGVSZWFkZXJSZWFkeShyZWFkZXIpXG4gICAgcmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKGJsb2IpXG4gICAgcmV0dXJuIHByb21pc2VcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWRCbG9iQXNUZXh0KGJsb2IpIHtcbiAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKVxuICAgIHZhciBwcm9taXNlID0gZmlsZVJlYWRlclJlYWR5KHJlYWRlcilcbiAgICByZWFkZXIucmVhZEFzVGV4dChibG9iKVxuICAgIHJldHVybiBwcm9taXNlXG4gIH1cblxuICBmdW5jdGlvbiByZWFkQXJyYXlCdWZmZXJBc1RleHQoYnVmKSB7XG4gICAgdmFyIHZpZXcgPSBuZXcgVWludDhBcnJheShidWYpXG4gICAgdmFyIGNoYXJzID0gbmV3IEFycmF5KHZpZXcubGVuZ3RoKVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2aWV3Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBjaGFyc1tpXSA9IFN0cmluZy5mcm9tQ2hhckNvZGUodmlld1tpXSlcbiAgICB9XG4gICAgcmV0dXJuIGNoYXJzLmpvaW4oJycpXG4gIH1cblxuICBmdW5jdGlvbiBidWZmZXJDbG9uZShidWYpIHtcbiAgICBpZiAoYnVmLnNsaWNlKSB7XG4gICAgICByZXR1cm4gYnVmLnNsaWNlKDApXG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB2aWV3ID0gbmV3IFVpbnQ4QXJyYXkoYnVmLmJ5dGVMZW5ndGgpXG4gICAgICB2aWV3LnNldChuZXcgVWludDhBcnJheShidWYpKVxuICAgICAgcmV0dXJuIHZpZXcuYnVmZmVyXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gQm9keSgpIHtcbiAgICB0aGlzLmJvZHlVc2VkID0gZmFsc2VcblxuICAgIHRoaXMuX2luaXRCb2R5ID0gZnVuY3Rpb24oYm9keSkge1xuICAgICAgdGhpcy5fYm9keUluaXQgPSBib2R5XG4gICAgICBpZiAoIWJvZHkpIHtcbiAgICAgICAgdGhpcy5fYm9keVRleHQgPSAnJ1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgYm9keSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGhpcy5fYm9keVRleHQgPSBib2R5XG4gICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuYmxvYiAmJiBCbG9iLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG4gICAgICAgIHRoaXMuX2JvZHlCbG9iID0gYm9keVxuICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LmZvcm1EYXRhICYmIEZvcm1EYXRhLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG4gICAgICAgIHRoaXMuX2JvZHlGb3JtRGF0YSA9IGJvZHlcbiAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5zZWFyY2hQYXJhbXMgJiYgVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG4gICAgICAgIHRoaXMuX2JvZHlUZXh0ID0gYm9keS50b1N0cmluZygpXG4gICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuYXJyYXlCdWZmZXIgJiYgc3VwcG9ydC5ibG9iICYmIGlzRGF0YVZpZXcoYm9keSkpIHtcbiAgICAgICAgdGhpcy5fYm9keUFycmF5QnVmZmVyID0gYnVmZmVyQ2xvbmUoYm9keS5idWZmZXIpXG4gICAgICAgIC8vIElFIDEwLTExIGNhbid0IGhhbmRsZSBhIERhdGFWaWV3IGJvZHkuXG4gICAgICAgIHRoaXMuX2JvZHlJbml0ID0gbmV3IEJsb2IoW3RoaXMuX2JvZHlBcnJheUJ1ZmZlcl0pXG4gICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuYXJyYXlCdWZmZXIgJiYgKEFycmF5QnVmZmVyLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpIHx8IGlzQXJyYXlCdWZmZXJWaWV3KGJvZHkpKSkge1xuICAgICAgICB0aGlzLl9ib2R5QXJyYXlCdWZmZXIgPSBidWZmZXJDbG9uZShib2R5KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bnN1cHBvcnRlZCBCb2R5SW5pdCB0eXBlJylcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLmhlYWRlcnMuZ2V0KCdjb250ZW50LXR5cGUnKSkge1xuICAgICAgICBpZiAodHlwZW9mIGJvZHkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgdGhpcy5oZWFkZXJzLnNldCgnY29udGVudC10eXBlJywgJ3RleHQvcGxhaW47Y2hhcnNldD1VVEYtOCcpXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUJsb2IgJiYgdGhpcy5fYm9keUJsb2IudHlwZSkge1xuICAgICAgICAgIHRoaXMuaGVhZGVycy5zZXQoJ2NvbnRlbnQtdHlwZScsIHRoaXMuX2JvZHlCbG9iLnR5cGUpXG4gICAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5zZWFyY2hQYXJhbXMgJiYgVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG4gICAgICAgICAgdGhpcy5oZWFkZXJzLnNldCgnY29udGVudC10eXBlJywgJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PVVURi04JylcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzdXBwb3J0LmJsb2IpIHtcbiAgICAgIHRoaXMuYmxvYiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcmVqZWN0ZWQgPSBjb25zdW1lZCh0aGlzKVxuICAgICAgICBpZiAocmVqZWN0ZWQpIHtcbiAgICAgICAgICByZXR1cm4gcmVqZWN0ZWRcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9ib2R5QmxvYikge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fYm9keUJsb2IpXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUFycmF5QnVmZmVyKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShuZXcgQmxvYihbdGhpcy5fYm9keUFycmF5QnVmZmVyXSkpXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUZvcm1EYXRhKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjb3VsZCBub3QgcmVhZCBGb3JtRGF0YSBib2R5IGFzIGJsb2InKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobmV3IEJsb2IoW3RoaXMuX2JvZHlUZXh0XSkpXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhpcy5hcnJheUJ1ZmZlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5fYm9keUFycmF5QnVmZmVyKSB7XG4gICAgICAgICAgcmV0dXJuIGNvbnN1bWVkKHRoaXMpIHx8IFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuYmxvYigpLnRoZW4ocmVhZEJsb2JBc0FycmF5QnVmZmVyKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy50ZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcmVqZWN0ZWQgPSBjb25zdW1lZCh0aGlzKVxuICAgICAgaWYgKHJlamVjdGVkKSB7XG4gICAgICAgIHJldHVybiByZWplY3RlZFxuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5fYm9keUJsb2IpIHtcbiAgICAgICAgcmV0dXJuIHJlYWRCbG9iQXNUZXh0KHRoaXMuX2JvZHlCbG9iKVxuICAgICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZWFkQXJyYXlCdWZmZXJBc1RleHQodGhpcy5fYm9keUFycmF5QnVmZmVyKSlcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUZvcm1EYXRhKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignY291bGQgbm90IHJlYWQgRm9ybURhdGEgYm9keSBhcyB0ZXh0JylcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fYm9keVRleHQpXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHN1cHBvcnQuZm9ybURhdGEpIHtcbiAgICAgIHRoaXMuZm9ybURhdGEgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGV4dCgpLnRoZW4oZGVjb2RlKVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuanNvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMudGV4dCgpLnRoZW4oSlNPTi5wYXJzZSlcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLy8gSFRUUCBtZXRob2RzIHdob3NlIGNhcGl0YWxpemF0aW9uIHNob3VsZCBiZSBub3JtYWxpemVkXG4gIHZhciBtZXRob2RzID0gWydERUxFVEUnLCAnR0VUJywgJ0hFQUQnLCAnT1BUSU9OUycsICdQT1NUJywgJ1BVVCddXG5cbiAgZnVuY3Rpb24gbm9ybWFsaXplTWV0aG9kKG1ldGhvZCkge1xuICAgIHZhciB1cGNhc2VkID0gbWV0aG9kLnRvVXBwZXJDYXNlKClcbiAgICByZXR1cm4gKG1ldGhvZHMuaW5kZXhPZih1cGNhc2VkKSA+IC0xKSA/IHVwY2FzZWQgOiBtZXRob2RcbiAgfVxuXG4gIGZ1bmN0aW9uIFJlcXVlc3QoaW5wdXQsIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fVxuICAgIHZhciBib2R5ID0gb3B0aW9ucy5ib2R5XG5cbiAgICBpZiAoaW5wdXQgaW5zdGFuY2VvZiBSZXF1ZXN0KSB7XG4gICAgICBpZiAoaW5wdXQuYm9keVVzZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQWxyZWFkeSByZWFkJylcbiAgICAgIH1cbiAgICAgIHRoaXMudXJsID0gaW5wdXQudXJsXG4gICAgICB0aGlzLmNyZWRlbnRpYWxzID0gaW5wdXQuY3JlZGVudGlhbHNcbiAgICAgIGlmICghb3B0aW9ucy5oZWFkZXJzKSB7XG4gICAgICAgIHRoaXMuaGVhZGVycyA9IG5ldyBIZWFkZXJzKGlucHV0LmhlYWRlcnMpXG4gICAgICB9XG4gICAgICB0aGlzLm1ldGhvZCA9IGlucHV0Lm1ldGhvZFxuICAgICAgdGhpcy5tb2RlID0gaW5wdXQubW9kZVxuICAgICAgaWYgKCFib2R5ICYmIGlucHV0Ll9ib2R5SW5pdCAhPSBudWxsKSB7XG4gICAgICAgIGJvZHkgPSBpbnB1dC5fYm9keUluaXRcbiAgICAgICAgaW5wdXQuYm9keVVzZWQgPSB0cnVlXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudXJsID0gU3RyaW5nKGlucHV0KVxuICAgIH1cblxuICAgIHRoaXMuY3JlZGVudGlhbHMgPSBvcHRpb25zLmNyZWRlbnRpYWxzIHx8IHRoaXMuY3JlZGVudGlhbHMgfHwgJ29taXQnXG4gICAgaWYgKG9wdGlvbnMuaGVhZGVycyB8fCAhdGhpcy5oZWFkZXJzKSB7XG4gICAgICB0aGlzLmhlYWRlcnMgPSBuZXcgSGVhZGVycyhvcHRpb25zLmhlYWRlcnMpXG4gICAgfVxuICAgIHRoaXMubWV0aG9kID0gbm9ybWFsaXplTWV0aG9kKG9wdGlvbnMubWV0aG9kIHx8IHRoaXMubWV0aG9kIHx8ICdHRVQnKVxuICAgIHRoaXMubW9kZSA9IG9wdGlvbnMubW9kZSB8fCB0aGlzLm1vZGUgfHwgbnVsbFxuICAgIHRoaXMucmVmZXJyZXIgPSBudWxsXG5cbiAgICBpZiAoKHRoaXMubWV0aG9kID09PSAnR0VUJyB8fCB0aGlzLm1ldGhvZCA9PT0gJ0hFQUQnKSAmJiBib2R5KSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdCb2R5IG5vdCBhbGxvd2VkIGZvciBHRVQgb3IgSEVBRCByZXF1ZXN0cycpXG4gICAgfVxuICAgIHRoaXMuX2luaXRCb2R5KGJvZHkpXG4gIH1cblxuICBSZXF1ZXN0LnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBuZXcgUmVxdWVzdCh0aGlzLCB7IGJvZHk6IHRoaXMuX2JvZHlJbml0IH0pXG4gIH1cblxuICBmdW5jdGlvbiBkZWNvZGUoYm9keSkge1xuICAgIHZhciBmb3JtID0gbmV3IEZvcm1EYXRhKClcbiAgICBib2R5LnRyaW0oKS5zcGxpdCgnJicpLmZvckVhY2goZnVuY3Rpb24oYnl0ZXMpIHtcbiAgICAgIGlmIChieXRlcykge1xuICAgICAgICB2YXIgc3BsaXQgPSBieXRlcy5zcGxpdCgnPScpXG4gICAgICAgIHZhciBuYW1lID0gc3BsaXQuc2hpZnQoKS5yZXBsYWNlKC9cXCsvZywgJyAnKVxuICAgICAgICB2YXIgdmFsdWUgPSBzcGxpdC5qb2luKCc9JykucmVwbGFjZSgvXFwrL2csICcgJylcbiAgICAgICAgZm9ybS5hcHBlbmQoZGVjb2RlVVJJQ29tcG9uZW50KG5hbWUpLCBkZWNvZGVVUklDb21wb25lbnQodmFsdWUpKVxuICAgICAgfVxuICAgIH0pXG4gICAgcmV0dXJuIGZvcm1cbiAgfVxuXG4gIGZ1bmN0aW9uIHBhcnNlSGVhZGVycyhyYXdIZWFkZXJzKSB7XG4gICAgdmFyIGhlYWRlcnMgPSBuZXcgSGVhZGVycygpXG4gICAgcmF3SGVhZGVycy5zcGxpdCgvXFxyP1xcbi8pLmZvckVhY2goZnVuY3Rpb24obGluZSkge1xuICAgICAgdmFyIHBhcnRzID0gbGluZS5zcGxpdCgnOicpXG4gICAgICB2YXIga2V5ID0gcGFydHMuc2hpZnQoKS50cmltKClcbiAgICAgIGlmIChrZXkpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gcGFydHMuam9pbignOicpLnRyaW0oKVxuICAgICAgICBoZWFkZXJzLmFwcGVuZChrZXksIHZhbHVlKVxuICAgICAgfVxuICAgIH0pXG4gICAgcmV0dXJuIGhlYWRlcnNcbiAgfVxuXG4gIEJvZHkuY2FsbChSZXF1ZXN0LnByb3RvdHlwZSlcblxuICBmdW5jdGlvbiBSZXNwb25zZShib2R5SW5pdCwgb3B0aW9ucykge1xuICAgIGlmICghb3B0aW9ucykge1xuICAgICAgb3B0aW9ucyA9IHt9XG4gICAgfVxuXG4gICAgdGhpcy50eXBlID0gJ2RlZmF1bHQnXG4gICAgdGhpcy5zdGF0dXMgPSAnc3RhdHVzJyBpbiBvcHRpb25zID8gb3B0aW9ucy5zdGF0dXMgOiAyMDBcbiAgICB0aGlzLm9rID0gdGhpcy5zdGF0dXMgPj0gMjAwICYmIHRoaXMuc3RhdHVzIDwgMzAwXG4gICAgdGhpcy5zdGF0dXNUZXh0ID0gJ3N0YXR1c1RleHQnIGluIG9wdGlvbnMgPyBvcHRpb25zLnN0YXR1c1RleHQgOiAnT0snXG4gICAgdGhpcy5oZWFkZXJzID0gbmV3IEhlYWRlcnMob3B0aW9ucy5oZWFkZXJzKVxuICAgIHRoaXMudXJsID0gb3B0aW9ucy51cmwgfHwgJydcbiAgICB0aGlzLl9pbml0Qm9keShib2R5SW5pdClcbiAgfVxuXG4gIEJvZHkuY2FsbChSZXNwb25zZS5wcm90b3R5cGUpXG5cbiAgUmVzcG9uc2UucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZSh0aGlzLl9ib2R5SW5pdCwge1xuICAgICAgc3RhdHVzOiB0aGlzLnN0YXR1cyxcbiAgICAgIHN0YXR1c1RleHQ6IHRoaXMuc3RhdHVzVGV4dCxcbiAgICAgIGhlYWRlcnM6IG5ldyBIZWFkZXJzKHRoaXMuaGVhZGVycyksXG4gICAgICB1cmw6IHRoaXMudXJsXG4gICAgfSlcbiAgfVxuXG4gIFJlc3BvbnNlLmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHJlc3BvbnNlID0gbmV3IFJlc3BvbnNlKG51bGwsIHtzdGF0dXM6IDAsIHN0YXR1c1RleHQ6ICcnfSlcbiAgICByZXNwb25zZS50eXBlID0gJ2Vycm9yJ1xuICAgIHJldHVybiByZXNwb25zZVxuICB9XG5cbiAgdmFyIHJlZGlyZWN0U3RhdHVzZXMgPSBbMzAxLCAzMDIsIDMwMywgMzA3LCAzMDhdXG5cbiAgUmVzcG9uc2UucmVkaXJlY3QgPSBmdW5jdGlvbih1cmwsIHN0YXR1cykge1xuICAgIGlmIChyZWRpcmVjdFN0YXR1c2VzLmluZGV4T2Yoc3RhdHVzKSA9PT0gLTEpIHtcbiAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbnZhbGlkIHN0YXR1cyBjb2RlJylcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFJlc3BvbnNlKG51bGwsIHtzdGF0dXM6IHN0YXR1cywgaGVhZGVyczoge2xvY2F0aW9uOiB1cmx9fSlcbiAgfVxuXG4gIHNlbGYuSGVhZGVycyA9IEhlYWRlcnNcbiAgc2VsZi5SZXF1ZXN0ID0gUmVxdWVzdFxuICBzZWxmLlJlc3BvbnNlID0gUmVzcG9uc2VcblxuICBzZWxmLmZldGNoID0gZnVuY3Rpb24oaW5wdXQsIGluaXQpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgcmVxdWVzdCA9IG5ldyBSZXF1ZXN0KGlucHV0LCBpbml0KVxuICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpXG5cbiAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgICAgc3RhdHVzOiB4aHIuc3RhdHVzLFxuICAgICAgICAgIHN0YXR1c1RleHQ6IHhoci5zdGF0dXNUZXh0LFxuICAgICAgICAgIGhlYWRlcnM6IHBhcnNlSGVhZGVycyh4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkgfHwgJycpXG4gICAgICAgIH1cbiAgICAgICAgb3B0aW9ucy51cmwgPSAncmVzcG9uc2VVUkwnIGluIHhociA/IHhoci5yZXNwb25zZVVSTCA6IG9wdGlvbnMuaGVhZGVycy5nZXQoJ1gtUmVxdWVzdC1VUkwnKVxuICAgICAgICB2YXIgYm9keSA9ICdyZXNwb25zZScgaW4geGhyID8geGhyLnJlc3BvbnNlIDogeGhyLnJlc3BvbnNlVGV4dFxuICAgICAgICByZXNvbHZlKG5ldyBSZXNwb25zZShib2R5LCBvcHRpb25zKSlcbiAgICAgIH1cblxuICAgICAgeGhyLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmVqZWN0KG5ldyBUeXBlRXJyb3IoJ05ldHdvcmsgcmVxdWVzdCBmYWlsZWQnKSlcbiAgICAgIH1cblxuICAgICAgeGhyLm9udGltZW91dCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZWplY3QobmV3IFR5cGVFcnJvcignTmV0d29yayByZXF1ZXN0IGZhaWxlZCcpKVxuICAgICAgfVxuXG4gICAgICB4aHIub3BlbihyZXF1ZXN0Lm1ldGhvZCwgcmVxdWVzdC51cmwsIHRydWUpXG5cbiAgICAgIGlmIChyZXF1ZXN0LmNyZWRlbnRpYWxzID09PSAnaW5jbHVkZScpIHtcbiAgICAgICAgeGhyLndpdGhDcmVkZW50aWFscyA9IHRydWVcbiAgICAgIH1cblxuICAgICAgaWYgKCdyZXNwb25zZVR5cGUnIGluIHhociAmJiBzdXBwb3J0LmJsb2IpIHtcbiAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdibG9iJ1xuICAgICAgfVxuXG4gICAgICByZXF1ZXN0LmhlYWRlcnMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwgbmFtZSkge1xuICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihuYW1lLCB2YWx1ZSlcbiAgICAgIH0pXG5cbiAgICAgIHhoci5zZW5kKHR5cGVvZiByZXF1ZXN0Ll9ib2R5SW5pdCA9PT0gJ3VuZGVmaW5lZCcgPyBudWxsIDogcmVxdWVzdC5fYm9keUluaXQpXG4gICAgfSlcbiAgfVxuICBzZWxmLmZldGNoLnBvbHlmaWxsID0gdHJ1ZVxufSkodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHRoaXMpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvd2hhdHdnLWZldGNoL2ZldGNoLmpzXG4vLyBtb2R1bGUgaWQgPSA2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgcmFuZG9tQnl0ZSA9IHJlcXVpcmUoJy4vcmFuZG9tL3JhbmRvbS1ieXRlJyk7XG5cbmZ1bmN0aW9uIGVuY29kZShsb29rdXAsIG51bWJlcikge1xuICAgIHZhciBsb29wQ291bnRlciA9IDA7XG4gICAgdmFyIGRvbmU7XG5cbiAgICB2YXIgc3RyID0gJyc7XG5cbiAgICB3aGlsZSAoIWRvbmUpIHtcbiAgICAgICAgc3RyID0gc3RyICsgbG9va3VwKCAoIChudW1iZXIgPj4gKDQgKiBsb29wQ291bnRlcikpICYgMHgwZiApIHwgcmFuZG9tQnl0ZSgpICk7XG4gICAgICAgIGRvbmUgPSBudW1iZXIgPCAoTWF0aC5wb3coMTYsIGxvb3BDb3VudGVyICsgMSApICk7XG4gICAgICAgIGxvb3BDb3VudGVyKys7XG4gICAgfVxuICAgIHJldHVybiBzdHI7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZW5jb2RlO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvc2hvcnRpZC9saWIvZW5jb2RlLmpzXG4vLyBtb2R1bGUgaWQgPSA3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImltcG9ydCBIZWFkIGZyb20gJy4vY2xhc3Nlcy9IZWFkJztcbmltcG9ydCBDb2xvcnMgZnJvbSAnLi9vYmplY3RzL2NvbG9ycyc7XG5pbXBvcnQgQXVkaW8gZnJvbSAnLi9jbGFzc2VzL0F1ZGlvLmpzJztcbmltcG9ydCBoYW5kbGVTYXZlIGZyb20gJy4vb2JqZWN0cy9TYXZlJztcbmltcG9ydCBDYXJ0QVBJIGZyb20gJy4vbGliL2NhcnRBUEknO1xuXG57XG4gIGxldCBzY2VuZSwgY2FtZXJhLCBmaWVsZE9mVmlldywgYXNwZWN0UmF0aW8sIG5lYXJQbGFuZSwgZmFyUGxhbmUsIEhFSUdIVCwgV0lEVEg7XG4gIGxldCBnbG9iYWxMaWdodCwgc2hhZG93TGlnaHQsIGJhY2tMaWdodCwgbGlnaHQsIHJlbmRlcmVyLCBjb250YWluZXIsIGxvYWRlZDtcbiAgbGV0IGhlYWQsIHdpbmRvd0hhbGZYLCB3aW5kb3dIYWxmWSwgY29sb3IsIGF1ZGlvLCBTcGVlY2hUZXh0O1xuXG4gIC8vIHZhcnMgZm9yIGRhdC5ndWlcbiAgbGV0IGNvbnRyb2xsZXIsIGd1aTtcbiAgY29uc3Qgc2F2ZUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBzYXZlYCk7XG5cbiAgbGV0IG1vdXNlUG9zID0geyB4OiAwLCB5OiAwfTtcblxuICBjb25zdCBpbml0ID0gKCkgPT4ge1xuICAgIC8vIGNyZWF0ZSBzbm93XG4gICAgcGFydGljbGVzSlMubG9hZCgncGFydGljbGVzLWpzJywgJy4uL2Fzc2V0cy9wYXJ0aWNsZXMuanNvbicsICgpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdjYWxsYmFjayAtIHBhcnRpY2xlcy5qcyBjb25maWcgbG9hZGVkJyk7XG4gICAgfSk7XG5cbiAgICBjcmVhdGVTY2VuZSgpO1xuICAgIGNyZWF0ZUxpZ2h0cygpO1xuXG4gICAgYXVkaW8gPSBuZXcgQXVkaW8oKTsgLy8gaGFuZGxlIGF1ZGlvXG4gICAgaGVhZCA9IG5ldyBIZWFkKCk7IC8vIHNob3cgYW5kIGhhbmRsZSBoZWFkXG4gICAgc2NlbmUuYWRkKGhlYWQubWVzaCk7XG4gICAgLy9zY2VuZS5hZGQoc3RhcnMubWVzaCk7XG4gICAgY29uc29sZS5sb2coYXVkaW8uaWQpO1xuICAgIC8vIHNlbmQgb2JqZWN0cyB0byBzYXZlIG9uIGNsaWNrXG4gICAgc2F2ZUJ0bi5hZGRFdmVudExpc3RlbmVyKGBjbGlja2AsICgpID0+IHtcbiAgICAgIGhhbmRsZVNhdmUoe1xuICAgICAgICB0ZXh0OiBhdWRpby50eHQsXG4gICAgICAgIGlkOiBhdWRpby5pZFxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBndWkgPSBuZXcgZGF0LkdVSSgpO1xuICAgIGd1aS5kb21FbGVtZW50LmlkID0gJ2d1aSc7XG4gICAgZ3VpLmNsb3NlZCA9IHRydWU7XG4gICAgY29udHJvbGxlciA9IG5ldyBjb250cm9sbGVyVGV4dCgpO1xuICAgIGd1aUNvbnRyb2xsZXIoWydza2luJywgJ2ZyZWNrbGVzJywgJ2V5ZScsICdnbGFzc2VzJywgJ2hhdCddKTsgLy8gYWRkIGd1aSBmb3IgYXJyYXkgb2JqZWN0IGFuZCBzZXQgY29sb3JzIG9uIGNvbG9yIGNoYW5nZVxuXG4gICAgd2luZG93LnNjZW5lID0gc2NlbmU7IC8vIHNldCBzY2VuZSBmb3IgZXh0ZW5zaW9uXG5cbiAgICBsb29wKCk7XG4gIH07XG5cbiAgY29uc3QgZ3VpQ29udHJvbGxlciA9IGtleXMgPT4ge1xuICAgIGtleXMuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgZ3VpLmFkZENvbG9yKGNvbnRyb2xsZXIsIGtleSkub25DaGFuZ2UoKCkgPT4ge1xuXG4gICAgICAgIC8vIHNldCByaWdodCBjb2xvciBmb3IgbWF0ZXJpYWxcbiAgICAgICAgc3dpdGNoIChrZXkpIHtcbiAgICAgICAgICBjYXNlICdza2luJzogQ29sb3JzLnNraW4gPSBjb250cm9sbGVyLnNraW47XG4gICAgICAgICAgY2FzZSAnZnJlY2tsZXMnOiBDb2xvcnMuZnJlY2tsZXMgPSBjb250cm9sbGVyLmZyZWNrbGVzO1xuICAgICAgICAgIGNhc2UgJ2V5ZSc6IENvbG9ycy5leWUgPSBjb250cm9sbGVyLmV5ZTtcbiAgICAgICAgICBjYXNlICdnbGFzc2VzJzogQ29sb3JzLmdsYXNzZXMgPSBjb250cm9sbGVyLmdsYXNzZXM7XG4gICAgICAgICAgY2FzZSAnaGF0JzogQ29sb3JzLmhhdCA9IGNvbnRyb2xsZXIuaGF0O1xuICAgICAgICB9XG5cbiAgICAgICAgLy9yZW1vdmUgY3VycmVudCBoZWFkIGFuZCBtYWtlIGEgbmV3IG9uZSB0byBzZXQgY3VycmVudCBjb2xvclxuICAgICAgICBzY2VuZS5yZW1vdmUoaGVhZC5tZXNoKTtcbiAgICAgICAgY3JlYXRlSGVhZCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBjb25zdCBkZWMyaGV4ID0gKGkpID0+IHtcbiAgICB2YXIgcmVzdWx0ID0gXCIweDAwMDAwMFwiO1xuICAgIGlmIChpID49IDAgJiYgaSA8PSAxNSkge1xuICAgICAgcmVzdWx0ID0gXCIweDAwMDAwXCIgKyBpLnRvU3RyaW5nKDE2KTtcbiAgICB9IGVsc2UgaWYgKGkgPj0gMTYgJiYgaSA8PSAyNTUpIHtcbiAgICAgIHJlc3VsdCA9IFwiMHgwMDAwXCIgKyBpLnRvU3RyaW5nKDE2KTtcbiAgICB9IGVsc2UgaWYgKGkgPj0gMjU2ICYmIGkgPD0gNDA5NSkge1xuICAgICAgcmVzdWx0ID0gXCIweDAwMFwiICsgaS50b1N0cmluZygxNik7XG4gICAgfSBlbHNlIGlmIChpID49IDQwOTYgJiYgaSA8PSA2NTUzNSkge1xuICAgICAgcmVzdWx0ID0gXCIweDAwXCIgKyBpLnRvU3RyaW5nKDE2KTtcbiAgICB9IGVsc2UgaWYgKGkgPj0gNjU1MzUgJiYgaSA8PSAxMDQ4NTc1KSB7XG4gICAgICByZXN1bHQgPSBcIjB4MFwiICsgaS50b1N0cmluZygxNik7XG4gICAgfSBlbHNlIGlmIChpID49IDEwNDg1NzUpIHtcbiAgICAgIHJlc3VsdCA9ICcweCcgKyBpLnRvU3RyaW5nKDE2KTtcbiAgICB9XG4gICAgaWYgKHJlc3VsdC5sZW5ndGggPT0gOCkge1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gIH1cblxuICBjb25zdCBjcmVhdGVTY2VuZSA9ICgpID0+IHs7XG4gICAgSEVJR0hUID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgIFdJRFRIID0gd2luZG93LmlubmVyV2lkdGggLzEuNjc7XG4gICAgd2luZG93SGFsZlggPSBXSURUSCAvIDI7XG4gICAgd2luZG93SGFsZlkgPSBIRUlHSFQgLyAyO1xuXG4gICAgc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTtcbiAgICBhc3BlY3RSYXRpbyA9IFdJRFRIIC8gSEVJR0hUO1xuICAgIGZpZWxkT2ZWaWV3ID0gNTA7XG4gICAgbmVhclBsYW5lID0gMTtcbiAgICBmYXJQbGFuZSA9IDIwMDA7XG5cbiAgICBjYW1lcmEgPSBuZXcgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEoZmllbGRPZlZpZXcsIGFzcGVjdFJhdGlvLCBuZWFyUGxhbmUsIGZhclBsYW5lKTtcbiAgICBjYW1lcmEucG9zaXRpb24ueCA9IDA7XG4gICAgY2FtZXJhLnBvc2l0aW9uLnogPSA3MDtcbiAgICBjYW1lcmEucG9zaXRpb24ueSA9IC01O1xuXG4gICAgcmVuZGVyZXIgPSBuZXcgVEhSRUUuV2ViR0xSZW5kZXJlcih7YWxwaGE6IHRydWUsIGFudGlhbGlhczogdHJ1ZX0pO1xuICAgIHJlbmRlcmVyLnNldFBpeGVsUmF0aW8od2luZG93LmRldmljZVBpeGVsUmF0aW8/IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvOiAxKVxuICAgIHJlbmRlcmVyLnNldFNpemUoV0lEVEgsIEhFSUdIVCk7XG4gICAgcmVuZGVyZXIuc2hhZG93TWFwLmVuYWJsZWQgPSB0cnVlO1xuICAgIHJlbmRlcmVyLnNoYWRvd01hcC50eXBlID0gVEhSRUUuUENGU29mdFNoYWRvd01hcDtcblxuICAgIGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250YWluZXInKVxuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChyZW5kZXJlci5kb21FbGVtZW50KTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgb25XaW5kb3dSZXNpemUsIGZhbHNlKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBoYW5kbGVNb3VzZU1vdmUsIGZhbHNlKTtcbiAgfVxuXG4gIGNvbnN0IG9uV2luZG93UmVzaXplID0gKCkgPT4ge1xuICAgIEhFSUdIVCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICBXSURUSCA9IHdpbmRvdy5pbm5lcldpZHRoICAvIDEuNjc7XG4gICAgd2luZG93SGFsZlggPSBXSURUSCAvIDI7XG4gICAgd2luZG93SGFsZlkgPSBIRUlHSFQgLyAyO1xuICAgIHJlbmRlcmVyLnNldFNpemUoV0lEVEgsIEhFSUdIVCk7XG4gICAgY2FtZXJhLmFzcGVjdCA9IFdJRFRIIC8gSEVJR0hUO1xuICAgIGNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gIH1cblxuICBjb25zdCBoYW5kbGVNb3VzZU1vdmUgPSBlID0+IHtcbiAgICBtb3VzZVBvcyA9IHtcbiAgICAgIHg6IGV2ZW50LmNsaWVudFgsXG4gICAgICB5OiBldmVudC5jbGllbnRZXG4gICAgfTtcbiAgfVxuXG4gIGxldCBsb2FkZXJNYW5hZ2VyID0gbmV3IFRIUkVFLkxvYWRpbmdNYW5hZ2VyKCk7XG5cbiAgY29uc3QgaGFuZGxlV2luZG93UmVzaXplID0gZSA9PiB7XG4gICAgSEVJR0hUID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgIFdJRFRIID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgcmVuZGVyZXIuc2V0U2l6ZShXSURUSCwgSEVJR0hUKTtcbiAgICBjYW1lcmEuYXNwZWN0ID0gV0lEVEggLyBIRUlHSFQ7XG4gICAgY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcbiAgfVxuXG4gIGxldCBpc01vYmlsZSA9IC9pUGhvbmV8QW5kcm9pZC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG5cbiAgY29uc3QgY3JlYXRlTGlnaHRzID0gKCkgPT4ge1xuICAgIGdsb2JhbExpZ2h0ID0gbmV3IFRIUkVFLkhlbWlzcGhlcmVMaWdodCgweGZmZmZmZiwgMHg1NTU1NTUsIC45KTtcblxuICAgIHNoYWRvd0xpZ2h0ID0gbmV3IFRIUkVFLkRpcmVjdGlvbmFsTGlnaHQoMHhmZmZmZmYsIC4zKTtcbiAgICBzaGFkb3dMaWdodC5wb3NpdGlvbi5zZXQoMTAwLCAyNTAsIDE3NSk7XG4gICAgc2hhZG93TGlnaHQuY2FzdFNoYWRvdyA9IHRydWU7XG5cbiAgICBiYWNrTGlnaHQgPSBuZXcgVEhSRUUuRGlyZWN0aW9uYWxMaWdodCgweGZmZmZmZiwgLjIpO1xuICAgIGJhY2tMaWdodC5wb3NpdGlvbi5zZXQoLTEwMCwgMjAwLCAxNTApO1xuICAgIGJhY2tMaWdodC5jYXN0U2hhZG93ID0gdHJ1ZTtcblxuICAgIGlmIChpc01vYmlsZSkgc2hhZG93TGlnaHQuc2hhZG93Lm1hcFNpemUud2lkdGggPSBzaGFkb3dMaWdodC5zaGFkb3cubWFwU2l6ZS5oZWlnaHQgPSAxMDI0O1xuICAgIGlmICghaXNNb2JpbGUpIHNoYWRvd0xpZ2h0LnNoYWRvdy5tYXBTaXplLndpZHRoID0gc2hhZG93TGlnaHQuc2hhZG93Lm1hcFNpemUuaGVpZ2h0ID0gMjA0ODtcblxuICAgIHNjZW5lLmFkZChnbG9iYWxMaWdodCk7XG4gICAgc2NlbmUuYWRkKHNoYWRvd0xpZ2h0KTtcbiAgICBzY2VuZS5hZGQoYmFja0xpZ2h0KTtcbiAgICBzY2VuZS5hZGQoIG5ldyBUSFJFRS5BbWJpZW50TGlnaHQoIDB4ZWFkZWFkLCAwLjEgKSk7XG4gIH1cblxuICAvLyBjb25zdCBjcmVhdGVIZWFkID0gKCkgPT4ge1xuICAvLyAgIGhlYWQubmFtZSA9IFwiSGVhZFwiO1xuICAvLyAgIGhlYWQgPSBuZXcgSGVhZCgpO1xuICAvLyAgIGNvbnNvbGUubG9nKFwiY3JlYXRlSGVhZFwiKTtcbiAgLy8gICBoZWFkLmlkbGUoKTtcbiAgLy8gICAvL2hlYWQuZGl6enkoKTtcbiAgLy8gICBzY2VuZS5hZGQoaGVhZC5tZXNoKTtcbiAgLy9cbiAgLy8gICBzdGFycyA9IG5ldyBTdGFyc0dyb3VwKCk7XG4gIC8vICAgc2NlbmUuYWRkKHN0YXJzLm1lc2gpO1xuICAvLyB9XG5cbiAgLy8gY29uc3QgY3JlYXRlQ2hhcmFjdGVyID0gKCkgPT4ge1xuICAvLyAgIGNvbnNvbGUubG9nKFwiQ1JFQVRFIENIQVJBQ1RFUlwiKTtcbiAgLy8gICBjcmVhdGVIZWFkKCk7XG4gIC8vICAgaGVhZC5tZXNoLnBvc2l0aW9uLnNldCgwLCAyLCAwKTtcbiAgLy8gICBzdGFycy5tZXNoLnBvc2l0aW9uLnNldCgwLCAxMCwgMCk7XG4gIC8vIH1cblxuICBsZXQgaXNCbGlua2luZyA9IGZhbHNlO1xuICBjb25zdCBibGlua0xvb3AgPSAoKSA9PiB7XG4gICAgaXNCbGlua2luZyA9IGZhbHNlO1xuXG4gICAgaWYgKCghaXNCbGlua2luZykgJiYgKE1hdGgucmFuZG9tKCkgPiAwLjk5KSkge1xuICAgICAgaXNCbGlua2luZyA9IHRydWU7XG4gICAgICBibGluaygpO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGJsaW5rID0gKCkgPT4ge1xuICAgIGhlYWQuZXllcy5zY2FsZS55ID0gMTtcbiAgICBUd2Vlbk1heC50byhoZWFkLmV5ZXMuc2NhbGUsIC4wNywge1xuICAgICAgeTogMCxcbiAgICAgIHlveW86IHRydWUsXG4gICAgICByZXBlYXQ6IDEsXG4gICAgICBvbkNvbXBsZXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaXNCbGlua2luZyA9IGZhbHNlO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgY2xhc3MgY29udHJvbGxlclRleHQge1xuICAgIGNvbnN0cnVjdG9yICgpe1xuICAgICAgdGhpcy5za2luID0gQ29sb3JzLnNraW47XG4gICAgICB0aGlzLmZyZWNrbGVzID0gQ29sb3JzLmZyZWNrbGVzO1xuICAgICAgdGhpcy5leWUgPSBDb2xvcnMuZXllO1xuICAgICAgdGhpcy5nbGFzc2VzID0gQ29sb3JzLmdsYXNzZXM7XG4gICAgICB0aGlzLmhhdCA9IENvbG9ycy5oYXQ7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgbG9vcCA9ICgpID0+IHtcbiAgICBibGlua0xvb3AoKTtcbiAgICAvL2hlYWQuZGl6enkoKTtcbiAgICBoZWFkLmlkbGUoeFRhcmdldCwgeVRhcmdldCk7XG5cbiAgICBsZXQgeFRhcmdldCA9IChtb3VzZVBvcy54IC0gd2luZG93SGFsZlgpO1xuICAgIGxldCB5VGFyZ2V0ID0gKG1vdXNlUG9zLnkgLSB3aW5kb3dIYWxmWSk7XG5cbiAgICByZW5kZXJlci5yZW5kZXIoc2NlbmUsIGNhbWVyYSk7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGxvb3ApO1xuICB9XG5cbiAgLy93aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGluaXQsIGZhbHNlKTtcblxuICBpbml0KCk7XG5cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9qcy9zY3JpcHQuanMiLCJpbXBvcnQgU291bmRBUEkgZnJvbSAnLi4vbGliL3NvdW5kQVBJJztcbmltcG9ydCBzaG9ydElkIGZyb20gJ3Nob3J0aWQnO1xuXG52YXIgU3BlZWNoUmVjb2duaXRpb24gPSBTcGVlY2hSZWNvZ25pdGlvbiB8fCB3ZWJraXRTcGVlY2hSZWNvZ25pdGlvblxudmFyIFNwZWVjaEdyYW1tYXJMaXN0ID0gU3BlZWNoR3JhbW1hckxpc3QgfHwgd2Via2l0U3BlZWNoR3JhbW1hckxpc3RcbnZhciBTcGVlY2hSZWNvZ25pdGlvbkV2ZW50ID0gU3BlZWNoUmVjb2duaXRpb25FdmVudCB8fCB3ZWJraXRTcGVlY2hSZWNvZ25pdGlvbkV2ZW50XG5jb25zdCBBdWRpb0NvbnRleHQgPSB3aW5kb3cuQXVkaW9Db250ZXh0IHx8IHdpbmRvdy53ZWJraXRBdWRpb0NvbnRleHQ7XG5cbmxldCBhdWRpb0N0eCwgcmVjb2duaXRpb247XG5sZXQgdHJhbnNjcmlwdCA9IFwiXCI7XG5sZXQgYXVkaW9DaHVua3MgPSBbXTtcblxuY29uc3QgJHRleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgZmllbGRgKTtcbmNvbnN0ICRyZWNvcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgcmVjb3JkYCk7XG5jb25zdCAkYXVkaW8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgYXVkaW9fY29udHJvbHNgKTtcbmNvbnN0ICRzdG9wID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHN0b3BgKTtcblxubGV0IGF1ZGlvU291cmNlcyA9IFtdLFxuICAgIHBpdGNoU2hpZnRlclByb2Nlc3NvcjtcblxubGV0IGF1ZGlvU291cmNlSW5kZXggPSAwLFxuICAgIGF1ZGlvVmlzdWFsaXNhdGlvbkluZGV4ID0gMCxcbiAgICB2YWxpZEdyYW5TaXplcyA9IFsyNTYsIDUxMiwgMTAyNCwgMjA0OCwgNDA5NiwgODE5Ml0sXG4gICAgZ3JhaW5TaXplID0gdmFsaWRHcmFuU2l6ZXNbMl0sXG4gICAgcGl0Y2hSYXRpbyA9IDEuMCxcbiAgICBvdmVybGFwUmF0aW8gPSAwLjUwO1xuXG5jb25zdCBpZCA9IHNob3J0SWQuZ2VuZXJhdGUoKTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXVkaW8ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmlkID0gaWQ7XG4gICAgLy8gaGFuZGxlIFNwZWVjaFJlY29nbml0aW9uXG4gICAgcmVjb2duaXRpb24gPSBuZXcgU3BlZWNoUmVjb2duaXRpb24oKTtcbiAgICB0aGlzLnNwZWVjaFNldHRpbmdzKCk7XG5cbiAgICByZWNvZ25pdGlvbi5vbnJlc3VsdCA9IGV2ZW50ID0+IHRoaXMuZ290UmVzdWx0KGV2ZW50KTtcbiAgICByZWNvZ25pdGlvbi5vbnNwZWVjaGVuZCA9IGUgPT4gdGhpcy5vblNwZWVjaEVuZChlKTtcbiAgICAkdGV4dC5hZGRFdmVudExpc3RlbmVyKGBibHVyYCwgKCkgPT4gdGhpcy50eHQgPSAkdGV4dC52YWx1ZSk7XG5cbiAgICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh7IGF1ZGlvOiB0cnVlIH0pXG4gICAgLnRoZW4oc3RyZWFtID0+IHtcbiAgICAgIHRoaXMubWVkaWFSZWNvcmRlciA9IG5ldyBNZWRpYVJlY29yZGVyKHN0cmVhbSk7XG5cbiAgICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS1TdGFydCBSZWNvcmRpbmctLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4gICAgICAkcmVjb3JkLmFkZEV2ZW50TGlzdGVuZXIoYGNsaWNrYCwgKCkgPT4ge1xuICAgICAgICAgdGhpcy5tZWRpYVJlY29yZGVyLnN0YXJ0KCk7XG4gICAgICAgICByZWNvZ25pdGlvbi5zdGFydCgpO1xuICAgICAgICAgJHJlY29yZC5kaXNhYmxlZCA9IHRydWU7XG4gICAgICB9KTtcbiAgICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAgIHRoaXMubWVkaWFSZWNvcmRlci5hZGRFdmVudExpc3RlbmVyKGBkYXRhYXZhaWxhYmxlYCwgIGUgPT4gYXVkaW9DaHVua3MucHVzaChlLmRhdGEpKTsgLy8gYWRkIGF1ZGlvY2h1bmsgdG8gYXJyYXlcblxuICAgICAgLy8gd2hlbiBtZWRpYVJlY29yZGVyIHN0b3BzLCBtYWtlIGFuZCBoYW5kbGUgYXVkaW8gYmxvYlxuICAgICAgdGhpcy5tZWRpYVJlY29yZGVyLmFkZEV2ZW50TGlzdGVuZXIoYHN0b3BgLCAoKSA9PiB7XG5cbiAgICAgICAgLy8gZ2l2ZSBsaW5rIHRvIGF1ZGlvIGNvbnRyb2xzIHRvIHBsYXkgYW5kIGNvbnRyb2wgdGhlIHNvdW5kXG4gICAgICAgIHRoaXMuYmxvYiA9IG5ldyBCbG9iKGF1ZGlvQ2h1bmtzLCB7dHlwZSA6ICdhdWRpby9vZ2cnfSk7IC8vIGNyZWF0ZSBibG9iIGZyb20gYXVkaW9jaHVua3NcbiAgICAgICAgLy8gY29uc3QgYmxvYlVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwodGhpcy5ibG9iKTsgLy8gbWFrZSB1cmwgZnJvbSBibG9iIHN0cmVhbVxuICAgICAgICAvLyAkYXVkaW8uc3JjID0gYmxvYlVybDtcblxuICAgICAgICBTb3VuZEFQSS5jcmVhdGUoe1xuICAgICAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgICAgIGJsb2I6IHRoaXMuYmxvYlxuICAgICAgICB9KTtcblxuICAgICAgICBhdWRpb0N0eCA9IG5ldyBBdWRpb0NvbnRleHQoKTtcblxuICAgICAgICAvLyBjb25zdCBzb3VyY2UgPSBhdWRpb0N0eC5jcmVhdGVNZWRpYUVsZW1lbnRTb3VyY2UoJGF1ZGlvKTsgLy8gZ2V0IGF1ZGlvIGZyb21cblxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+wqB7XG4gICAgICAgICAgY29uc3QgYnVmZmVyTG9hZGVyID0gbmV3IEJ1ZmZlckxvYWRlcihcbiAgICAgICAgICAgIGF1ZGlvQ3R4LCBbYC4vdXBsb2Fkcy8ke3RoaXMuaWR9Lm9nZ2BdLCBidWZmZXJMaXN0ID0+IHtcblxuICAgICAgICAgICAgICBsZXQgbG9vcCA9IGZhbHNlO1xuICAgICAgICAgICAgICBsZXQgc291cmNlO1xuXG4gICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGByZXBlYXRgKS5hZGRFdmVudExpc3RlbmVyKGBjbGlja2AsICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgbG9vcCA9ICFsb29wO1xuICAgICAgICAgICAgICAgIHNvdXJjZS5zdG9wKCk7XG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGNvbnN0ICRwaXRjaCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBwaXRjaGApO1xuICAgICAgICAgICAgICAkcGl0Y2guYWRkRXZlbnRMaXN0ZW5lcihgY2hhbmdlYCwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHBpdGNoUmF0aW8gPSBwYXJzZUZsb2F0KCRwaXRjaC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocGl0Y2hSYXRpbyk7XG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICRhdWRpby5hZGRFdmVudExpc3RlbmVyKGBjbGlja2AsICgpID0+IHtcbiAgICAgICAgICAgICAgICBzb3VyY2UgPSAnJztcbiAgICAgICAgICAgICAgICBzb3VyY2UgPSBhdWRpb0N0eC5jcmVhdGVCdWZmZXJTb3VyY2UoKTtcbiAgICAgICAgICAgICAgICBzb3VyY2UuYnVmZmVyID0gYnVmZmVyTGlzdFswXTtcblxuICAgICAgICAgICAgICAgIC8vIHNvdXJjZS5jb25uZWN0KGF1ZGlvQ3R4LmRlc3RpbmF0aW9uKVxuXG4gICAgICAgICAgICAgICAgc291cmNlLmNvbm5lY3QocGl0Y2hTaGlmdGVyUHJvY2Vzc29yKTtcbiAgICAgICAgICAgICAgICBzb3VyY2UubG9vcCA9IGxvb3A7XG4gICAgICAgICAgICAgICAgc291cmNlLnN0YXJ0KCk7XG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgKTtcblxuICAgICAgICAgIGJ1ZmZlckxvYWRlci5sb2FkKCk7XG4gICAgICAgICAgdGhpcy5pbml0UHJvY2Vzc29yKCk7XG4gICAgICAgICAgLy8gdGhpcy5pbml0U2xpZGVycygpO1xuXG4gICAgICAgIH0sIDEwMDApO1xuXG5cbiAgICAgICAgY29uc3Qgb3ZlcmxhcCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBvdmVybGFwYCk7XG4gICAgICAgIG92ZXJsYXAuYWRkRXZlbnRMaXN0ZW5lcihgY2hhbmdlYCwgKCkgPT4ge1xuICAgICAgICAgIG92ZXJsYXBSYXRpbyA9IG92ZXJsYXAudmFsdWU7XG4gICAgICAgICAgY29uc29sZS5sb2cob3ZlcmxhcC52YWx1ZSk7XG4gICAgICAgIH0pO1xuXG5cbiAgICAgICAgYXVkaW9DaHVua3MgPSBbXTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgb25TcGVlY2hFbmQoZSnCoHtcbiAgICB0aGlzLm1lZGlhUmVjb3JkZXIuc3RvcCgpO1xuICAgIHJlY29nbml0aW9uLnN0b3AoKTtcbiAgICAkcmVjb3JkLmRpc2FibGVkID0gZmFsc2U7XG4gICAgJHJlY29yZC50ZXh0Q29udGVudCA9ICdXYW50IHRvIHRyeSBhZ2Fpbj8nO1xuICAgIHRoaXMudHh0ID0gJHRleHQudmFsdWU7XG4gIH1cblxuICBnb3RSZXN1bHQoZXZlbnQpIHtcbiAgICBjb25zdCBsYXN0ID0gZXZlbnQucmVzdWx0cy5sZW5ndGggLSAxO1xuICAgIHRyYW5zY3JpcHQgPSBldmVudC5yZXN1bHRzW2xhc3RdWzBdLnRyYW5zY3JpcHQ7XG4gICAgJHRleHQudmFsdWUgPSB0cmFuc2NyaXB0O1xuICB9XG5cbiAgc3BlZWNoU2V0dGluZ3MoKSB7XG4gICAgcmVjb2duaXRpb24uY29udGludW91cyA9IGZhbHNlO1xuICAgIHJlY29nbml0aW9uLmxhbmcgPSAnbmwtQkUnO1xuICAgIHJlY29nbml0aW9uLmludGVyaW1SZXN1bHRzID0gZmFsc2U7XG4gICAgcmVjb2duaXRpb24ubWF4QWx0ZXJuYXRpdmVzID0gMTtcbiAgfVxuXG4gIGluaXRQcm9jZXNzb3IoKSB7XG5cbiAgICBjb25zdCBsaW5lYXJJbnRlcnBvbGF0aW9uID0gKGEsIGIsIHQpID0+IHtcbiAgICAgIHJldHVybiBhICsgKGIgLSBhKSAqIHQ7XG4gICAgfTtcblxuICAgIGlmIChwaXRjaFNoaWZ0ZXJQcm9jZXNzb3IpIHtcbiAgICAgIHBpdGNoU2hpZnRlclByb2Nlc3Nvci5kaXNjb25uZWN0KCk7XG4gICAgfVxuXG4gICAgaWYgKGF1ZGlvQ3R4LmNyZWF0ZVNjcmlwdFByb2Nlc3Nvcikge1xuICAgICAgcGl0Y2hTaGlmdGVyUHJvY2Vzc29yID0gYXVkaW9DdHguY3JlYXRlU2NyaXB0UHJvY2Vzc29yKGdyYWluU2l6ZSwgMSwgMSk7XG4gICAgfSBlbHNlIGlmIChhdWRpb0N0eC5jcmVhdGVKYXZhU2NyaXB0Tm9kZSkge1xuICAgICAgcGl0Y2hTaGlmdGVyUHJvY2Vzc29yID0gYXVkaW9DdHguY3JlYXRlSmF2YVNjcmlwdE5vZGUoZ3JhaW5TaXplLCAxLCAxKTtcbiAgICB9XG5cbiAgICBwaXRjaFNoaWZ0ZXJQcm9jZXNzb3IuYnVmZmVyID0gbmV3IEZsb2F0MzJBcnJheShncmFpblNpemUgKiAyKTtcbiAgICBwaXRjaFNoaWZ0ZXJQcm9jZXNzb3IuZ3JhaW5XaW5kb3cgPSB0aGlzLmhhbm5XaW5kb3coZ3JhaW5TaXplKTtcblxuICAgIHBpdGNoU2hpZnRlclByb2Nlc3Nvci5vbmF1ZGlvcHJvY2VzcyA9IGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICAgIHZhciBpbnB1dERhdGEgPSBldmVudC5pbnB1dEJ1ZmZlci5nZXRDaGFubmVsRGF0YSgwKTtcbiAgICAgIHZhciBvdXRwdXREYXRhID0gZXZlbnQub3V0cHV0QnVmZmVyLmdldENoYW5uZWxEYXRhKDApO1xuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgaW5wdXREYXRhLmxlbmd0aDsgaSsrKSB7XG5cbiAgICAgICAgLy8gQXBwbHkgdGhlIHdpbmRvdyB0byB0aGUgaW5wdXQgYnVmZmVyXG4gICAgICAgIGlucHV0RGF0YVtpXSAqPSB0aGlzLmdyYWluV2luZG93W2ldO1xuXG4gICAgICAgIC8vIFNoaWZ0IGhhbGYgb2YgdGhlIGJ1ZmZlclxuICAgICAgICB0aGlzLmJ1ZmZlcltpXSA9IHRoaXMuYnVmZmVyW2kgKyBncmFpblNpemVdO1xuXG4gICAgICAgIC8vIEVtcHR5IHRoZSBidWZmZXIgdGFpbFxuICAgICAgICB0aGlzLmJ1ZmZlcltpICsgZ3JhaW5TaXplXSA9IDAuMDtcbiAgICAgIH1cblxuICAgICAgLy8gQ2FsY3VsYXRlIHRoZSBwaXRjaCBzaGlmdGVkIGdyYWluIHJlLXNhbXBsaW5nIGFuZCBsb29waW5nIHRoZSBpbnB1dFxuICAgICAgdmFyIGdyYWluRGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoZ3JhaW5TaXplICogMik7XG4gICAgICBmb3IgKHZhciBpID0gMCwgaiA9IDAuMDsgaSA8IGdyYWluU2l6ZTsgaSsrLCBqICs9IHBpdGNoUmF0aW8pIHtcblxuICAgICAgICB2YXIgaW5kZXggPSBNYXRoLmZsb29yKGopICUgZ3JhaW5TaXplO1xuICAgICAgICB2YXIgYSA9IGlucHV0RGF0YVtpbmRleF07XG4gICAgICAgIHZhciBiID0gaW5wdXREYXRhWyhpbmRleCArIDEpICUgZ3JhaW5TaXplXTtcbiAgICAgICAgZ3JhaW5EYXRhW2ldICs9IGxpbmVhckludGVycG9sYXRpb24oYSwgYiwgaiAlIDEuMCkgKiB0aGlzLmdyYWluV2luZG93W2ldO1xuICAgICAgfVxuXG4gICAgICAvLyBDb3B5IHRoZSBncmFpbiBtdWx0aXBsZSB0aW1lcyBvdmVybGFwcGluZyBpdFxuICAgICAgZm9yIChpID0gMDsgaSA8IGdyYWluU2l6ZTsgaSArPSBNYXRoLnJvdW5kKGdyYWluU2l6ZSAqICgxIC0gb3ZlcmxhcFJhdGlvKSkpIHtcbiAgICAgICAgZm9yIChqID0gMDsgaiA8PSBncmFpblNpemU7IGorKykge1xuICAgICAgICAgIHRoaXMuYnVmZmVyW2kgKyBqXSArPSBncmFpbkRhdGFbal07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gT3V0cHV0IHRoZSBmaXJzdCBoYWxmIG9mIHRoZSBidWZmZXJcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBncmFpblNpemU7IGkrKykge1xuICAgICAgICBvdXRwdXREYXRhW2ldID0gdGhpcy5idWZmZXJbaV07XG4gICAgICB9XG4gICAgfTtcblxuICAgIHBpdGNoU2hpZnRlclByb2Nlc3Nvci5jb25uZWN0KGF1ZGlvQ3R4LmRlc3RpbmF0aW9uKTtcblxuICB9O1xuXG5cbiAgaGFubldpbmRvdyhsZW5ndGgpIHtcbiAgICBjb25zdCB3aW5kb3cgPSBuZXcgRmxvYXQzMkFycmF5KGxlbmd0aCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICB3aW5kb3dbaV0gPSAwLjUgKiAoMSAtIE1hdGguY29zKDIgKiBNYXRoLlBJICogaSAvIChsZW5ndGggLSAxKSkpO1xuICAgIH1cbiAgICByZXR1cm4gd2luZG93O1xuICB9O1xufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9qcy9jbGFzc2VzL0F1ZGlvLmpzIiwiaW1wb3J0IENhcnRBUEkgZnJvbSAnLi4vbGliL0NhcnRBUEknO1xuaW1wb3J0IHNob3J0aWQgZnJvbSAnc2hvcnRpZCc7XG5jb25zdCBuYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYG5hbWVfaW5wdXRgKTtcbmNvbnN0IGxpbmsgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAudW5pcXVlX2xpbmtgKTtcblxuY29uc3QgaGFuZGxlU2F2ZSA9ICh7dGV4dCwgaWR9KSA9PiB7XG5cbiAgQ2FydEFQSS5jcmVhdGUoe1xuICAgIHRleHQsXG4gICAgaWQsXG4gICAgbmFtZTogbmFtZS52YWx1ZVxuICB9KTtcblxuICBsaW5rLmlubmVySFRNTCA9IGBodHRwczovL2xvY2FsaG9zdDo4MDgwL3NhbnRhLmh0bWw/aWQ9JHtpZH1gO1xuICBsaW5rLnNldEF0dHJpYnV0ZSgnaHJlZicsIGBodHRwczovL2xvY2FsaG9zdDo4MDgwL3NhbnRhLmh0bWw/aWQ9JHtpZH1gKTtcbiAgbGluay5zZXRBdHRyaWJ1dGUoJ3RhcmdldCcsIGBfYmxhbmtgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGhhbmRsZVNhdmU7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvanMvb2JqZWN0cy9TYXZlLmpzIiwiJ3VzZSBzdHJpY3QnO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2xpYi9pbmRleCcpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvc2hvcnRpZC9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gMTFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgYWxwaGFiZXQgPSByZXF1aXJlKCcuL2FscGhhYmV0Jyk7XG52YXIgZW5jb2RlID0gcmVxdWlyZSgnLi9lbmNvZGUnKTtcbnZhciBkZWNvZGUgPSByZXF1aXJlKCcuL2RlY29kZScpO1xudmFyIGJ1aWxkID0gcmVxdWlyZSgnLi9idWlsZCcpO1xudmFyIGlzVmFsaWQgPSByZXF1aXJlKCcuL2lzLXZhbGlkJyk7XG5cbi8vIGlmIHlvdSBhcmUgdXNpbmcgY2x1c3RlciBvciBtdWx0aXBsZSBzZXJ2ZXJzIHVzZSB0aGlzIHRvIG1ha2UgZWFjaCBpbnN0YW5jZVxuLy8gaGFzIGEgdW5pcXVlIHZhbHVlIGZvciB3b3JrZXJcbi8vIE5vdGU6IEkgZG9uJ3Qga25vdyBpZiB0aGlzIGlzIGF1dG9tYXRpY2FsbHkgc2V0IHdoZW4gdXNpbmcgdGhpcmRcbi8vIHBhcnR5IGNsdXN0ZXIgc29sdXRpb25zIHN1Y2ggYXMgcG0yLlxudmFyIGNsdXN0ZXJXb3JrZXJJZCA9IHJlcXVpcmUoJy4vdXRpbC9jbHVzdGVyLXdvcmtlci1pZCcpIHx8IDA7XG5cbi8qKlxuICogU2V0IHRoZSBzZWVkLlxuICogSGlnaGx5IHJlY29tbWVuZGVkIGlmIHlvdSBkb24ndCB3YW50IHBlb3BsZSB0byB0cnkgdG8gZmlndXJlIG91dCB5b3VyIGlkIHNjaGVtYS5cbiAqIGV4cG9zZWQgYXMgc2hvcnRpZC5zZWVkKGludClcbiAqIEBwYXJhbSBzZWVkIEludGVnZXIgdmFsdWUgdG8gc2VlZCB0aGUgcmFuZG9tIGFscGhhYmV0LiAgQUxXQVlTIFVTRSBUSEUgU0FNRSBTRUVEIG9yIHlvdSBtaWdodCBnZXQgb3ZlcmxhcHMuXG4gKi9cbmZ1bmN0aW9uIHNlZWQoc2VlZFZhbHVlKSB7XG4gICAgYWxwaGFiZXQuc2VlZChzZWVkVmFsdWUpO1xuICAgIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuLyoqXG4gKiBTZXQgdGhlIGNsdXN0ZXIgd29ya2VyIG9yIG1hY2hpbmUgaWRcbiAqIGV4cG9zZWQgYXMgc2hvcnRpZC53b3JrZXIoaW50KVxuICogQHBhcmFtIHdvcmtlcklkIHdvcmtlciBtdXN0IGJlIHBvc2l0aXZlIGludGVnZXIuICBOdW1iZXIgbGVzcyB0aGFuIDE2IGlzIHJlY29tbWVuZGVkLlxuICogcmV0dXJucyBzaG9ydGlkIG1vZHVsZSBzbyBpdCBjYW4gYmUgY2hhaW5lZC5cbiAqL1xuZnVuY3Rpb24gd29ya2VyKHdvcmtlcklkKSB7XG4gICAgY2x1c3RlcldvcmtlcklkID0gd29ya2VySWQ7XG4gICAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4vKipcbiAqXG4gKiBzZXRzIG5ldyBjaGFyYWN0ZXJzIHRvIHVzZSBpbiB0aGUgYWxwaGFiZXRcbiAqIHJldHVybnMgdGhlIHNodWZmbGVkIGFscGhhYmV0XG4gKi9cbmZ1bmN0aW9uIGNoYXJhY3RlcnMobmV3Q2hhcmFjdGVycykge1xuICAgIGlmIChuZXdDaGFyYWN0ZXJzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgYWxwaGFiZXQuY2hhcmFjdGVycyhuZXdDaGFyYWN0ZXJzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYWxwaGFiZXQuc2h1ZmZsZWQoKTtcbn1cblxuLyoqXG4gKiBHZW5lcmF0ZSB1bmlxdWUgaWRcbiAqIFJldHVybnMgc3RyaW5nIGlkXG4gKi9cbmZ1bmN0aW9uIGdlbmVyYXRlKCkge1xuICByZXR1cm4gYnVpbGQoY2x1c3RlcldvcmtlcklkKTtcbn1cblxuLy8gRXhwb3J0IGFsbCBvdGhlciBmdW5jdGlvbnMgYXMgcHJvcGVydGllcyBvZiB0aGUgZ2VuZXJhdGUgZnVuY3Rpb25cbm1vZHVsZS5leHBvcnRzID0gZ2VuZXJhdGU7XG5tb2R1bGUuZXhwb3J0cy5nZW5lcmF0ZSA9IGdlbmVyYXRlO1xubW9kdWxlLmV4cG9ydHMuc2VlZCA9IHNlZWQ7XG5tb2R1bGUuZXhwb3J0cy53b3JrZXIgPSB3b3JrZXI7XG5tb2R1bGUuZXhwb3J0cy5jaGFyYWN0ZXJzID0gY2hhcmFjdGVycztcbm1vZHVsZS5leHBvcnRzLmRlY29kZSA9IGRlY29kZTtcbm1vZHVsZS5leHBvcnRzLmlzVmFsaWQgPSBpc1ZhbGlkO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvc2hvcnRpZC9saWIvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDEyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxuLy8gRm91bmQgdGhpcyBzZWVkLWJhc2VkIHJhbmRvbSBnZW5lcmF0b3Igc29tZXdoZXJlXG4vLyBCYXNlZCBvbiBUaGUgQ2VudHJhbCBSYW5kb21pemVyIDEuMyAoQykgMTk5NyBieSBQYXVsIEhvdWxlIChob3VsZUBtc2MuY29ybmVsbC5lZHUpXG5cbnZhciBzZWVkID0gMTtcblxuLyoqXG4gKiByZXR1cm4gYSByYW5kb20gbnVtYmVyIGJhc2VkIG9uIGEgc2VlZFxuICogQHBhcmFtIHNlZWRcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIGdldE5leHRWYWx1ZSgpIHtcbiAgICBzZWVkID0gKHNlZWQgKiA5MzAxICsgNDkyOTcpICUgMjMzMjgwO1xuICAgIHJldHVybiBzZWVkLygyMzMyODAuMCk7XG59XG5cbmZ1bmN0aW9uIHNldFNlZWQoX3NlZWRfKSB7XG4gICAgc2VlZCA9IF9zZWVkXztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgbmV4dFZhbHVlOiBnZXROZXh0VmFsdWUsXG4gICAgc2VlZDogc2V0U2VlZFxufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3Nob3J0aWQvbGliL3JhbmRvbS9yYW5kb20tZnJvbS1zZWVkLmpzXG4vLyBtb2R1bGUgaWQgPSAxM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbnZhciBjcnlwdG8gPSB0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JyAmJiAod2luZG93LmNyeXB0byB8fCB3aW5kb3cubXNDcnlwdG8pOyAvLyBJRSAxMSB1c2VzIHdpbmRvdy5tc0NyeXB0b1xuXG5mdW5jdGlvbiByYW5kb21CeXRlKCkge1xuICAgIGlmICghY3J5cHRvIHx8ICFjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKSB7XG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAyNTYpICYgMHgzMDtcbiAgICB9XG4gICAgdmFyIGRlc3QgPSBuZXcgVWludDhBcnJheSgxKTtcbiAgICBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKGRlc3QpO1xuICAgIHJldHVybiBkZXN0WzBdICYgMHgzMDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSByYW5kb21CeXRlO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvc2hvcnRpZC9saWIvcmFuZG9tL3JhbmRvbS1ieXRlLWJyb3dzZXIuanNcbi8vIG1vZHVsZSBpZCA9IDE0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcbnZhciBhbHBoYWJldCA9IHJlcXVpcmUoJy4vYWxwaGFiZXQnKTtcblxuLyoqXG4gKiBEZWNvZGUgdGhlIGlkIHRvIGdldCB0aGUgdmVyc2lvbiBhbmQgd29ya2VyXG4gKiBNYWlubHkgZm9yIGRlYnVnZ2luZyBhbmQgdGVzdGluZy5cbiAqIEBwYXJhbSBpZCAtIHRoZSBzaG9ydGlkLWdlbmVyYXRlZCBpZC5cbiAqL1xuZnVuY3Rpb24gZGVjb2RlKGlkKSB7XG4gICAgdmFyIGNoYXJhY3RlcnMgPSBhbHBoYWJldC5zaHVmZmxlZCgpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHZlcnNpb246IGNoYXJhY3RlcnMuaW5kZXhPZihpZC5zdWJzdHIoMCwgMSkpICYgMHgwZixcbiAgICAgICAgd29ya2VyOiBjaGFyYWN0ZXJzLmluZGV4T2YoaWQuc3Vic3RyKDEsIDEpKSAmIDB4MGZcbiAgICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGRlY29kZTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3Nob3J0aWQvbGliL2RlY29kZS5qc1xuLy8gbW9kdWxlIGlkID0gMTVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgZW5jb2RlID0gcmVxdWlyZSgnLi9lbmNvZGUnKTtcbnZhciBhbHBoYWJldCA9IHJlcXVpcmUoJy4vYWxwaGFiZXQnKTtcblxuLy8gSWdub3JlIGFsbCBtaWxsaXNlY29uZHMgYmVmb3JlIGEgY2VydGFpbiB0aW1lIHRvIHJlZHVjZSB0aGUgc2l6ZSBvZiB0aGUgZGF0ZSBlbnRyb3B5IHdpdGhvdXQgc2FjcmlmaWNpbmcgdW5pcXVlbmVzcy5cbi8vIFRoaXMgbnVtYmVyIHNob3VsZCBiZSB1cGRhdGVkIGV2ZXJ5IHllYXIgb3Igc28gdG8ga2VlcCB0aGUgZ2VuZXJhdGVkIGlkIHNob3J0LlxuLy8gVG8gcmVnZW5lcmF0ZSBgbmV3IERhdGUoKSAtIDBgIGFuZCBidW1wIHRoZSB2ZXJzaW9uLiBBbHdheXMgYnVtcCB0aGUgdmVyc2lvbiFcbnZhciBSRURVQ0VfVElNRSA9IDE0NTk3MDc2MDY1MTg7XG5cbi8vIGRvbid0IGNoYW5nZSB1bmxlc3Mgd2UgY2hhbmdlIHRoZSBhbGdvcyBvciBSRURVQ0VfVElNRVxuLy8gbXVzdCBiZSBhbiBpbnRlZ2VyIGFuZCBsZXNzIHRoYW4gMTZcbnZhciB2ZXJzaW9uID0gNjtcblxuLy8gQ291bnRlciBpcyB1c2VkIHdoZW4gc2hvcnRpZCBpcyBjYWxsZWQgbXVsdGlwbGUgdGltZXMgaW4gb25lIHNlY29uZC5cbnZhciBjb3VudGVyO1xuXG4vLyBSZW1lbWJlciB0aGUgbGFzdCB0aW1lIHNob3J0aWQgd2FzIGNhbGxlZCBpbiBjYXNlIGNvdW50ZXIgaXMgbmVlZGVkLlxudmFyIHByZXZpb3VzU2Vjb25kcztcblxuLyoqXG4gKiBHZW5lcmF0ZSB1bmlxdWUgaWRcbiAqIFJldHVybnMgc3RyaW5nIGlkXG4gKi9cbmZ1bmN0aW9uIGJ1aWxkKGNsdXN0ZXJXb3JrZXJJZCkge1xuXG4gICAgdmFyIHN0ciA9ICcnO1xuXG4gICAgdmFyIHNlY29uZHMgPSBNYXRoLmZsb29yKChEYXRlLm5vdygpIC0gUkVEVUNFX1RJTUUpICogMC4wMDEpO1xuXG4gICAgaWYgKHNlY29uZHMgPT09IHByZXZpb3VzU2Vjb25kcykge1xuICAgICAgICBjb3VudGVyKys7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY291bnRlciA9IDA7XG4gICAgICAgIHByZXZpb3VzU2Vjb25kcyA9IHNlY29uZHM7XG4gICAgfVxuXG4gICAgc3RyID0gc3RyICsgZW5jb2RlKGFscGhhYmV0Lmxvb2t1cCwgdmVyc2lvbik7XG4gICAgc3RyID0gc3RyICsgZW5jb2RlKGFscGhhYmV0Lmxvb2t1cCwgY2x1c3RlcldvcmtlcklkKTtcbiAgICBpZiAoY291bnRlciA+IDApIHtcbiAgICAgICAgc3RyID0gc3RyICsgZW5jb2RlKGFscGhhYmV0Lmxvb2t1cCwgY291bnRlcik7XG4gICAgfVxuICAgIHN0ciA9IHN0ciArIGVuY29kZShhbHBoYWJldC5sb29rdXAsIHNlY29uZHMpO1xuXG4gICAgcmV0dXJuIHN0cjtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBidWlsZDtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3Nob3J0aWQvbGliL2J1aWxkLmpzXG4vLyBtb2R1bGUgaWQgPSAxNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG52YXIgYWxwaGFiZXQgPSByZXF1aXJlKCcuL2FscGhhYmV0Jyk7XG5cbmZ1bmN0aW9uIGlzU2hvcnRJZChpZCkge1xuICAgIGlmICghaWQgfHwgdHlwZW9mIGlkICE9PSAnc3RyaW5nJyB8fCBpZC5sZW5ndGggPCA2ICkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIGNoYXJhY3RlcnMgPSBhbHBoYWJldC5jaGFyYWN0ZXJzKCk7XG4gICAgdmFyIGxlbiA9IGlkLmxlbmd0aDtcbiAgICBmb3IodmFyIGkgPSAwOyBpIDwgbGVuO2krKykge1xuICAgICAgICBpZiAoY2hhcmFjdGVycy5pbmRleE9mKGlkW2ldKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc1Nob3J0SWQ7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9zaG9ydGlkL2xpYi9pcy12YWxpZC5qc1xuLy8gbW9kdWxlIGlkID0gMTdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IDA7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9zaG9ydGlkL2xpYi91dGlsL2NsdXN0ZXItd29ya2VyLWlkLWJyb3dzZXIuanNcbi8vIG1vZHVsZSBpZCA9IDE4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImltcG9ydCBmZXRjaCBmcm9tICdpc29tb3JwaGljLWZldGNoJztcblxuY29uc3QgdXJsID0gYC9hcGkvc291bmRgO1xuXG5leHBvcnQgZGVmYXVsdCB7XG5cbiAgY3JlYXRlOiAoe2lkLCBibG9ifSkgPT4ge1xuICAgIGNvbnN0IG1ldGhvZCA9IGBQT1NUYDtcbiAgICBjb25zdCBuZXdGaWxlTmFtZSA9IGAke2lkLnNwbGl0KGAgYCkuam9pbihgX2ApfWA7XG4gICAgY29uc3QgYm9keSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgIGJvZHkuYXBwZW5kKGBpZGAsIGlkKTtcbiAgICBib2R5LmFwcGVuZChgc291bmRgLCBibG9iLCBuZXdGaWxlTmFtZSk7XG5cbiAgICByZXR1cm4gZmV0Y2godXJsLCB7bWV0aG9kLCBib2R5fSlcbiAgICAgIC50aGVuKHIgPT4gci5qc29uKCkpO1xuICB9LFxuXG4gIHJlYWQ6ICgpID0+IHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dXJsfT9pc0FjdGl2ZT10cnVlYClcbiAgICAgIC50aGVuKHIgPT4gci5qc29uKCkpO1xuICB9LFxuXG4gIHJlYWRPbmU6IGlkID0+IHtcbiAgICBjb25zdCBtZXRob2QgPSBgR0VUYDtcbiAgICByZXR1cm4gZmV0Y2goYCR7dXJsfS8ke2lkfWAsIHttZXRob2R9KS50aGVuKHIgPT4gci5qc29uKCkpO1xuICB9XG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2pzL2xpYi9zb3VuZEFQSS5qcyIsImltcG9ydCBmZXRjaCBmcm9tICdpc29tb3JwaGljLWZldGNoJztcblxuY29uc3QgdXJsID0gYC9hcGkvY2FydGA7XG5cbmV4cG9ydCBkZWZhdWx0IHtcblxuICBjcmVhdGU6ICh7dGV4dCwgaWQsIG5hbWUsIGJsb2J9KSA9PiB7XG4gICAgY29uc3QgbWV0aG9kID0gYFBPU1RgO1xuICAgIC8vIGNvbnN0IG5ld0ZpbGVOYW1lID0gYCR7aWQuc3BsaXQoYCBgKS5qb2luKGBfYCl9YDtcbiAgICBjb25zdCBib2R5ID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgYm9keS5hcHBlbmQoYHRleHRgLCB0ZXh0KTtcbiAgICBib2R5LmFwcGVuZChgaWRgLCBpZCk7XG4gICAgYm9keS5hcHBlbmQoYG5hbWVgLCBuYW1lKTtcbiAgICAvLyBib2R5LmFwcGVuZChgc291bmRgLCBibG9iLCBuZXdGaWxlTmFtZSk7XG5cbiAgICByZXR1cm4gZmV0Y2godXJsLCB7bWV0aG9kLCBib2R5fSlcbiAgICAgIC50aGVuKHIgPT4gci5qc29uKCkpO1xuICB9LFxuXG4gIHJlYWQ6ICgpID0+IHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dXJsfT9pc0FjdGl2ZT10cnVlYClcbiAgICAgIC50aGVuKHIgPT4gci5qc29uKCkpO1xuICB9LFxuXG4gIHJlYWRPbmU6IGlkID0+IHtcbiAgICBjb25zdCBtZXRob2QgPSBgR0VUYDtcbiAgICByZXR1cm4gZmV0Y2goYCR7dXJsfS8ke2lkfWAsIHttZXRob2R9KS50aGVuKHIgPT4gci5qc29uKCkpO1xuICB9XG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2pzL2xpYi9DYXJ0QVBJLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==