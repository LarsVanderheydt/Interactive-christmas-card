!function(e){function t(a){if(i[a])return i[a].exports;var r=i[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var i={};t.m=e,t.c=i,t.d=function(e,i,a){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=8)}([function(e,t,i){"use strict";var a={skin:16769213,freckles:13613718,white:15330286,glasses:16368673,teeth:16777215,black:3026478,eye:6460840,hat:7471892};t.a=a},function(e,t,i){"use strict";var a=i(5),r=i.n(a),n="/api/cart";t.a={create:function(e){var t=e.text,i=e.id,a=e.from,o=(e.blob,e.to),s=e.audioSettings,h=e.headColors,d=new FormData;return d.append("text",t),d.append("id",i),d.append("from",a),d.append("to",o),d.append("audioSettings",s),d.append("headColors",h),r()(n,{method:"POST",body:d}).then(function(e){return e.json()})},read:function(){return r()(n+"?isActive=true").then(function(e){return e.json()})},readOne:function(e){return r()(n+"/"+e,{method:"GET"}).then(function(e){return e.json()})},update:function(e){var t=e.text,i=e.id,a=e.from,o=e.to,s=e.audioSettings,h=e.headColors,d=new FormData;return d.append("text",t),d.append("id",i),d.append("from",a),d.append("to",o),d.append("audioSettings",s),d.append("headColors",h),r()(n+"/"+i,{method:"PUT",body:d}).then(function(e){return e.json()})}}},function(e,t,i){"use strict";function a(){l=!1}function r(e){if(!e)return void(u!==f&&(u=f,a()));if(e!==u){if(e.length!==f.length)throw new Error("Custom alphabet for shortid must be "+f.length+" unique characters. You submitted "+e.length+" characters: "+e);var t=e.split("").filter(function(e,t,i){return t!==i.lastIndexOf(e)});if(t.length)throw new Error("Custom alphabet for shortid must be "+f.length+" unique characters. These characters were not unique: "+t.join(", "));u=e,a()}}function n(e){return r(e),u}function o(e){p.seed(e),c!==e&&(a(),c=e)}function s(){u||r(f);for(var e,t=u.split(""),i=[],a=p.nextValue();t.length>0;)a=p.nextValue(),e=Math.floor(a*t.length),i.push(t.splice(e,1)[0]);return i.join("")}function h(){return l||(l=s())}function d(e){return h()[e]}var u,c,l,p=i(13),f="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-";e.exports={characters:n,seed:o,lookup:d,shuffled:h}},function(e,t,i){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=i(0),n=i(4),o=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}(),s=function(){function e(){a(this,e),this.mesh=new THREE.Object3D;var t=new THREE.BoxBufferGeometry(16,16,16),i=new THREE.MeshLambertMaterial({color:r.a.skin,flatShading:!0});new THREE.MeshPhongMaterial({color:r.a.eye,flatShading:!0});this.head=new THREE.Mesh(t,i),this.head.castShadow=!0,this.head.receiveShadow=!1,this.mesh.add(this.head),this.beard=new THREE.Object3D,this.beard.position.y=-7,this.beard.position.z=.5,this.head.add(this.beard);this.Beard(),this.Glasses(),this.Hair(),this.Eyes(),this.EyeBrows(),this.Hat(),this.Freckles(),this.Features(),this.idle(),this.normalize()}return o(e,[{key:"normalize",value:function(e,t,i,a,r){return a+(Math.max(Math.min(e,i),t)-t)/(i-t)*(r-a)}},{key:"updateBody",value:function(e,t,i,a,r,n,o){this.eyeBlueRight.position.x+=(t-this.eyeBlueRight.position.x)/e,this.eyeBlueLeft.position.x+=(i-this.eyeBlueLeft.position.x)/e,this.eyeBlueRight.position.y+=(a-this.eyeBlueRight.position.y)/e,this.eyeBlueLeft.position.y+=(r-this.eyeBlueLeft.position.y)/e,this.eyeBrowRight.position.y+=(n-this.eyeBrowRight.position.y)/e,this.eyeBrowLeft.position.y+=(o-this.eyeBrowLeft.position.y)/e}},{key:"idle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.head.rotation.z=Math.sin(.005*Date.now())*Math.PI*.005,this.head.rotation.x=Math.sin(.004*Date.now())*Math.PI*.03;var i=this.normalize(e,-200,200,-.6,.6),a=this.normalize(e,-200,200,-.6,.6),r=this.normalize(t,-200,200,.6,-.6),n=this.normalize(t,-200,200,.6,-.6),o=this.normalize(e,-200,200,-1,.8),s=this.normalize(e,-200,200,-1,.8);this.moustache.position.y=1*Math.cos(.01*Date.now())/4,this.moustache.rotation.z=Math.sin(.01*Date.now())*Math.PI*.01,this.mesh.rotation.y=Math.sin(.002*Date.now())*Math.PI*.05,this.updateBody(10,i,a,r,n,o,s)}},{key:"Beard",value:function(){var e=new THREE.Geometry,t=new THREE.BoxGeometry(2,10,16),i=new THREE.Mesh(t,n.a.whiteMat);i.applyMatrix((new THREE.Matrix4).makeTranslation(9,0,0)),i.updateMatrix(),e.merge(i.geometry,i.matrix);var a=new THREE.Mesh(t,n.a.whiteMat);a.applyMatrix((new THREE.Matrix4).makeTranslation(7,-2,2)),a.scale.z=.8,a.updateMatrix(),e.merge(a.geometry,a.matrix);var r=i.clone();r.position.x=-i.position.x,r.updateMatrix(),e.merge(r.geometry,r.matrix);var o=a.clone();o.position.x=-a.position.x,o.updateMatrix(),e.merge(o.geometry,o.matrix);var s=new THREE.BoxGeometry(3,14,10);s.vertices[2].z-=2,s.vertices[7].z-=2;var h=new THREE.Mesh(s,n.a.whiteMat);h.applyMatrix((new THREE.Matrix4).makeTranslation(5,-5,4)),h.updateMatrix(),e.merge(h.geometry,h.matrix);var d=new THREE.BoxGeometry(2.5,14,10);d.vertices[2].z-=2,d.vertices[7].z-=2;var u=new THREE.Mesh(d,n.a.whiteMat);u.applyMatrix((new THREE.Matrix4).makeTranslation(2.5,-6,6)),u.updateMatrix(),e.merge(u.geometry,u.matrix);var c=h.clone();c.position.x=-h.position.x,c.updateMatrix(),e.merge(c.geometry,c.matrix);var l=u.clone();l.position.x=-u.position.x,l.updateMatrix(),e.merge(l.geometry,l.matrix);var p=new THREE.BoxGeometry(2.5,14.5,10);p.vertices[2].z-=1,p.vertices[7].z-=1;var f=new THREE.Mesh(p,n.a.whiteMat);f.applyMatrix((new THREE.Matrix4).makeTranslation(0,-7,5.75)),f.updateMatrix(),e.merge(f.geometry,f.matrix);var y=new THREE.BoxGeometry(4,8,8),w=new THREE.Mesh(y,n.a.whiteMat);w.applyMatrix((new THREE.Matrix4).makeTranslation(-6,-1,-2)),w.updateMatrix(),e.merge(w.geometry,w.matrix);var m=new THREE.Mesh(y,n.a.whiteMat);m.applyMatrix((new THREE.Matrix4).makeTranslation(0,-5,-2)),m.updateMatrix(),e.merge(m.geometry,m.matrix);var E=new THREE.Mesh(e,n.a.whiteMat);E.castShadow=!0,E.receiveShadow=!0;var v=new THREE.BoxGeometry(10,4,1),x=new THREE.Mesh(v,n.a.blackMat);x.position.set(0,2,8),x.castShadow=!1,x.receiveShadow=!0;var M=new THREE.BoxGeometry(10,1,1),g=new THREE.Mesh(M,n.a.teethMat);g.position.set(0,.5,.1),g.castShadow=!1,g.receiveShadow=!0,x.add(g),this.beard.add(E,x);var R=new THREE.BoxGeometry(14,3,3,3);R.vertices[0].y-=2,R.vertices[1].y-=2,R.vertices[2].y-=2,R.vertices[3].y-=2,R.vertices[4].y-=2,R.vertices[5].y-=2,R.vertices[6].y-=2,R.vertices[7].y-=2,R.vertices[8].x-=1,R.vertices[9].x+=1,R.applyMatrix((new THREE.Matrix4).makeTranslation(0,4,0)),this.moustache=new THREE.Mesh(R,n.a.whiteMat),this.moustache.castShadow=!0,this.moustache.receiveShadow=!0,this.moustache.position.set(0,0,9),this.beard.add(this.moustache)}},{key:"Glasses",value:function(){this.glasses=new THREE.Object3D,this.glasses.position.set(0,0,9),this.head.add(this.glasses);var e=new THREE.MeshPhongMaterial({color:r.a.glasses,flatShading:!0}),t=new THREE.Geometry,i=new THREE.CylinderGeometry(3,3,.5,32),a=new THREE.CylinderGeometry(2.7,2.7,.5,32);i.applyMatrix((new THREE.Matrix4).makeRotationX(-Math.PI/2)),a.applyMatrix((new THREE.Matrix4).makeRotationX(-Math.PI/2));var n=new ThreeBSP(i),o=new ThreeBSP(a),s=n.subtract(o),h=s.toMesh(e);h.applyMatrix((new THREE.Matrix4).makeTranslation(4,3,0)),h.updateMatrix(),t.merge(h.geometry,h.matrix);var d=h.clone();d.applyMatrix((new THREE.Matrix4).makeRotationZ(Math.PI/30)),d.applyMatrix((new THREE.Matrix4).makeTranslation(-7.5,-.25,0)),d.updateMatrix(),t.merge(d.geometry,d.matrix);var u=new THREE.BoxGeometry(2,.3,.5),c=new THREE.Mesh(u,e);c.applyMatrix((new THREE.Matrix4).makeTranslation(0,3.3,-.3)),c.updateMatrix(),t.merge(c.geometry,c.matrix);var l=new THREE.BoxGeometry(1.5,.5,1),p=new THREE.Mesh(l,e);p.applyMatrix((new THREE.Matrix4).makeTranslation(7.5,3,0)),p.updateMatrix(),t.merge(p.geometry,p.matrix);var f=p.clone();f.position.x=-p.position.x,f.updateMatrix(),t.merge(f.geometry,f.matrix);var y=new THREE.BoxGeometry(1,.5,12),w=new THREE.Mesh(y,e);w.applyMatrix((new THREE.Matrix4).makeTranslation(8,3,-5.5)),w.updateMatrix(),t.merge(w.geometry,w.matrix);var m=w.clone();m.position.x=-w.position.x,m.updateMatrix(),t.merge(m.geometry,m.matrix);var E=new THREE.Mesh(t,e);E.castShadow=!1,E.receiveShadow=!0,this.glasses.add(E)}},{key:"Hair",value:function(){this.hair=new THREE.Object3D,this.hair.position.set(0,9,0),this.head.add(this.hair);var e=new THREE.Geometry,t=new THREE.BoxGeometry(10,2,18),i=new THREE.Mesh(t,n.a.whiteMat);i.applyMatrix((new THREE.Matrix4).makeRotationZ(-Math.PI/40)),i.applyMatrix((new THREE.Matrix4).makeTranslation(-4,-.5,0)),i.updateMatrix(),e.merge(i.geometry,i.matrix);var a=new THREE.Mesh(t,n.a.whiteMat);a.applyMatrix((new THREE.Matrix4).makeRotationZ(-Math.PI/10)),a.applyMatrix((new THREE.Matrix4).makeTranslation(-2,1,0)),a.updateMatrix(),e.merge(a.geometry,a.matrix);var r=new THREE.Mesh(t,n.a.whiteMat);r.applyMatrix((new THREE.Matrix4).makeRotationZ(-Math.PI/5)),r.applyMatrix((new THREE.Matrix4).makeTranslation(2,1,0)),r.updateMatrix(),e.merge(r.geometry,r.matrix);var o=new THREE.Mesh(t,n.a.whiteMat);o.applyMatrix((new THREE.Matrix4).makeRotationZ(-Math.PI/4)),o.applyMatrix((new THREE.Matrix4).makeTranslation(6,0,0)),o.updateMatrix(),e.merge(o.geometry,o.matrix);var s=new THREE.Mesh(t,n.a.whiteMat);s.applyMatrix((new THREE.Matrix4).makeRotationZ(-Math.PI/-3)),s.applyMatrix((new THREE.Matrix4).makeTranslation(-7.75,-.5,0)),s.updateMatrix(),e.merge(s.geometry,s.matrix);var h=new THREE.BoxGeometry(18,7,6);h.vertices[0].x-=1,h.vertices[1].x-=1,h.vertices[4].x+=1,h.vertices[5].x+=1;var d=new THREE.Mesh(h,n.a.whiteMat);d.applyMatrix((new THREE.Matrix4).makeTranslation(0,-4.5,-6)),d.updateMatrix(),e.merge(d.geometry,d.matrix);var u=new THREE.Mesh(e,n.a.whiteMat);u.castShadow=!1,u.receiveShadow=!0,this.hair.add(u)}},{key:"Eyes",value:function(){this.eyes=new THREE.Object3D,this.eyes.position.set(0,3,9),this.head.add(this.eyes);var e=new THREE.PlaneGeometry(2.5,2.5),t=new THREE.Mesh(e,n.a.whiteMat);t.position.set(-3.75,0,0),t.castShadow=!1,t.receiveShadow=!1;var i=new THREE.PlaneGeometry(1.5,1.5),a=new THREE.MeshPhongMaterial({color:r.a.eye,flatShading:!0});this.eyeBlueRight=new THREE.Mesh(i,a),this.eyeBlueRight.position.set(0,0,.01),this.eyeBlueRight.castShadow=!1,this.eyeBlueRight.receiveShadow=!1,t.add(this.eyeBlueRight);var o=new THREE.PlaneGeometry(1,1);this.eyePupilRight=new THREE.Mesh(o,n.a.blackMat),this.eyePupilRight.position.set(0,0,.02),this.eyePupilRight.castShadow=!1,this.eyePupilRight.receiveShadow=!1,this.eyeBlueRight.add(this.eyePupilRight);var s=new THREE.Mesh(e,n.a.whiteMat);s.position.set(3.75,0,0),s.castShadow=!1,s.receiveShadow=!1,this.eyeBlueLeft=new THREE.Mesh(i,a),this.eyeBlueLeft.position.set(0,0,.01),this.eyeBlueLeft.castShadow=!1,this.eyeBlueLeft.receiveShadow=!1,s.add(this.eyeBlueLeft),this.eyePupilLeft=new THREE.Mesh(o,n.a.blackMat),this.eyePupilLeft.position.set(0,0,.02),this.eyePupilLeft.castShadow=!1,this.eyePupilLeft.receiveShadow=!1,this.eyeBlueLeft.add(this.eyePupilLeft),this.eyes.add(t,s)}},{key:"EyeBrows",value:function(){this.eyeBrows=new THREE.Object3D,this.eyeBrows.position.set(0,6,8),this.head.add(this.eyeBrows);var e=new THREE.BoxGeometry(4,1,1);this.eyeBrowRight=new THREE.Mesh(e,n.a.whiteMat),this.eyeBrowRight.applyMatrix((new THREE.Matrix4).makeRotationZ(Math.PI/45)),this.eyeBrowRight.position.set(-3.75,0,0),this.eyeBrowRight.castShadow=!1,this.eyeBrowRight.receiveShadow=!1,this.eyeBrowLeft=new THREE.Mesh(e,n.a.whiteMat),this.eyeBrowLeft.applyMatrix((new THREE.Matrix4).makeRotationZ(-Math.PI/45)),this.eyeBrowLeft.position.set(3.75,0,0),this.eyeBrowLeft.castShadow=!1,this.eyeBrowLeft.receiveShadow=!1,this.eyeBrows.add(this.eyeBrowRight,this.eyeBrowLeft)}},{key:"Hat",value:function(){this.hat=new THREE.Object3D,this.hat.position.set(-.2,11,2.4),this.head.add(this.hat);var e=new THREE.MeshPhongMaterial({color:r.a.hat,flatShading:!0}),t=new THREE.TorusGeometry(9,2,16,100),i=new THREE.CylinderGeometry(1,11,12,15),a=new THREE.CylinderGeometry(.8,3,9,32),o=new THREE.SphereGeometry(1.5,8,8);this.band=new THREE.Mesh(t,n.a.teethMat),this.band.applyMatrix((new THREE.Matrix4).makeRotationX(Math.PI/2)),this.band.position.set(0,0,0),this.band.castShadow=!1,this.band.receiveShadow=!1,this.bigCone=new THREE.Mesh(i,e),this.bigCone.position.set(0,6,0),this.bigCone.castShadow=!1,this.bigCone.receiveShadow=!1,this.smallCone=new THREE.Mesh(a,e),this.smallCone.applyMatrix((new THREE.Matrix4).makeRotationX(Math.PI/2)),this.smallCone.applyMatrix((new THREE.Matrix4).makeRotationY(Math.PI/2)),this.smallCone.applyMatrix((new THREE.Matrix4).makeRotationZ(Math.PI/-8)),this.smallCone.position.set(4,7.8,-1),this.smallCone.castShadow=!1,this.smallCone.receiveShadow=!1,this.hatDingle=new THREE.Mesh(o,n.a.whiteMat),this.hatDingle.position.set(9,5.5,-1),this.hatDingle.castShadow=!1,this.hatDingle.receiveShadow=!1,this.hat.add(this.band,this.bigCone,this.smallCone,this.hatDingle)}},{key:"Freckles",value:function(){this.freckles=new THREE.Object3D,this.freckles.position.set(0,0,8),this.head.add(this.freckles);var e=new THREE.MeshLambertMaterial({color:r.a.freckles,flatShading:!0}),t=new THREE.Geometry,i=new THREE.PlaneGeometry(.5,.5),a=new THREE.Mesh(i,e);a.applyMatrix((new THREE.Matrix4).makeTranslation(-5,0,.01)),a.updateMatrix(),t.merge(a.geometry,a.matrix);var n=a.clone();n.applyMatrix((new THREE.Matrix4).makeTranslation(-.5,-1,0)),n.updateMatrix(),t.merge(n.geometry,n.matrix);var o=a.clone();o.applyMatrix((new THREE.Matrix4).makeTranslation(1,-.5,0)),o.updateMatrix(),t.merge(o.geometry,o.matrix);var s=a.clone();s.position.x=-a.position.x,s.updateMatrix(),t.merge(s.geometry,s.matrix);var h=n.clone();h.position.x=-n.position.x,h.updateMatrix(),t.merge(h.geometry,h.matrix);var d=o.clone();d.position.x=-o.position.x,d.updateMatrix(),t.merge(d.geometry,d.matrix);var u=new THREE.Mesh(t,e);u.castShadow=!1,u.receiveShadow=!1,this.freckles.add(u)}},{key:"Features",value:function(){var e=new THREE.BoxBufferGeometry(1.5,3,1.5),t=new THREE.MeshLambertMaterial({color:r.a.skin,flatShading:!0}),i=new THREE.Mesh(e,t);i.position.set(-8.5,1,3),i.castShadow=!1,i.receiveShadow=!1;var a=new THREE.Mesh(e,t);a.position.set(8.5,1,3),a.castShadow=!1,a.receiveShadow=!1;var n=new THREE.CylinderGeometry(1,2,4,4),o=new THREE.Mesh(n,t);o.scale.set(.75,1,1.3),o.position.set(0,1,8),o.castShadow=!1,o.receiveShadow=!1,this.head.add(i,a,o)}}]),e}();t.a=s},function(e,t,i){"use strict";var a=i(0),r={whiteMat:new THREE.MeshLambertMaterial({color:a.a.white,flatShading:!0}),teethMat:new THREE.MeshPhongMaterial({color:a.a.teeth,flatShading:!0}),blackMat:new THREE.MeshLambertMaterial({color:a.a.black,flatShading:!0}),normalMat:new THREE.MeshNormalMaterial({})};t.a=r},function(e,t,i){i(6),e.exports=self.fetch.bind(self)},function(e,t){!function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function i(e){return"string"!=typeof e&&(e=String(e)),e}function a(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return m.iterable&&(t[Symbol.iterator]=function(){return t}),t}function r(e){this.map={},e instanceof r?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function n(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function o(e){return new Promise(function(t,i){e.onload=function(){t(e.result)},e.onerror=function(){i(e.error)}})}function s(e){var t=new FileReader,i=o(t);return t.readAsArrayBuffer(e),i}function h(e){var t=new FileReader,i=o(t);return t.readAsText(e),i}function d(e){for(var t=new Uint8Array(e),i=new Array(t.length),a=0;a<t.length;a++)i[a]=String.fromCharCode(t[a]);return i.join("")}function u(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function c(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(m.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(m.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(m.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(m.arrayBuffer&&m.blob&&v(e))this._bodyArrayBuffer=u(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!m.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!x(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=u(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):m.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},m.blob&&(this.blob=function(){var e=n(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?n(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var e=n(this);if(e)return e;if(this._bodyBlob)return h(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(d(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},m.formData&&(this.formData=function(){return this.text().then(f)}),this.json=function(){return this.text().then(JSON.parse)},this}function l(e){var t=e.toUpperCase();return M.indexOf(t)>-1?t:e}function p(e,t){t=t||{};var i=t.body;if(e instanceof p){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new r(e.headers)),this.method=e.method,this.mode=e.mode,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new r(t.headers)),this.method=l(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function f(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var i=e.split("="),a=i.shift().replace(/\+/g," "),r=i.join("=").replace(/\+/g," ");t.append(decodeURIComponent(a),decodeURIComponent(r))}}),t}function y(e){var t=new r;return e.split(/\r?\n/).forEach(function(e){var i=e.split(":"),a=i.shift().trim();if(a){var r=i.join(":").trim();t.append(a,r)}}),t}function w(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new r(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var m={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(m.arrayBuffer)var E=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],v=function(e){return e&&DataView.prototype.isPrototypeOf(e)},x=ArrayBuffer.isView||function(e){return e&&E.indexOf(Object.prototype.toString.call(e))>-1};r.prototype.append=function(e,a){e=t(e),a=i(a);var r=this.map[e];this.map[e]=r?r+","+a:a},r.prototype.delete=function(e){delete this.map[t(e)]},r.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},r.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},r.prototype.set=function(e,a){this.map[t(e)]=i(a)},r.prototype.forEach=function(e,t){for(var i in this.map)this.map.hasOwnProperty(i)&&e.call(t,this.map[i],i,this)},r.prototype.keys=function(){var e=[];return this.forEach(function(t,i){e.push(i)}),a(e)},r.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),a(e)},r.prototype.entries=function(){var e=[];return this.forEach(function(t,i){e.push([i,t])}),a(e)},m.iterable&&(r.prototype[Symbol.iterator]=r.prototype.entries);var M=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];p.prototype.clone=function(){return new p(this,{body:this._bodyInit})},c.call(p.prototype),c.call(w.prototype),w.prototype.clone=function(){return new w(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new r(this.headers),url:this.url})},w.error=function(){var e=new w(null,{status:0,statusText:""});return e.type="error",e};var g=[301,302,303,307,308];w.redirect=function(e,t){if(-1===g.indexOf(t))throw new RangeError("Invalid status code");return new w(null,{status:t,headers:{location:e}})},e.Headers=r,e.Request=p,e.Response=w,e.fetch=function(e,t){return new Promise(function(i,a){var r=new p(e,t),n=new XMLHttpRequest;n.onload=function(){var e={status:n.status,statusText:n.statusText,headers:y(n.getAllResponseHeaders()||"")};e.url="responseURL"in n?n.responseURL:e.headers.get("X-Request-URL");var t="response"in n?n.response:n.responseText;i(new w(t,e))},n.onerror=function(){a(new TypeError("Network request failed"))},n.ontimeout=function(){a(new TypeError("Network request failed"))},n.open(r.method,r.url,!0),"include"===r.credentials&&(n.withCredentials=!0),"responseType"in n&&m.blob&&(n.responseType="blob"),r.headers.forEach(function(e,t){n.setRequestHeader(t,e)}),n.send(void 0===r._bodyInit?null:r._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},function(e,t,i){"use strict";function a(e,t){for(var i,a=0,n="";!i;)n+=e(t>>4*a&15|r()),i=t<Math.pow(16,a+1),a++;return n}var r=i(14);e.exports=a},function(e,t,i){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=i(3),n=i(0),o=i(9),s=i(1),h=void 0,d=void 0,u=void 0,c=void 0,l=void 0,p=void 0,f=void 0,y=void 0,w=void 0,m=void 0,E=void 0,v=void 0,x=void 0,M=void 0,g=void 0,R=void 0,T=void 0,b=void 0,H=void 0,B=document.getElementById("save"),S={x:0,y:0},k=/iPhone|Android/i.test(navigator.userAgent),P=(new THREE.LoadingManager,!1),L=function(e){e.forEach(function(e){H.addColor(b,e).onChange(function(){switch(e){case"skin":n.a.skin=b.skin;case"freckles":n.a.freckles=b.freckles;case"eye":n.a.eye=b.eye;case"glasses":n.a.glasses=b.glasses;case"hat":n.a.hat=b.hat}h.remove(M.mesh),createHead()})})},A=function(){f=window.innerHeight,y=window.innerWidth/1.67,g=y/2,R=f/2,h=new THREE.Scene,c=y/f,u=50,l=1,p=2e3,d=new THREE.PerspectiveCamera(u,c,l,p),d.position.x=0,d.position.z=70,d.position.y=-5,v=new THREE.WebGLRenderer({alpha:!0,antialias:!0}),v.setPixelRatio(window.devicePixelRatio?window.devicePixelRatio:1),v.setSize(y,f),v.shadowMap.enabled=!0,v.shadowMap.type=THREE.PCFSoftShadowMap,x=document.getElementById("container"),x.appendChild(v.domElement),window.addEventListener("resize",C,!1),document.addEventListener("mousemove",I,!1)},C=function(){f=window.innerHeight,y=window.innerWidth/1.67,g=y/2,R=f/2,v.setSize(y,f),d.aspect=y/f,d.updateProjectionMatrix()},I=function(e){S={x:event.clientX,y:event.clientY}},_=function(){w=new THREE.HemisphereLight(16777215,5592405,.9),m=new THREE.DirectionalLight(16777215,.3),m.position.set(100,250,175),m.castShadow=!0,E=new THREE.DirectionalLight(16777215,.2),E.position.set(-100,200,150),E.castShadow=!0,k&&(m.shadow.mapSize.width=m.shadow.mapSize.height=1024),k||(m.shadow.mapSize.width=m.shadow.mapSize.height=2048),h.add(w),h.add(m),h.add(E),h.add(new THREE.AmbientLight(15392429,.1))},O=!1,j=function(){!(O=!1)&&Math.random()>.99&&(O=!0,D())},D=function(){M.eyes.scale.y=1,TweenMax.to(M.eyes.scale,.07,{y:0,yoyo:!0,repeat:1,onComplete:function(){O=!1}})},G=function e(){a(this,e),this.skin=n.a.skin,this.freckles=n.a.freckles,this.eye=n.a.eye,this.glasses=n.a.glasses,this.hat=n.a.hat},F=function e(){j(),M.idle(t,i);var t=S.x-g,i=S.y-R;v.render(h,d),requestAnimationFrame(e)};!function(){particlesJS.load("particles-js","../assets/particles.json",function(){console.log("callback - particles.js config loaded")}),A(),_(),T=new o.a,M=new r.a,h.add(M.mesh),console.log(T.id),B.addEventListener("click",function(){var e=document.getElementById("name_input"),t=document.getElementById("recipient_input"),i=document.querySelector(".unique_link"),a={pitch:T.pitchRatio,overlap:T.overlap},r={skin:n.a.skin,freckles:n.a.freckles,eye:n.a.eye,glasses:n.a.glasses,hat:n.a.hat};P?s.a.update({text:T.text,id:T.id,from:e.value||"Human",to:t.value||"Fellow Human",audioSettings:JSON.stringify(a),headColors:JSON.stringify(r)}):(P=!0,s.a.create({text:T.text,id:T.id,from:e.value||"Human",to:t.value||"Fellow Human",audioSettings:JSON.stringify(a),headColors:JSON.stringify(r)})),i.innerHTML="https://localhost:8080/santa.html?id="+T.id,i.setAttribute("href","https://localhost:8080/santa.html?id="+T.id),i.setAttribute("target","_blank")}),H=new dat.GUI,H.domElement.id="gui",H.closed=!0,b=new G,L(["skin","freckles","eye","glasses","hat"]),window.scene=h,F()}()},function(e,t,i){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=i(23),n=i(11),o=i.n(n),s=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}(),h=h||webkitSpeechRecognition,d=d||webkitSpeechGrammarList,u=u||webkitSpeechRecognitionEvent,c=window.AudioContext||window.webkitAudioContext,l=void 0,p=void 0,f="",y=[],w=void 0,m=document.getElementById("field"),E=document.getElementById("record"),v=document.getElementById("audio_controls"),x=(document.getElementById("stop"),void 0),M=1,g=.5,R=function(){function e(){var t=this;a(this,e),this.id=o.a.generate(),this.pitchRatio=1,this.overlap=.5,l=new c,p=new h,this.speechSettings(),p.onresult=function(e){return t.gotResult(e)},p.onspeechend=function(e){return t.onSpeechEnd(e)},m.addEventListener("blur",function(){return t.txt=m.value}),navigator.mediaDevices.getUserMedia({audio:!0}).then(function(e){t.mediaRecorder=new MediaRecorder(e),E.addEventListener("click",function(){t.mediaRecorder.start(),p.start(),E.disabled=!0}),t.mediaRecorder.addEventListener("dataavailable",function(e){y.push(e.data)}),t.mediaRecorder.addEventListener("stop",function(){t.blob=new Blob(y,{type:"audio/ogg"}),r.a.create({id:t.id,blob:t.blob}),setTimeout(function(){new BufferLoader(l,["./uploads/"+t.id+".ogg"],function(e){E.addEventListener("click",function(){return e=[]});var i=!1;document.getElementById("repeat").addEventListener("click",function(){i=!i,w.stop()});var a=document.getElementById("pitch");a.addEventListener("change",function(){M=parseFloat(a.value),t.pitchRatio=M}),v.addEventListener("click",function(){w="",w=l.createBufferSource(),w.buffer=e[0],w.connect(x),w.loop=i,w.start()})}).load(),t.initProcessor()},1e3);var e=document.getElementById("overlap");e.addEventListener("change",function(){g=e.value,t.overlap=g}),y=[]})})}return s(e,[{key:"onSpeechEnd",value:function(e){this.mediaRecorder.stop(),p.stop(),E.disabled=!1,E.textContent="Want to try again?",this.txt=m.value}},{key:"gotResult",value:function(e){var t=e.results.length-1;f=e.results[t][0].transcript,m.value=f}},{key:"speechSettings",value:function(){p.continuous=!1,p.lang="en-US",p.interimResults=!1,p.maxAlternatives=1}},{key:"initProcessor",value:function(){var e=function(e,t,i){return e+(t-e)*i};x&&x.disconnect(),l.createScriptProcessor?x=l.createScriptProcessor(512,1,1):l.createJavaScriptNode&&(x=l.createJavaScriptNode(512,1,1)),x.buffer=new Float32Array(1024),x.grainWindow=this.hannWindow(512),x.onaudioprocess=function(t){var i=t.inputBuffer.getChannelData(0),a=t.outputBuffer.getChannelData(0);for(n=0;n<i.length;n++)i[n]*=this.grainWindow[n],this.buffer[n]=this.buffer[n+512],this.buffer[n+512]=0;for(var r=new Float32Array(1024),n=0,o=0;n<512;n++,o+=M){var s=Math.floor(o)%512,h=i[s],d=i[(s+1)%512];r[n]+=e(h,d,o%1)*this.grainWindow[n]}for(n=0;n<512;n+=Math.round(512*(1-g)))for(o=0;o<=512;o++)this.buffer[n+o]+=r[o];for(n=0;n<512;n++)a[n]=this.buffer[n]},x.connect(l.destination)}},{key:"hannWindow",value:function(e){for(var t=new Float32Array(e),i=0;i<e;i++)t[i]=.5*(1-Math.cos(2*Math.PI*i/(e-1)));return t}}]),e}();t.a=R},,function(e,t,i){"use strict";e.exports=i(12)},function(e,t,i){"use strict";function a(t){return s.seed(t),e.exports}function r(t){return c=t,e.exports}function n(e){return void 0!==e&&s.characters(e),s.shuffled()}function o(){return d(c)}var s=i(2),h=(i(7),i(15)),d=i(16),u=i(17),c=i(18)||0;e.exports=o,e.exports.generate=o,e.exports.seed=a,e.exports.worker=r,e.exports.characters=n,e.exports.decode=h,e.exports.isValid=u},function(e,t,i){"use strict";function a(){return(n=(9301*n+49297)%233280)/233280}function r(e){n=e}var n=1;e.exports={nextValue:a,seed:r}},function(e,t,i){"use strict";function a(){if(!r||!r.getRandomValues)return 48&Math.floor(256*Math.random());var e=new Uint8Array(1);return r.getRandomValues(e),48&e[0]}var r="object"==typeof window&&(window.crypto||window.msCrypto);e.exports=a},function(e,t,i){"use strict";function a(e){var t=r.shuffled();return{version:15&t.indexOf(e.substr(0,1)),worker:15&t.indexOf(e.substr(1,1))}}var r=i(2);e.exports=a},function(e,t,i){"use strict";function a(e){var t="",i=Math.floor(.001*(Date.now()-h));return i===n?r++:(r=0,n=i),t+=o(s.lookup,d),t+=o(s.lookup,e),r>0&&(t+=o(s.lookup,r)),t+=o(s.lookup,i)}var r,n,o=i(7),s=i(2),h=1459707606518,d=6;e.exports=a},function(e,t,i){"use strict";function a(e){if(!e||"string"!=typeof e||e.length<6)return!1;for(var t=r.characters(),i=e.length,a=0;a<i;a++)if(-1===t.indexOf(e[a]))return!1;return!0}var r=i(2);e.exports=a},function(e,t,i){"use strict";e.exports=0},,,,,function(e,t,i){"use strict";var a=i(5),r=i.n(a),n="/api/sound";t.a={create:function(e){var t=e.id,i=e.blob,a=""+t.split(" ").join("_"),o=new FormData;return o.append("id",t),o.append("sound",i,a),r()(n,{method:"POST",body:o}).then(function(e){return e.json()})},read:function(){return r()(n+"?isActive=true").then(function(e){return e.json()})},readOne:function(e){return r()(n+"/"+e,{method:"GET"}).then(function(e){return e.json()})}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vanMvc2NyaXB0LmpzIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCA1MDY2ZWZkZDdjNTBiMzE4YjRjZiIsIndlYnBhY2s6Ly8vLi9zcmMvanMvb2JqZWN0cy9jb2xvcnMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2xpYi9jYXJ0QVBJLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zaG9ydGlkL2xpYi9hbHBoYWJldC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvY2xhc3Nlcy9IZWFkLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9vYmplY3RzL01hdGVyaWFscy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaXNvbW9ycGhpYy1mZXRjaC9mZXRjaC1ucG0tYnJvd3NlcmlmeS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvd2hhdHdnLWZldGNoL2ZldGNoLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zaG9ydGlkL2xpYi9lbmNvZGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL3NjcmlwdC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvY2xhc3Nlcy9BdWRpby5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc2hvcnRpZC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc2hvcnRpZC9saWIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Nob3J0aWQvbGliL3JhbmRvbS9yYW5kb20tZnJvbS1zZWVkLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zaG9ydGlkL2xpYi9yYW5kb20vcmFuZG9tLWJ5dGUtYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc2hvcnRpZC9saWIvZGVjb2RlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zaG9ydGlkL2xpYi9idWlsZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc2hvcnRpZC9saWIvaXMtdmFsaWQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Nob3J0aWQvbGliL3V0aWwvY2x1c3Rlci13b3JrZXItaWQtYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvbGliL3NvdW5kQVBJLmpzIl0sIm5hbWVzIjpbIm1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpbnN0YWxsZWRNb2R1bGVzIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwiZ2V0IiwibiIsIl9fZXNNb2R1bGUiLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJfX3dlYnBhY2tfZXhwb3J0c19fIiwiQ29sb3JzIiwic2tpbiIsImZyZWNrbGVzIiwid2hpdGUiLCJnbGFzc2VzIiwidGVldGgiLCJibGFjayIsImV5ZSIsImhhdCIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9pc29tb3JwaGljX2ZldGNoX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfaXNvbW9ycGhpY19mZXRjaF9fX2RlZmF1bHQiLCJ1cmwiLCJjcmVhdGUiLCJfcmVmIiwidGV4dCIsImlkIiwiZnJvbSIsInRvIiwiYmxvYiIsImF1ZGlvU2V0dGluZ3MiLCJoZWFkQ29sb3JzIiwiYm9keSIsIkZvcm1EYXRhIiwiYXBwZW5kIiwibWV0aG9kIiwidGhlbiIsInIiLCJqc29uIiwicmVhZCIsInJlYWRPbmUiLCJ1cGRhdGUiLCJfcmVmMiIsInJlc2V0Iiwic2h1ZmZsZWQiLCJzZXRDaGFyYWN0ZXJzIiwiX2FscGhhYmV0XyIsImFscGhhYmV0IiwiT1JJR0lOQUwiLCJsZW5ndGgiLCJFcnJvciIsInVuaXF1ZSIsInNwbGl0IiwiZmlsdGVyIiwiaXRlbSIsImluZCIsImFyciIsImxhc3RJbmRleE9mIiwiam9pbiIsImNoYXJhY3RlcnMiLCJzZXRTZWVkIiwic2VlZCIsInJhbmRvbUZyb21TZWVkIiwicHJldmlvdXNTZWVkIiwic2h1ZmZsZSIsImNoYXJhY3RlckluZGV4Iiwic291cmNlQXJyYXkiLCJ0YXJnZXRBcnJheSIsIm5leHRWYWx1ZSIsIk1hdGgiLCJmbG9vciIsInB1c2giLCJzcGxpY2UiLCJnZXRTaHVmZmxlZCIsImxvb2t1cCIsImluZGV4IiwiX2NsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIlR5cGVFcnJvciIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fb2JqZWN0c19jb2xvcnNfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fb2JqZWN0c19NYXRlcmlhbHNfXyIsIl9jcmVhdGVDbGFzcyIsImRlZmluZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJwcm9wcyIsImRlc2NyaXB0b3IiLCJ3cml0YWJsZSIsImtleSIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsIkhlYWQiLCJ0aGlzIiwibWVzaCIsIlRIUkVFIiwiT2JqZWN0M0QiLCJoZWFkR2VvbSIsIkJveEJ1ZmZlckdlb21ldHJ5Iiwic2tpbk1hdCIsIk1lc2hMYW1iZXJ0TWF0ZXJpYWwiLCJjb2xvciIsImZsYXRTaGFkaW5nIiwiTWVzaFBob25nTWF0ZXJpYWwiLCJoZWFkIiwiTWVzaCIsImNhc3RTaGFkb3ciLCJyZWNlaXZlU2hhZG93IiwiYWRkIiwiYmVhcmQiLCJwb3NpdGlvbiIsInkiLCJ6IiwiQmVhcmQiLCJHbGFzc2VzIiwiSGFpciIsIkV5ZXMiLCJFeWVCcm93cyIsIkhhdCIsIkZyZWNrbGVzIiwiRmVhdHVyZXMiLCJpZGxlIiwibm9ybWFsaXplIiwidmFsdWUiLCJ2Iiwidm1pbiIsInZtYXgiLCJ0bWluIiwidG1heCIsIm1heCIsIm1pbiIsInNwZWVkIiwiZXllQmx1ZVJpZ2h0UG9zWCIsImV5ZUJsdWVMZWZ0UG9zWCIsImV5ZUJsdWVSaWdodFBvc1kiLCJleWVCbHVlTGVmdFBvc1kiLCJleWVCcm93UmlnaHRQb3NZIiwiZXllQnJvd0xlZnRQb3NZIiwiZXllQmx1ZVJpZ2h0IiwieCIsImV5ZUJsdWVMZWZ0IiwiZXllQnJvd1JpZ2h0IiwiZXllQnJvd0xlZnQiLCJ4VGFyZ2V0IiwiYXJndW1lbnRzIiwidW5kZWZpbmVkIiwieVRhcmdldCIsInJvdGF0aW9uIiwic2luIiwiRGF0ZSIsIm5vdyIsIlBJIiwibW91c3RhY2hlIiwiY29zIiwidXBkYXRlQm9keSIsImJlYXJkR2VvbU1lcmdlZCIsIkdlb21ldHJ5IiwiYmVhcmQxR2VvbSIsIkJveEdlb21ldHJ5IiwiYmVhcmQxIiwid2hpdGVNYXQiLCJhcHBseU1hdHJpeCIsIk1hdHJpeDQiLCJtYWtlVHJhbnNsYXRpb24iLCJ1cGRhdGVNYXRyaXgiLCJtZXJnZSIsImdlb21ldHJ5IiwibWF0cml4IiwiYmVhcmQyIiwic2NhbGUiLCJiZWFyZDMiLCJjbG9uZSIsImJlYXJkNCIsImJlYXJkMkdlb20iLCJ2ZXJ0aWNlcyIsImJlYXJkNSIsImJlYXJkM0dlb20iLCJiZWFyZDYiLCJiZWFyZDciLCJiZWFyZDgiLCJiZWFyZDRHZW9tIiwiYmVhcmQ5IiwiYmVhcmQ1R2VvbSIsImJlYXJkMTAiLCJiZWFyZDExIiwiYmVhcmRNZXJnZWQiLCJtb3V0aEdlb20iLCJtb3V0aCIsImJsYWNrTWF0Iiwic2V0IiwidGVldGhHZW9tIiwidGVldGhNYXQiLCJtb3VzdGFjaGVHZW9tIiwiZ2xhc3Nlc01hdCIsImZyYW1lR2VvbU1lcmdlZCIsImZyYW1lT3V0ZXJHZW9tIiwiQ3lsaW5kZXJHZW9tZXRyeSIsImZyYW1lSW5uZXJHZW9tIiwibWFrZVJvdGF0aW9uWCIsImZyYW1lQlNQIiwiVGhyZWVCU1AiLCJmcmFtZUN1dEJTUCIsImZyYW1laW50ZXJzZWN0aW9uQlNQIiwic3VidHJhY3QiLCJmcmFtZUxlZnQiLCJ0b01lc2giLCJmcmFtZVJpZ2h0IiwibWFrZVJvdGF0aW9uWiIsImZyYW1lTWlkR2VvbSIsImZyYW1lTWlkIiwiZnJhbWVFbmRHZW9tIiwiZnJhbWVFbmRSaWdodCIsImZyYW1lRW5kTGVmdCIsImZyYW1lU3Bva2VHZW9tIiwiZnJhbWVTcG9rZVJpZ2h0IiwiZnJhbWVTcG9rZUxlZnQiLCJmcmFtZU1lcmdlZCIsImhhaXIiLCJoYWlyR2VvbU1lcmdlZCIsImhhaXJGbGF0R2VvbSIsImhhaXIxIiwiaGFpcjIiLCJoYWlyMyIsImhhaXI0IiwiaGFpcjYiLCJoYWlyRmxhdEJhY2tHZW9tIiwiaGFpcjUiLCJoYWlyTWVyZ2VkIiwiZXllcyIsImV5ZVdoaXRlR2VvbSIsIlBsYW5lR2VvbWV0cnkiLCJleWVXaGl0ZVJpZ2h0IiwiZXllQmx1ZUdlb20iLCJleWVNYXQiLCJleWVQdXBpbEdlb20iLCJleWVQdXBpbFJpZ2h0IiwiZXllV2hpdGVMZWZ0IiwiZXllUHVwaWxMZWZ0IiwiZXllQnJvd3MiLCJleWVCcm93R2VvbSIsImhhdE1hdCIsImJhbmRHZW9tIiwiVG9ydXNHZW9tZXRyeSIsImJpZ0NvbmVHZW9tIiwic21hbGxDb25lR2VvbSIsImhhdERpbmdsZUdlb20iLCJTcGhlcmVHZW9tZXRyeSIsImJhbmQiLCJiaWdDb25lIiwic21hbGxDb25lIiwibWFrZVJvdGF0aW9uWSIsImhhdERpbmdsZSIsImZyZWNrbGVzTWF0IiwiZnJlY2tsZXNHZW9tTWVyZ2VkIiwiZnJlY2tsZXNHZW9tIiwiZnJlY2tsZTEiLCJmcmVja2xlMiIsImZyZWNrbGUzIiwiZnJlY2tsZTQiLCJmcmVja2xlNSIsImZyZWNrbGU2IiwiZnJlY2tsZWRNZXJnZWQiLCJlYXJHZW9tIiwiZWFyUmlnaHQiLCJlYXJMZWZ0Iiwibm9zZUdlb20iLCJub3NlIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19jb2xvcnNfXyIsIk1hdGVyaWFscyIsIm5vcm1hbE1hdCIsIk1lc2hOb3JtYWxNYXRlcmlhbCIsInNlbGYiLCJmZXRjaCIsImJpbmQiLCJub3JtYWxpemVOYW1lIiwiU3RyaW5nIiwidGVzdCIsInRvTG93ZXJDYXNlIiwibm9ybWFsaXplVmFsdWUiLCJpdGVyYXRvckZvciIsIml0ZW1zIiwiaXRlcmF0b3IiLCJuZXh0Iiwic2hpZnQiLCJkb25lIiwic3VwcG9ydCIsIml0ZXJhYmxlIiwiU3ltYm9sIiwiSGVhZGVycyIsImhlYWRlcnMiLCJtYXAiLCJmb3JFYWNoIiwiQXJyYXkiLCJpc0FycmF5IiwiaGVhZGVyIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsImNvbnN1bWVkIiwiYm9keVVzZWQiLCJQcm9taXNlIiwicmVqZWN0IiwiZmlsZVJlYWRlclJlYWR5IiwicmVhZGVyIiwicmVzb2x2ZSIsIm9ubG9hZCIsInJlc3VsdCIsIm9uZXJyb3IiLCJlcnJvciIsInJlYWRCbG9iQXNBcnJheUJ1ZmZlciIsIkZpbGVSZWFkZXIiLCJwcm9taXNlIiwicmVhZEFzQXJyYXlCdWZmZXIiLCJyZWFkQmxvYkFzVGV4dCIsInJlYWRBc1RleHQiLCJyZWFkQXJyYXlCdWZmZXJBc1RleHQiLCJidWYiLCJ2aWV3IiwiVWludDhBcnJheSIsImNoYXJzIiwiZnJvbUNoYXJDb2RlIiwiYnVmZmVyQ2xvbmUiLCJzbGljZSIsImJ5dGVMZW5ndGgiLCJidWZmZXIiLCJCb2R5IiwiX2luaXRCb2R5IiwiX2JvZHlJbml0IiwiX2JvZHlUZXh0IiwiQmxvYiIsImlzUHJvdG90eXBlT2YiLCJfYm9keUJsb2IiLCJmb3JtRGF0YSIsIl9ib2R5Rm9ybURhdGEiLCJzZWFyY2hQYXJhbXMiLCJVUkxTZWFyY2hQYXJhbXMiLCJ0b1N0cmluZyIsImFycmF5QnVmZmVyIiwiaXNEYXRhVmlldyIsIl9ib2R5QXJyYXlCdWZmZXIiLCJBcnJheUJ1ZmZlciIsImlzQXJyYXlCdWZmZXJWaWV3IiwidHlwZSIsInJlamVjdGVkIiwiZGVjb2RlIiwiSlNPTiIsInBhcnNlIiwibm9ybWFsaXplTWV0aG9kIiwidXBjYXNlZCIsInRvVXBwZXJDYXNlIiwibWV0aG9kcyIsImluZGV4T2YiLCJSZXF1ZXN0IiwiaW5wdXQiLCJvcHRpb25zIiwiY3JlZGVudGlhbHMiLCJtb2RlIiwicmVmZXJyZXIiLCJmb3JtIiwidHJpbSIsImJ5dGVzIiwicmVwbGFjZSIsImRlY29kZVVSSUNvbXBvbmVudCIsInBhcnNlSGVhZGVycyIsInJhd0hlYWRlcnMiLCJsaW5lIiwicGFydHMiLCJSZXNwb25zZSIsImJvZHlJbml0Iiwic3RhdHVzIiwib2siLCJzdGF0dXNUZXh0IiwiZSIsInZpZXdDbGFzc2VzIiwib2JqIiwiRGF0YVZpZXciLCJpc1ZpZXciLCJvbGRWYWx1ZSIsImhhcyIsImNhbGxiYWNrIiwidGhpc0FyZyIsImtleXMiLCJ2YWx1ZXMiLCJlbnRyaWVzIiwicmVzcG9uc2UiLCJyZWRpcmVjdFN0YXR1c2VzIiwicmVkaXJlY3QiLCJSYW5nZUVycm9yIiwibG9jYXRpb24iLCJpbml0IiwicmVxdWVzdCIsInhociIsIlhNTEh0dHBSZXF1ZXN0IiwiZ2V0QWxsUmVzcG9uc2VIZWFkZXJzIiwicmVzcG9uc2VVUkwiLCJyZXNwb25zZVRleHQiLCJvbnRpbWVvdXQiLCJvcGVuIiwid2l0aENyZWRlbnRpYWxzIiwicmVzcG9uc2VUeXBlIiwic2V0UmVxdWVzdEhlYWRlciIsInNlbmQiLCJwb2x5ZmlsbCIsImVuY29kZSIsIm51bWJlciIsImxvb3BDb3VudGVyIiwic3RyIiwicmFuZG9tQnl0ZSIsInBvdyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fY2xhc3Nlc19IZWFkX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX29iamVjdHNfY29sb3JzX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX2NsYXNzZXNfQXVkaW9fanNfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fbGliX2NhcnRBUElfXyIsInNjZW5lIiwiY2FtZXJhIiwiZmllbGRPZlZpZXciLCJhc3BlY3RSYXRpbyIsIm5lYXJQbGFuZSIsImZhclBsYW5lIiwiSEVJR0hUIiwiV0lEVEgiLCJnbG9iYWxMaWdodCIsInNoYWRvd0xpZ2h0IiwiYmFja0xpZ2h0IiwicmVuZGVyZXIiLCJjb250YWluZXIiLCJ3aW5kb3dIYWxmWCIsIndpbmRvd0hhbGZZIiwiYXVkaW8iLCJjb250cm9sbGVyIiwiZ3VpIiwic2F2ZUJ0biIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJtb3VzZVBvcyIsImlzTW9iaWxlIiwibmF2aWdhdG9yIiwidXNlckFnZW50Iiwic2F2ZWQiLCJMb2FkaW5nTWFuYWdlciIsImd1aUNvbnRyb2xsZXIiLCJhZGRDb2xvciIsIm9uQ2hhbmdlIiwicmVtb3ZlIiwiY3JlYXRlSGVhZCIsImNyZWF0ZVNjZW5lIiwid2luZG93IiwiaW5uZXJIZWlnaHQiLCJpbm5lcldpZHRoIiwiU2NlbmUiLCJQZXJzcGVjdGl2ZUNhbWVyYSIsIldlYkdMUmVuZGVyZXIiLCJhbHBoYSIsImFudGlhbGlhcyIsInNldFBpeGVsUmF0aW8iLCJkZXZpY2VQaXhlbFJhdGlvIiwic2V0U2l6ZSIsInNoYWRvd01hcCIsImVuYWJsZWQiLCJQQ0ZTb2Z0U2hhZG93TWFwIiwiYXBwZW5kQ2hpbGQiLCJkb21FbGVtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9uV2luZG93UmVzaXplIiwiaGFuZGxlTW91c2VNb3ZlIiwiYXNwZWN0IiwidXBkYXRlUHJvamVjdGlvbk1hdHJpeCIsImV2ZW50IiwiY2xpZW50WCIsImNsaWVudFkiLCJjcmVhdGVMaWdodHMiLCJIZW1pc3BoZXJlTGlnaHQiLCJEaXJlY3Rpb25hbExpZ2h0Iiwic2hhZG93IiwibWFwU2l6ZSIsIndpZHRoIiwiaGVpZ2h0IiwiQW1iaWVudExpZ2h0IiwiaXNCbGlua2luZyIsImJsaW5rTG9vcCIsInJhbmRvbSIsImJsaW5rIiwiVHdlZW5NYXgiLCJ5b3lvIiwicmVwZWF0Iiwib25Db21wbGV0ZSIsImNvbnRyb2xsZXJUZXh0IiwibG9vcCIsInJlbmRlciIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInBhcnRpY2xlc0pTIiwibG9hZCIsImNvbnNvbGUiLCJsb2ciLCJsaW5rIiwicXVlcnlTZWxlY3RvciIsInBpdGNoIiwicGl0Y2hSYXRpbyIsIm92ZXJsYXAiLCJzdHJpbmdpZnkiLCJpbm5lckhUTUwiLCJzZXRBdHRyaWJ1dGUiLCJkYXQiLCJHVUkiLCJjbG9zZWQiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2xpYl9zb3VuZEFQSV9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX3Nob3J0aWRfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9zaG9ydGlkX19fZGVmYXVsdCIsIlNwZWVjaFJlY29nbml0aW9uIiwid2Via2l0U3BlZWNoUmVjb2duaXRpb24iLCJTcGVlY2hHcmFtbWFyTGlzdCIsIndlYmtpdFNwZWVjaEdyYW1tYXJMaXN0IiwiU3BlZWNoUmVjb2duaXRpb25FdmVudCIsIndlYmtpdFNwZWVjaFJlY29nbml0aW9uRXZlbnQiLCJBdWRpb0NvbnRleHQiLCJ3ZWJraXRBdWRpb0NvbnRleHQiLCJhdWRpb0N0eCIsInJlY29nbml0aW9uIiwidHJhbnNjcmlwdCIsImF1ZGlvQ2h1bmtzIiwic291cmNlIiwiJHRleHQiLCIkcmVjb3JkIiwiJGF1ZGlvIiwicGl0Y2hTaGlmdGVyUHJvY2Vzc29yIiwib3ZlcmxhcFJhdGlvIiwiQXVkaW8iLCJfdGhpcyIsImEiLCJnZW5lcmF0ZSIsInNwZWVjaFNldHRpbmdzIiwib25yZXN1bHQiLCJnb3RSZXN1bHQiLCJvbnNwZWVjaGVuZCIsIm9uU3BlZWNoRW5kIiwidHh0IiwibWVkaWFEZXZpY2VzIiwiZ2V0VXNlck1lZGlhIiwic3RyZWFtIiwibWVkaWFSZWNvcmRlciIsIk1lZGlhUmVjb3JkZXIiLCJzdGFydCIsImRpc2FibGVkIiwiZGF0YSIsInNldFRpbWVvdXQiLCJCdWZmZXJMb2FkZXIiLCJidWZmZXJMaXN0Iiwic3RvcCIsIiRwaXRjaCIsInBhcnNlRmxvYXQiLCJjcmVhdGVCdWZmZXJTb3VyY2UiLCJjb25uZWN0IiwiaW5pdFByb2Nlc3NvciIsInRleHRDb250ZW50IiwibGFzdCIsInJlc3VsdHMiLCJjb250aW51b3VzIiwibGFuZyIsImludGVyaW1SZXN1bHRzIiwibWF4QWx0ZXJuYXRpdmVzIiwibGluZWFySW50ZXJwb2xhdGlvbiIsImIiLCJ0IiwiZGlzY29ubmVjdCIsImNyZWF0ZVNjcmlwdFByb2Nlc3NvciIsImNyZWF0ZUphdmFTY3JpcHROb2RlIiwiRmxvYXQzMkFycmF5IiwiZ3JhaW5TaXplIiwiZ3JhaW5XaW5kb3ciLCJoYW5uV2luZG93Iiwib25hdWRpb3Byb2Nlc3MiLCJpbnB1dERhdGEiLCJpbnB1dEJ1ZmZlciIsImdldENoYW5uZWxEYXRhIiwib3V0cHV0RGF0YSIsIm91dHB1dEJ1ZmZlciIsImdyYWluRGF0YSIsImoiLCJyb3VuZCIsImRlc3RpbmF0aW9uIiwic2VlZFZhbHVlIiwid29ya2VyIiwid29ya2VySWQiLCJjbHVzdGVyV29ya2VySWQiLCJuZXdDaGFyYWN0ZXJzIiwiYnVpbGQiLCJpc1ZhbGlkIiwiZ2V0TmV4dFZhbHVlIiwiX3NlZWRfIiwiY3J5cHRvIiwiZ2V0UmFuZG9tVmFsdWVzIiwiZGVzdCIsIm1zQ3J5cHRvIiwidmVyc2lvbiIsInN1YnN0ciIsInNlY29uZHMiLCJSRURVQ0VfVElNRSIsInByZXZpb3VzU2Vjb25kcyIsImNvdW50ZXIiLCJpc1Nob3J0SWQiLCJsZW4iLCJuZXdGaWxlTmFtZSJdLCJtYXBwaW5ncyI6IkNBQVMsU0FBVUEsR0NJbkIsUUFBQUMsR0FBQUMsR0FHQSxHQUFBQyxFQUFBRCxHQUNBLE1BQUFDLEdBQUFELEdBQUFFLE9BR0EsSUFBQUMsR0FBQUYsRUFBQUQsSUFDQUksRUFBQUosRUFDQUssR0FBQSxFQUNBSCxXQVVBLE9BTkFKLEdBQUFFLEdBQUFNLEtBQUFILEVBQUFELFFBQUFDLElBQUFELFFBQUFILEdBR0FJLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUF2QkEsR0FBQUQsS0E0QkFGLEdBQUFRLEVBQUFULEVBR0FDLEVBQUFTLEVBQUFQLEVBR0FGLEVBQUFVLEVBQUEsU0FBQVAsRUFBQVEsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVYsRUFBQVEsSUFDQUcsT0FBQUMsZUFBQVosRUFBQVEsR0FDQUssY0FBQSxF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UUFBUyxTQUFBZCxHQUVQLE1BQU9MLEtBQVNDLEVBQVQsSUFBZ0JJLEdBQU9TLE9BRHhCQSxRQUNpQ0MsS0FBSyxTQUFBQyxHQUFBLE1BQUtBLEdBQUVDIiwiZmlsZSI6ImpzL3NjcmlwdC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0aTogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsOiBmYWxzZSxcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9XG4vKioqKioqLyBcdFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4vKioqKioqLyBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuLyoqKioqKi8gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbi8qKioqKiovIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbi8qKioqKiovIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbi8qKioqKiovIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbi8qKioqKiovIFx0XHRcdH0pO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuLyoqKioqKi8gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuLyoqKioqKi8gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbi8qKioqKiovIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4vKioqKioqLyBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuLyoqKioqKi8gXHRcdHJldHVybiBnZXR0ZXI7XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLyoqKioqKi8gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA4KTtcbi8qKioqKiovIH0pXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gKFtcbi8qIDAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG52YXIgQ29sb3JzID0ge1xuICBza2luOiAweGZmZTBiZCxcbiAgZnJlY2tsZXM6IDB4Y2ZiYTk2LFxuICB3aGl0ZTogMHhlOWViZWUsXG4gIGdsYXNzZXM6IDB4ZjljNDIxLFxuICB0ZWV0aDogMHhmZmZmZmYsXG4gIGJsYWNrOiAweDJlMmUyZSxcbiAgZXllOiAweDYyOTVhOCxcbiAgaGF0OiAweDcyMDMxNFxufTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSAoQ29sb3JzKTtcblxuLyoqKi8gfSksXG4vKiAxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9pc29tb3JwaGljX2ZldGNoX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9pc29tb3JwaGljX2ZldGNoX19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfaXNvbW9ycGhpY19mZXRjaF9fKTtcblxuXG52YXIgdXJsID0gJy9hcGkvY2FydCc7XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSAoe1xuXG4gIGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlKF9yZWYpIHtcbiAgICB2YXIgdGV4dCA9IF9yZWYudGV4dCxcbiAgICAgICAgaWQgPSBfcmVmLmlkLFxuICAgICAgICBmcm9tID0gX3JlZi5mcm9tLFxuICAgICAgICBibG9iID0gX3JlZi5ibG9iLFxuICAgICAgICB0byA9IF9yZWYudG8sXG4gICAgICAgIGF1ZGlvU2V0dGluZ3MgPSBfcmVmLmF1ZGlvU2V0dGluZ3MsXG4gICAgICAgIGhlYWRDb2xvcnMgPSBfcmVmLmhlYWRDb2xvcnM7XG5cbiAgICB2YXIgbWV0aG9kID0gJ1BPU1QnO1xuICAgIC8vIGNvbnN0IG5ld0ZpbGVOYW1lID0gYCR7aWQuc3BsaXQoYCBgKS5qb2luKGBfYCl9YDtcbiAgICB2YXIgYm9keSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgIGJvZHkuYXBwZW5kKCd0ZXh0JywgdGV4dCk7XG4gICAgYm9keS5hcHBlbmQoJ2lkJywgaWQpO1xuICAgIGJvZHkuYXBwZW5kKCdmcm9tJywgZnJvbSk7XG4gICAgYm9keS5hcHBlbmQoJ3RvJywgdG8pO1xuICAgIGJvZHkuYXBwZW5kKCdhdWRpb1NldHRpbmdzJywgYXVkaW9TZXR0aW5ncyk7XG4gICAgYm9keS5hcHBlbmQoJ2hlYWRDb2xvcnMnLCBoZWFkQ29sb3JzKTtcblxuICAgIHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfaXNvbW9ycGhpY19mZXRjaF9fX2RlZmF1bHQoKSh1cmwsIHsgbWV0aG9kOiBtZXRob2QsIGJvZHk6IGJvZHkgfSkudGhlbihmdW5jdGlvbiAocikge1xuICAgICAgcmV0dXJuIHIuanNvbigpO1xuICAgIH0pO1xuICB9LFxuXG4gIHJlYWQ6IGZ1bmN0aW9uIHJlYWQoKSB7XG4gICAgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9pc29tb3JwaGljX2ZldGNoX19fZGVmYXVsdCgpKHVybCArICc/aXNBY3RpdmU9dHJ1ZScpLnRoZW4oZnVuY3Rpb24gKHIpIHtcbiAgICAgIHJldHVybiByLmpzb24oKTtcbiAgICB9KTtcbiAgfSxcblxuICByZWFkT25lOiBmdW5jdGlvbiByZWFkT25lKGlkKSB7XG4gICAgdmFyIG1ldGhvZCA9ICdHRVQnO1xuICAgIHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfaXNvbW9ycGhpY19mZXRjaF9fX2RlZmF1bHQoKSh1cmwgKyAnLycgKyBpZCwgeyBtZXRob2Q6IG1ldGhvZCB9KS50aGVuKGZ1bmN0aW9uIChyKSB7XG4gICAgICByZXR1cm4gci5qc29uKCk7XG4gICAgfSk7XG4gIH0sXG5cbiAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUoX3JlZjIpIHtcbiAgICB2YXIgdGV4dCA9IF9yZWYyLnRleHQsXG4gICAgICAgIGlkID0gX3JlZjIuaWQsXG4gICAgICAgIGZyb20gPSBfcmVmMi5mcm9tLFxuICAgICAgICB0byA9IF9yZWYyLnRvLFxuICAgICAgICBhdWRpb1NldHRpbmdzID0gX3JlZjIuYXVkaW9TZXR0aW5ncyxcbiAgICAgICAgaGVhZENvbG9ycyA9IF9yZWYyLmhlYWRDb2xvcnM7XG5cbiAgICB2YXIgbWV0aG9kID0gJ1BVVCc7XG4gICAgdmFyIGJvZHkgPSBuZXcgRm9ybURhdGEoKTtcbiAgICBib2R5LmFwcGVuZCgndGV4dCcsIHRleHQpO1xuICAgIGJvZHkuYXBwZW5kKCdpZCcsIGlkKTtcbiAgICBib2R5LmFwcGVuZCgnZnJvbScsIGZyb20pO1xuICAgIGJvZHkuYXBwZW5kKCd0bycsIHRvKTtcbiAgICBib2R5LmFwcGVuZCgnYXVkaW9TZXR0aW5ncycsIGF1ZGlvU2V0dGluZ3MpO1xuICAgIGJvZHkuYXBwZW5kKCdoZWFkQ29sb3JzJywgaGVhZENvbG9ycyk7XG5cbiAgICByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX2lzb21vcnBoaWNfZmV0Y2hfX19kZWZhdWx0KCkodXJsICsgJy8nICsgaWQsIHsgbWV0aG9kOiBtZXRob2QsIGJvZHk6IGJvZHkgfSkudGhlbihmdW5jdGlvbiAocikge1xuICAgICAgcmV0dXJuIHIuanNvbigpO1xuICAgIH0pO1xuICB9XG59KTtcblxuLyoqKi8gfSksXG4vKiAyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciByYW5kb21Gcm9tU2VlZCA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpO1xuXG52YXIgT1JJR0lOQUwgPSAnMDEyMzQ1Njc4OWFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVpfLSc7XG52YXIgYWxwaGFiZXQ7XG52YXIgcHJldmlvdXNTZWVkO1xuXG52YXIgc2h1ZmZsZWQ7XG5cbmZ1bmN0aW9uIHJlc2V0KCkge1xuICAgIHNodWZmbGVkID0gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIHNldENoYXJhY3RlcnMoX2FscGhhYmV0Xykge1xuICAgIGlmICghX2FscGhhYmV0Xykge1xuICAgICAgICBpZiAoYWxwaGFiZXQgIT09IE9SSUdJTkFMKSB7XG4gICAgICAgICAgICBhbHBoYWJldCA9IE9SSUdJTkFMO1xuICAgICAgICAgICAgcmVzZXQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKF9hbHBoYWJldF8gPT09IGFscGhhYmV0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoX2FscGhhYmV0Xy5sZW5ndGggIT09IE9SSUdJTkFMLmxlbmd0aCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0N1c3RvbSBhbHBoYWJldCBmb3Igc2hvcnRpZCBtdXN0IGJlICcgKyBPUklHSU5BTC5sZW5ndGggKyAnIHVuaXF1ZSBjaGFyYWN0ZXJzLiBZb3Ugc3VibWl0dGVkICcgKyBfYWxwaGFiZXRfLmxlbmd0aCArICcgY2hhcmFjdGVyczogJyArIF9hbHBoYWJldF8pO1xuICAgIH1cblxuICAgIHZhciB1bmlxdWUgPSBfYWxwaGFiZXRfLnNwbGl0KCcnKS5maWx0ZXIoZnVuY3Rpb24oaXRlbSwgaW5kLCBhcnIpe1xuICAgICAgIHJldHVybiBpbmQgIT09IGFyci5sYXN0SW5kZXhPZihpdGVtKTtcbiAgICB9KTtcblxuICAgIGlmICh1bmlxdWUubGVuZ3RoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ3VzdG9tIGFscGhhYmV0IGZvciBzaG9ydGlkIG11c3QgYmUgJyArIE9SSUdJTkFMLmxlbmd0aCArICcgdW5pcXVlIGNoYXJhY3RlcnMuIFRoZXNlIGNoYXJhY3RlcnMgd2VyZSBub3QgdW5pcXVlOiAnICsgdW5pcXVlLmpvaW4oJywgJykpO1xuICAgIH1cblxuICAgIGFscGhhYmV0ID0gX2FscGhhYmV0XztcbiAgICByZXNldCgpO1xufVxuXG5mdW5jdGlvbiBjaGFyYWN0ZXJzKF9hbHBoYWJldF8pIHtcbiAgICBzZXRDaGFyYWN0ZXJzKF9hbHBoYWJldF8pO1xuICAgIHJldHVybiBhbHBoYWJldDtcbn1cblxuZnVuY3Rpb24gc2V0U2VlZChzZWVkKSB7XG4gICAgcmFuZG9tRnJvbVNlZWQuc2VlZChzZWVkKTtcbiAgICBpZiAocHJldmlvdXNTZWVkICE9PSBzZWVkKSB7XG4gICAgICAgIHJlc2V0KCk7XG4gICAgICAgIHByZXZpb3VzU2VlZCA9IHNlZWQ7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBzaHVmZmxlKCkge1xuICAgIGlmICghYWxwaGFiZXQpIHtcbiAgICAgICAgc2V0Q2hhcmFjdGVycyhPUklHSU5BTCk7XG4gICAgfVxuXG4gICAgdmFyIHNvdXJjZUFycmF5ID0gYWxwaGFiZXQuc3BsaXQoJycpO1xuICAgIHZhciB0YXJnZXRBcnJheSA9IFtdO1xuICAgIHZhciByID0gcmFuZG9tRnJvbVNlZWQubmV4dFZhbHVlKCk7XG4gICAgdmFyIGNoYXJhY3RlckluZGV4O1xuXG4gICAgd2hpbGUgKHNvdXJjZUFycmF5Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgciA9IHJhbmRvbUZyb21TZWVkLm5leHRWYWx1ZSgpO1xuICAgICAgICBjaGFyYWN0ZXJJbmRleCA9IE1hdGguZmxvb3IociAqIHNvdXJjZUFycmF5Lmxlbmd0aCk7XG4gICAgICAgIHRhcmdldEFycmF5LnB1c2goc291cmNlQXJyYXkuc3BsaWNlKGNoYXJhY3RlckluZGV4LCAxKVswXSk7XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXRBcnJheS5qb2luKCcnKTtcbn1cblxuZnVuY3Rpb24gZ2V0U2h1ZmZsZWQoKSB7XG4gICAgaWYgKHNodWZmbGVkKSB7XG4gICAgICAgIHJldHVybiBzaHVmZmxlZDtcbiAgICB9XG4gICAgc2h1ZmZsZWQgPSBzaHVmZmxlKCk7XG4gICAgcmV0dXJuIHNodWZmbGVkO1xufVxuXG4vKipcbiAqIGxvb2t1cCBzaHVmZmxlZCBsZXR0ZXJcbiAqIEBwYXJhbSBpbmRleFxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gbG9va3VwKGluZGV4KSB7XG4gICAgdmFyIGFscGhhYmV0U2h1ZmZsZWQgPSBnZXRTaHVmZmxlZCgpO1xuICAgIHJldHVybiBhbHBoYWJldFNodWZmbGVkW2luZGV4XTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgY2hhcmFjdGVyczogY2hhcmFjdGVycyxcbiAgICBzZWVkOiBzZXRTZWVkLFxuICAgIGxvb2t1cDogbG9va3VwLFxuICAgIHNodWZmbGVkOiBnZXRTaHVmZmxlZFxufTtcblxuXG4vKioqLyB9KSxcbi8qIDMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19vYmplY3RzX2NvbG9yc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX29iamVjdHNfTWF0ZXJpYWxzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuXG5cblxudmFyIGlzQmxpbmtpbmcgPSBmYWxzZTtcblxudmFyIEhlYWQgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEhlYWQoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEhlYWQpO1xuXG4gICAgdGhpcy5tZXNoID0gbmV3IFRIUkVFLk9iamVjdDNEKCk7XG5cbiAgICB2YXIgaGVhZEdlb20gPSBuZXcgVEhSRUUuQm94QnVmZmVyR2VvbWV0cnkoMTYsIDE2LCAxNik7XG4gICAgdmFyIHNraW5NYXQgPSBuZXcgVEhSRUUuTWVzaExhbWJlcnRNYXRlcmlhbCh7IGNvbG9yOiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX29iamVjdHNfY29sb3JzX19bXCJhXCIgLyogZGVmYXVsdCAqL10uc2tpbiwgZmxhdFNoYWRpbmc6IHRydWUgfSk7XG4gICAgdmFyIGV5ZU1hdCA9IG5ldyBUSFJFRS5NZXNoUGhvbmdNYXRlcmlhbCh7IGNvbG9yOiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX29iamVjdHNfY29sb3JzX19bXCJhXCIgLyogZGVmYXVsdCAqL10uZXllLCBmbGF0U2hhZGluZzogdHJ1ZSB9KTtcblxuICAgIHRoaXMuaGVhZCA9IG5ldyBUSFJFRS5NZXNoKGhlYWRHZW9tLCBza2luTWF0KTtcbiAgICB0aGlzLmhlYWQuY2FzdFNoYWRvdyA9IHRydWU7XG4gICAgdGhpcy5oZWFkLnJlY2VpdmVTaGFkb3cgPSBmYWxzZTtcbiAgICB0aGlzLm1lc2guYWRkKHRoaXMuaGVhZCk7XG5cbiAgICB0aGlzLmJlYXJkID0gbmV3IFRIUkVFLk9iamVjdDNEKCk7XG4gICAgdGhpcy5iZWFyZC5wb3NpdGlvbi55ID0gLTc7XG4gICAgdGhpcy5iZWFyZC5wb3NpdGlvbi56ID0gMC41O1xuICAgIHRoaXMuaGVhZC5hZGQodGhpcy5iZWFyZCk7XG4gICAgdmFyIHN0YXJzID0gdm9pZCAwO1xuXG4gICAgdGhpcy5CZWFyZCgpO1xuICAgIHRoaXMuR2xhc3NlcygpO1xuICAgIHRoaXMuSGFpcigpO1xuICAgIHRoaXMuRXllcygpO1xuICAgIHRoaXMuRXllQnJvd3MoKTtcbiAgICB0aGlzLkhhdCgpO1xuICAgIHRoaXMuRnJlY2tsZXMoKTtcbiAgICB0aGlzLkZlYXR1cmVzKCk7XG4gICAgdGhpcy5pZGxlKCk7XG4gICAgLy8gICAgdGhpcy5kaXp6eSgpO1xuICAgIC8vICAgIHRoaXMuU3RhcigpO1xuICAgIC8vICAgIHRoaXMuU3RhcnNHcm91cCgpO1xuICAgIHRoaXMubm9ybWFsaXplKCk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoSGVhZCwgW3tcbiAgICBrZXk6ICdub3JtYWxpemUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBub3JtYWxpemUodiwgdm1pbiwgdm1heCwgdG1pbiwgdG1heCkge1xuICAgICAgdmFyIG52ID0gTWF0aC5tYXgoTWF0aC5taW4odiwgdm1heCksIHZtaW4pO1xuICAgICAgdmFyIGR2ID0gdm1heCAtIHZtaW47XG4gICAgICB2YXIgcGMgPSAobnYgLSB2bWluKSAvIGR2O1xuICAgICAgdmFyIGR0ID0gdG1heCAtIHRtaW47XG4gICAgICB2YXIgdHYgPSB0bWluICsgcGMgKiBkdDtcbiAgICAgIHJldHVybiB0djtcbiAgICB9XG5cbiAgICAvLyBTdGFyKCkge1xuICAgIC8vICAgdGhpcy5tZXNoID0gbmV3IFRIUkVFLk9iamVjdDNEKCk7XG4gICAgLy9cbiAgICAvLyAgIGxldCBwdHMgPSBbXSxcbiAgICAvLyAgICAgbnVtUHRzID0gNTtcbiAgICAvLyAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtUHRzICogMjsgaSsrKSB7XG4gICAgLy8gICAgIGxldCBsID0gaSAlIDIgPT0gMVxuICAgIC8vICAgICAgID8gMVxuICAgIC8vICAgICAgIDogMjtcbiAgICAvLyAgICAgbGV0IGEgPSBpIC8gbnVtUHRzICogTWF0aC5QSTtcbiAgICAvLyAgICAgcHRzLnB1c2gobmV3IFRIUkVFLlZlY3RvcjIoTWF0aC5jb3MoYSkgKiBsLCBNYXRoLnNpbihhKSAqIGwpKTtcbiAgICAvLyAgIH1cbiAgICAvLyAgIGxldCBzdGFyU2hhcGUgPSBuZXcgVEhSRUUuU2hhcGUocHRzKTtcbiAgICAvL1xuICAgIC8vICAgbGV0IGV4dHJ1ZGVTZXR0aW5ncyA9IHtcbiAgICAvLyAgICAgYW1vdW50OiAwLjUsXG4gICAgLy8gICAgIHN0ZXBzOiAxLFxuICAgIC8vICAgICBiZXZlbEVuYWJsZWQ6IGZhbHNlXG4gICAgLy8gICB9O1xuICAgIC8vICAgbGV0IHN0YXJHZW9tID0gbmV3IFRIUkVFLkV4dHJ1ZGVHZW9tZXRyeShzdGFyU2hhcGUsIGV4dHJ1ZGVTZXR0aW5ncyk7XG4gICAgLy9cbiAgICAvLyAgIGxldCBzdGFyID0gbmV3IFRIUkVFLk1lc2goc3Rhckdlb20sIE1hdC53aGl0ZU1hdCk7XG4gICAgLy9cbiAgICAvLyAgIHN0YXIucm90YXRpb24ueCA9IE1hdGguUEkgLyAyO1xuICAgIC8vXG4gICAgLy8gICB0aGlzLm1lc2guYWRkKHN0YXIpO1xuICAgIC8vIH1cblxuICAgIC8vIFN0YXJzR3JvdXAoKXtcbiAgICAvLyAgIHRoaXMubWVzaCA9IG5ldyBUSFJFRS5PYmplY3QzRCgpO1xuICAgIC8vXG4gICAgLy8gICB0aGlzLm5TdGFycyA9IDE1O1xuICAgIC8vICAgY29uc3Qgc3RhckFycmF5ID0gW107XG4gICAgLy8gICBsZXQgc3RlcEFuZ2xlID0gTWF0aC5QSSAqIDIgLyB0aGlzLm5TdGFycztcbiAgICAvL1xuICAgIC8vICAgLy8gQ3JlYXRlIHRoZSBTdGFyc1xuICAgIC8vICAgLy8gZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm5TdGFyczsgaSsrKSB7XG4gICAgLy8gICAvL1xuICAgIC8vICAgLy8gICAvLyB0aGlzLnMgPSB0aGlzLlN0YXIoKTtcbiAgICAvLyAgIC8vICAgLy8gbGV0IGEgPSBzdGVwQW5nbGUgKiBpO1xuICAgIC8vICAgLy8gICAvLyBsZXQgciA9IDE1O1xuICAgIC8vICAgLy8gICAvL1xuICAgIC8vICAgLy8gICAvLyB0aGlzLnMubWVzaC5wb3NpdGlvbi55ID0gTWF0aC5zaW4oYSkgKiByO1xuICAgIC8vICAgLy8gICAvLyB0aGlzLnMubWVzaC5wb3NpdGlvbi54ID0gTWF0aC5jb3MoYSkgKiByO1xuICAgIC8vICAgLy8gICAvL1xuICAgIC8vICAgLy8gICAvLyB0aGlzLnMubWVzaC5yb3RhdGlvbi56ID0gYSArIE1hdGguUEkgLyAyO1xuICAgIC8vICAgLy8gICAvLyB0aGlzLnMubWVzaC5wb3NpdGlvbi56ID0gMCAtIE1hdGgucmFuZG9tKCkgKiAzO1xuICAgIC8vICAgLy8gICAvL1xuICAgIC8vICAgLy8gICAvLyAvLyAgcmFuZG9tIHNjYWxlIGZvciBlYWNoIGNsb3VkXG4gICAgLy8gICAvLyAgIC8vIGxldCBzYyA9IDAuNSArIE1hdGgucmFuZG9tKCkgKiAuNjtcbiAgICAvLyAgIC8vICAgLy8gdGhpcy5zLm1lc2guc2NhbGUuc2V0KHNjLCBzYywgc2MpO1xuICAgIC8vICAgLy8gICAvL1xuICAgIC8vICAgLy8gICAvLyB0aGlzLm1lc2guYWRkKHRoaXMucy5tZXNoKTtcbiAgICAvLyAgIC8vXG4gICAgLy8gICAvLyAgIHN0YXJBcnJheS5wdXNoKHRoaXMucyk7XG4gICAgLy8gICAvL31cbiAgICAvLyAgIHRoaXMubWVzaC5yb3RhdGlvbi54ID0gTWF0aC5QSSAvIDI7XG4gICAgLy8gfVxuXG4gICAgLy8gc3BpblNjYWxlKCkge1xuICAgIC8vICAgdGhpcy5tZXNoLnJvdGF0aW9uLnogKz0gMC4wMjtcbiAgICAvL1xuICAgIC8vICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdGFyQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAvLyAgICAgIHN0YXJBcnJheVtpXS5tZXNoLnJvdGF0aW9uLnggPSBNYXRoLnNpbihEYXRlLm5vdygpICogMC4wMSkgKiBNYXRoLlBJICogMC4xIDtcbiAgICAvLyAgICAgc3RhckFycmF5W2ldLm1lc2gucm90YXRpb24ueiArPSAwIC0gTWF0aC5yYW5kb20oKSAqIDAuMTU7XG4gICAgLy8gICAgIHN0YXJBcnJheVtpXS5tZXNoLnJvdGF0aW9uLnggKz0gMCAtIE1hdGgucmFuZG9tKCkgKiAwLjA1O1xuICAgIC8vXG4gICAgLy8gICB9XG4gICAgLy8gfVxuXG4gICAgLy8gZGl6enkoKSB7XG4gICAgLy8gICB0aGlzLnN0YXJzID0gdGhpcy5TdGFyc0dyb3VwKCk7XG4gICAgLy9cbiAgICAvLyAgIC8vIHRoaXMuc3RhcnMubWVzaC5wb3NpdGlvbi5zZXQoMCwgMTAsIDApO1xuICAgIC8vICAgbGV0IGRpc3RhbmNlID0gMTtcbiAgICAvL1xuICAgIC8vICAgdGhpcy5oZWFkLnJvdGF0aW9uLnogPSBNYXRoLnNpbihEYXRlLm5vdygpICogMC4wMDUpICogTWF0aC5QSSAqIDAuMDE7XG4gICAgLy8gICB0aGlzLmhlYWQucm90YXRpb24ueCA9IE1hdGguc2luKERhdGUubm93KCkgKiAwLjAxKSAqIE1hdGguUEkgKiAwLjAxO1xuICAgIC8vICAgdGhpcy5oZWFkLnJvdGF0aW9uLnkgPSBNYXRoLnNpbihEYXRlLm5vdygpICogMC4wMDUpICogTWF0aC5QSSAqIDAuMDE7XG4gICAgLy9cbiAgICAvLyAgIHRoaXMubW91c3RhY2hlLnJvdGF0aW9uLnogPSBNYXRoLnNpbihEYXRlLm5vdygpICogMC4wMDUpICogTWF0aC5QSSAqIDAuMDU7XG4gICAgLy9cbiAgICAvLyAgIHRoaXMuc3RhcnMuc3BpblNjYWxlKCk7XG4gICAgLy8gfVxuXG4gIH0sIHtcbiAgICBrZXk6ICd1cGRhdGVCb2R5JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlQm9keShzcGVlZCwgZXllQmx1ZVJpZ2h0UG9zWCwgZXllQmx1ZUxlZnRQb3NYLCBleWVCbHVlUmlnaHRQb3NZLCBleWVCbHVlTGVmdFBvc1ksIGV5ZUJyb3dSaWdodFBvc1ksIGV5ZUJyb3dMZWZ0UG9zWSkge1xuICAgICAgdGhpcy5leWVCbHVlUmlnaHQucG9zaXRpb24ueCArPSAoZXllQmx1ZVJpZ2h0UG9zWCAtIHRoaXMuZXllQmx1ZVJpZ2h0LnBvc2l0aW9uLngpIC8gc3BlZWQ7XG4gICAgICB0aGlzLmV5ZUJsdWVMZWZ0LnBvc2l0aW9uLnggKz0gKGV5ZUJsdWVMZWZ0UG9zWCAtIHRoaXMuZXllQmx1ZUxlZnQucG9zaXRpb24ueCkgLyBzcGVlZDtcblxuICAgICAgdGhpcy5leWVCbHVlUmlnaHQucG9zaXRpb24ueSArPSAoZXllQmx1ZVJpZ2h0UG9zWSAtIHRoaXMuZXllQmx1ZVJpZ2h0LnBvc2l0aW9uLnkpIC8gc3BlZWQ7XG4gICAgICB0aGlzLmV5ZUJsdWVMZWZ0LnBvc2l0aW9uLnkgKz0gKGV5ZUJsdWVMZWZ0UG9zWSAtIHRoaXMuZXllQmx1ZUxlZnQucG9zaXRpb24ueSkgLyBzcGVlZDtcblxuICAgICAgdGhpcy5leWVCcm93UmlnaHQucG9zaXRpb24ueSArPSAoZXllQnJvd1JpZ2h0UG9zWSAtIHRoaXMuZXllQnJvd1JpZ2h0LnBvc2l0aW9uLnkpIC8gc3BlZWQ7XG4gICAgICB0aGlzLmV5ZUJyb3dMZWZ0LnBvc2l0aW9uLnkgKz0gKGV5ZUJyb3dMZWZ0UG9zWSAtIHRoaXMuZXllQnJvd0xlZnQucG9zaXRpb24ueSkgLyBzcGVlZDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdpZGxlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaWRsZSgpIHtcbiAgICAgIHZhciB4VGFyZ2V0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwO1xuICAgICAgdmFyIHlUYXJnZXQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7XG5cbiAgICAgIHZhciBkaXN0YW5jZSA9IDE7XG5cbiAgICAgIHRoaXMuaGVhZC5yb3RhdGlvbi56ID0gTWF0aC5zaW4oRGF0ZS5ub3coKSAqIDAuMDA1KSAqIE1hdGguUEkgKiAwLjAwNTtcbiAgICAgIHRoaXMuaGVhZC5yb3RhdGlvbi54ID0gTWF0aC5zaW4oRGF0ZS5ub3coKSAqIDAuMDA0KSAqIE1hdGguUEkgKiAwLjAzO1xuXG4gICAgICB2YXIgZXllQmx1ZVJpZ2h0UG9zWCA9IHRoaXMubm9ybWFsaXplKHhUYXJnZXQsIC0yMDAsIDIwMCwgLTAuNiwgMC42KTtcbiAgICAgIHZhciBleWVCbHVlTGVmdFBvc1ggPSB0aGlzLm5vcm1hbGl6ZSh4VGFyZ2V0LCAtMjAwLCAyMDAsIC0wLjYsIDAuNik7XG5cbiAgICAgIHZhciBleWVCbHVlUmlnaHRQb3NZID0gdGhpcy5ub3JtYWxpemUoeVRhcmdldCwgLTIwMCwgMjAwLCAwLjYsIC0wLjYpO1xuICAgICAgdmFyIGV5ZUJsdWVMZWZ0UG9zWSA9IHRoaXMubm9ybWFsaXplKHlUYXJnZXQsIC0yMDAsIDIwMCwgMC42LCAtMC42KTtcblxuICAgICAgdmFyIGV5ZUJyb3dSaWdodFBvc1kgPSB0aGlzLm5vcm1hbGl6ZSh4VGFyZ2V0LCAtMjAwLCAyMDAsIC0xLCAwLjgpO1xuICAgICAgdmFyIGV5ZUJyb3dMZWZ0UG9zWSA9IHRoaXMubm9ybWFsaXplKHhUYXJnZXQsIC0yMDAsIDIwMCwgLTEsIDAuOCk7XG5cbiAgICAgIHRoaXMubW91c3RhY2hlLnBvc2l0aW9uLnkgPSBNYXRoLmNvcyhEYXRlLm5vdygpICogMC4wMSkgKiBkaXN0YW5jZSAvIDQ7XG4gICAgICB0aGlzLm1vdXN0YWNoZS5yb3RhdGlvbi56ID0gTWF0aC5zaW4oRGF0ZS5ub3coKSAqIDAuMDEpICogTWF0aC5QSSAqIDAuMDE7XG5cbiAgICAgIHRoaXMubWVzaC5yb3RhdGlvbi55ID0gTWF0aC5zaW4oRGF0ZS5ub3coKSAqIDAuMDAyKSAqIE1hdGguUEkgKiAwLjA1O1xuICAgICAgdGhpcy51cGRhdGVCb2R5KDEwLCBleWVCbHVlUmlnaHRQb3NYLCBleWVCbHVlTGVmdFBvc1gsIGV5ZUJsdWVSaWdodFBvc1ksIGV5ZUJsdWVMZWZ0UG9zWSwgZXllQnJvd1JpZ2h0UG9zWSwgZXllQnJvd0xlZnRQb3NZKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdCZWFyZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIEJlYXJkKCkge1xuICAgICAgdmFyIGJlYXJkR2VvbU1lcmdlZCA9IG5ldyBUSFJFRS5HZW9tZXRyeSgpO1xuXG4gICAgICB2YXIgYmVhcmQxR2VvbSA9IG5ldyBUSFJFRS5Cb3hHZW9tZXRyeSgyLCAxMCwgMTYpO1xuXG4gICAgICB2YXIgYmVhcmQxID0gbmV3IFRIUkVFLk1lc2goYmVhcmQxR2VvbSwgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19vYmplY3RzX01hdGVyaWFsc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLndoaXRlTWF0KTtcbiAgICAgIGJlYXJkMS5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VUcmFuc2xhdGlvbig5LCAwLCAwKSk7XG4gICAgICBiZWFyZDEudXBkYXRlTWF0cml4KCk7XG4gICAgICBiZWFyZEdlb21NZXJnZWQubWVyZ2UoYmVhcmQxLmdlb21ldHJ5LCBiZWFyZDEubWF0cml4KTtcblxuICAgICAgdmFyIGJlYXJkMiA9IG5ldyBUSFJFRS5NZXNoKGJlYXJkMUdlb20sIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fb2JqZWN0c19NYXRlcmlhbHNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS53aGl0ZU1hdCk7XG4gICAgICBiZWFyZDIuYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlVHJhbnNsYXRpb24oNywgLTIsIDIpKTtcbiAgICAgIGJlYXJkMi5zY2FsZS56ID0gMC44O1xuICAgICAgYmVhcmQyLnVwZGF0ZU1hdHJpeCgpO1xuICAgICAgYmVhcmRHZW9tTWVyZ2VkLm1lcmdlKGJlYXJkMi5nZW9tZXRyeSwgYmVhcmQyLm1hdHJpeCk7XG5cbiAgICAgIHZhciBiZWFyZDMgPSBiZWFyZDEuY2xvbmUoKTtcbiAgICAgIGJlYXJkMy5wb3NpdGlvbi54ID0gLWJlYXJkMS5wb3NpdGlvbi54O1xuICAgICAgYmVhcmQzLnVwZGF0ZU1hdHJpeCgpO1xuICAgICAgYmVhcmRHZW9tTWVyZ2VkLm1lcmdlKGJlYXJkMy5nZW9tZXRyeSwgYmVhcmQzLm1hdHJpeCk7XG5cbiAgICAgIHZhciBiZWFyZDQgPSBiZWFyZDIuY2xvbmUoKTtcbiAgICAgIGJlYXJkNC5wb3NpdGlvbi54ID0gLWJlYXJkMi5wb3NpdGlvbi54O1xuICAgICAgYmVhcmQ0LnVwZGF0ZU1hdHJpeCgpO1xuICAgICAgYmVhcmRHZW9tTWVyZ2VkLm1lcmdlKGJlYXJkNC5nZW9tZXRyeSwgYmVhcmQ0Lm1hdHJpeCk7XG5cbiAgICAgIHZhciBiZWFyZDJHZW9tID0gbmV3IFRIUkVFLkJveEdlb21ldHJ5KDMsIDE0LCAxMCk7XG4gICAgICBiZWFyZDJHZW9tLnZlcnRpY2VzWzJdLnogLT0gMjtcbiAgICAgIGJlYXJkMkdlb20udmVydGljZXNbN10ueiAtPSAyO1xuXG4gICAgICB2YXIgYmVhcmQ1ID0gbmV3IFRIUkVFLk1lc2goYmVhcmQyR2VvbSwgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19vYmplY3RzX01hdGVyaWFsc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLndoaXRlTWF0KTtcbiAgICAgIGJlYXJkNS5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VUcmFuc2xhdGlvbig1LCAtNSwgNCkpO1xuICAgICAgYmVhcmQ1LnVwZGF0ZU1hdHJpeCgpO1xuICAgICAgYmVhcmRHZW9tTWVyZ2VkLm1lcmdlKGJlYXJkNS5nZW9tZXRyeSwgYmVhcmQ1Lm1hdHJpeCk7XG5cbiAgICAgIHZhciBiZWFyZDNHZW9tID0gbmV3IFRIUkVFLkJveEdlb21ldHJ5KDIuNSwgMTQsIDEwKTtcbiAgICAgIGJlYXJkM0dlb20udmVydGljZXNbMl0ueiAtPSAyO1xuICAgICAgYmVhcmQzR2VvbS52ZXJ0aWNlc1s3XS56IC09IDI7XG5cbiAgICAgIHZhciBiZWFyZDYgPSBuZXcgVEhSRUUuTWVzaChiZWFyZDNHZW9tLCBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX29iamVjdHNfTWF0ZXJpYWxzX19bXCJhXCIgLyogZGVmYXVsdCAqL10ud2hpdGVNYXQpO1xuICAgICAgYmVhcmQ2LmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVRyYW5zbGF0aW9uKDIuNSwgLTYsIDYpKTtcbiAgICAgIGJlYXJkNi51cGRhdGVNYXRyaXgoKTtcbiAgICAgIGJlYXJkR2VvbU1lcmdlZC5tZXJnZShiZWFyZDYuZ2VvbWV0cnksIGJlYXJkNi5tYXRyaXgpO1xuXG4gICAgICB2YXIgYmVhcmQ3ID0gYmVhcmQ1LmNsb25lKCk7XG4gICAgICBiZWFyZDcucG9zaXRpb24ueCA9IC1iZWFyZDUucG9zaXRpb24ueDtcbiAgICAgIGJlYXJkNy51cGRhdGVNYXRyaXgoKTtcbiAgICAgIGJlYXJkR2VvbU1lcmdlZC5tZXJnZShiZWFyZDcuZ2VvbWV0cnksIGJlYXJkNy5tYXRyaXgpO1xuXG4gICAgICB2YXIgYmVhcmQ4ID0gYmVhcmQ2LmNsb25lKCk7XG4gICAgICBiZWFyZDgucG9zaXRpb24ueCA9IC1iZWFyZDYucG9zaXRpb24ueDtcbiAgICAgIGJlYXJkOC51cGRhdGVNYXRyaXgoKTtcbiAgICAgIGJlYXJkR2VvbU1lcmdlZC5tZXJnZShiZWFyZDguZ2VvbWV0cnksIGJlYXJkOC5tYXRyaXgpO1xuXG4gICAgICB2YXIgYmVhcmQ0R2VvbSA9IG5ldyBUSFJFRS5Cb3hHZW9tZXRyeSgyLjUsIDE0LjUsIDEwKTtcbiAgICAgIGJlYXJkNEdlb20udmVydGljZXNbMl0ueiAtPSAxO1xuICAgICAgYmVhcmQ0R2VvbS52ZXJ0aWNlc1s3XS56IC09IDE7XG5cbiAgICAgIHZhciBiZWFyZDkgPSBuZXcgVEhSRUUuTWVzaChiZWFyZDRHZW9tLCBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX29iamVjdHNfTWF0ZXJpYWxzX19bXCJhXCIgLyogZGVmYXVsdCAqL10ud2hpdGVNYXQpO1xuICAgICAgYmVhcmQ5LmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVRyYW5zbGF0aW9uKDAsIC03LCA1Ljc1KSk7XG4gICAgICBiZWFyZDkudXBkYXRlTWF0cml4KCk7XG4gICAgICBiZWFyZEdlb21NZXJnZWQubWVyZ2UoYmVhcmQ5Lmdlb21ldHJ5LCBiZWFyZDkubWF0cml4KTtcblxuICAgICAgdmFyIGJlYXJkNUdlb20gPSBuZXcgVEhSRUUuQm94R2VvbWV0cnkoNCwgOCwgOCk7XG4gICAgICB2YXIgYmVhcmQxMCA9IG5ldyBUSFJFRS5NZXNoKGJlYXJkNUdlb20sIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fb2JqZWN0c19NYXRlcmlhbHNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS53aGl0ZU1hdCk7XG4gICAgICBiZWFyZDEwLmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVRyYW5zbGF0aW9uKC02LCAtMSwgLTIpKTtcbiAgICAgIGJlYXJkMTAudXBkYXRlTWF0cml4KCk7XG4gICAgICBiZWFyZEdlb21NZXJnZWQubWVyZ2UoYmVhcmQxMC5nZW9tZXRyeSwgYmVhcmQxMC5tYXRyaXgpO1xuXG4gICAgICB2YXIgYmVhcmQxMSA9IG5ldyBUSFJFRS5NZXNoKGJlYXJkNUdlb20sIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fb2JqZWN0c19NYXRlcmlhbHNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS53aGl0ZU1hdCk7XG4gICAgICBiZWFyZDExLmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVRyYW5zbGF0aW9uKDAsIC01LCAtMikpO1xuICAgICAgYmVhcmQxMS51cGRhdGVNYXRyaXgoKTtcbiAgICAgIGJlYXJkR2VvbU1lcmdlZC5tZXJnZShiZWFyZDExLmdlb21ldHJ5LCBiZWFyZDExLm1hdHJpeCk7XG5cbiAgICAgIHZhciBiZWFyZE1lcmdlZCA9IG5ldyBUSFJFRS5NZXNoKGJlYXJkR2VvbU1lcmdlZCwgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19vYmplY3RzX01hdGVyaWFsc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLndoaXRlTWF0KTtcbiAgICAgIGJlYXJkTWVyZ2VkLmNhc3RTaGFkb3cgPSB0cnVlO1xuICAgICAgYmVhcmRNZXJnZWQucmVjZWl2ZVNoYWRvdyA9IHRydWU7XG5cbiAgICAgIHZhciBtb3V0aEdlb20gPSBuZXcgVEhSRUUuQm94R2VvbWV0cnkoMTAsIDQsIDEpO1xuICAgICAgdmFyIG1vdXRoID0gbmV3IFRIUkVFLk1lc2gobW91dGhHZW9tLCBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX29iamVjdHNfTWF0ZXJpYWxzX19bXCJhXCIgLyogZGVmYXVsdCAqL10uYmxhY2tNYXQpO1xuICAgICAgbW91dGgucG9zaXRpb24uc2V0KDAsIDIsIDgpO1xuICAgICAgbW91dGguY2FzdFNoYWRvdyA9IGZhbHNlO1xuICAgICAgbW91dGgucmVjZWl2ZVNoYWRvdyA9IHRydWU7XG5cbiAgICAgIHZhciB0ZWV0aEdlb20gPSBuZXcgVEhSRUUuQm94R2VvbWV0cnkoMTAsIDEsIDEpO1xuICAgICAgdmFyIHRlZXRoID0gbmV3IFRIUkVFLk1lc2godGVldGhHZW9tLCBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX29iamVjdHNfTWF0ZXJpYWxzX19bXCJhXCIgLyogZGVmYXVsdCAqL10udGVldGhNYXQpO1xuICAgICAgdGVldGgucG9zaXRpb24uc2V0KDAsIDAuNSwgMC4xKTtcbiAgICAgIHRlZXRoLmNhc3RTaGFkb3cgPSBmYWxzZTtcbiAgICAgIHRlZXRoLnJlY2VpdmVTaGFkb3cgPSB0cnVlO1xuICAgICAgbW91dGguYWRkKHRlZXRoKTtcblxuICAgICAgdGhpcy5iZWFyZC5hZGQoYmVhcmRNZXJnZWQsIG1vdXRoKTtcblxuICAgICAgdmFyIG1vdXN0YWNoZUdlb20gPSBuZXcgVEhSRUUuQm94R2VvbWV0cnkoMTQsIDMsIDMsIDMpO1xuICAgICAgbW91c3RhY2hlR2VvbS52ZXJ0aWNlc1swXS55IC09IDI7XG4gICAgICBtb3VzdGFjaGVHZW9tLnZlcnRpY2VzWzFdLnkgLT0gMjtcbiAgICAgIG1vdXN0YWNoZUdlb20udmVydGljZXNbMl0ueSAtPSAyO1xuICAgICAgbW91c3RhY2hlR2VvbS52ZXJ0aWNlc1szXS55IC09IDI7XG4gICAgICBtb3VzdGFjaGVHZW9tLnZlcnRpY2VzWzRdLnkgLT0gMjtcbiAgICAgIG1vdXN0YWNoZUdlb20udmVydGljZXNbNV0ueSAtPSAyO1xuICAgICAgbW91c3RhY2hlR2VvbS52ZXJ0aWNlc1s2XS55IC09IDI7XG4gICAgICBtb3VzdGFjaGVHZW9tLnZlcnRpY2VzWzddLnkgLT0gMjtcbiAgICAgIG1vdXN0YWNoZUdlb20udmVydGljZXNbOF0ueCAtPSAxO1xuICAgICAgbW91c3RhY2hlR2VvbS52ZXJ0aWNlc1s5XS54ICs9IDE7XG5cbiAgICAgIG1vdXN0YWNoZUdlb20uYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlVHJhbnNsYXRpb24oMCwgNCwgMCkpO1xuICAgICAgdGhpcy5tb3VzdGFjaGUgPSBuZXcgVEhSRUUuTWVzaChtb3VzdGFjaGVHZW9tLCBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX29iamVjdHNfTWF0ZXJpYWxzX19bXCJhXCIgLyogZGVmYXVsdCAqL10ud2hpdGVNYXQpO1xuICAgICAgdGhpcy5tb3VzdGFjaGUuY2FzdFNoYWRvdyA9IHRydWU7XG4gICAgICB0aGlzLm1vdXN0YWNoZS5yZWNlaXZlU2hhZG93ID0gdHJ1ZTtcblxuICAgICAgdGhpcy5tb3VzdGFjaGUucG9zaXRpb24uc2V0KDAsIDAsIDkpO1xuICAgICAgdGhpcy5iZWFyZC5hZGQodGhpcy5tb3VzdGFjaGUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ0dsYXNzZXMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBHbGFzc2VzKCkge1xuXG4gICAgICB0aGlzLmdsYXNzZXMgPSBuZXcgVEhSRUUuT2JqZWN0M0QoKTtcbiAgICAgIHRoaXMuZ2xhc3Nlcy5wb3NpdGlvbi5zZXQoMCwgMCwgOSk7XG4gICAgICB0aGlzLmhlYWQuYWRkKHRoaXMuZ2xhc3Nlcyk7XG4gICAgICB2YXIgZ2xhc3Nlc01hdCA9IG5ldyBUSFJFRS5NZXNoUGhvbmdNYXRlcmlhbCh7IGNvbG9yOiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX29iamVjdHNfY29sb3JzX19bXCJhXCIgLyogZGVmYXVsdCAqL10uZ2xhc3NlcywgZmxhdFNoYWRpbmc6IHRydWUgfSk7XG5cbiAgICAgIHZhciBmcmFtZUdlb21NZXJnZWQgPSBuZXcgVEhSRUUuR2VvbWV0cnkoKTtcblxuICAgICAgdmFyIGZyYW1lT3V0ZXJHZW9tID0gbmV3IFRIUkVFLkN5bGluZGVyR2VvbWV0cnkoMywgMywgMC41LCAzMik7XG4gICAgICB2YXIgZnJhbWVJbm5lckdlb20gPSBuZXcgVEhSRUUuQ3lsaW5kZXJHZW9tZXRyeSgyLjcsIDIuNywgMC41LCAzMik7XG5cbiAgICAgIGZyYW1lT3V0ZXJHZW9tLmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVJvdGF0aW9uWCgtTWF0aC5QSSAvIDIpKTtcbiAgICAgIGZyYW1lSW5uZXJHZW9tLmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVJvdGF0aW9uWCgtTWF0aC5QSSAvIDIpKTtcblxuICAgICAgdmFyIGZyYW1lQlNQID0gbmV3IFRocmVlQlNQKGZyYW1lT3V0ZXJHZW9tKTtcbiAgICAgIHZhciBmcmFtZUN1dEJTUCA9IG5ldyBUaHJlZUJTUChmcmFtZUlubmVyR2VvbSk7XG5cbiAgICAgIHZhciBmcmFtZWludGVyc2VjdGlvbkJTUCA9IGZyYW1lQlNQLnN1YnRyYWN0KGZyYW1lQ3V0QlNQKTtcbiAgICAgIHZhciBmcmFtZUxlZnQgPSBmcmFtZWludGVyc2VjdGlvbkJTUC50b01lc2goZ2xhc3Nlc01hdCk7XG5cbiAgICAgIGZyYW1lTGVmdC5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VUcmFuc2xhdGlvbig0LCAzLCAwKSk7XG4gICAgICBmcmFtZUxlZnQudXBkYXRlTWF0cml4KCk7XG4gICAgICBmcmFtZUdlb21NZXJnZWQubWVyZ2UoZnJhbWVMZWZ0Lmdlb21ldHJ5LCBmcmFtZUxlZnQubWF0cml4KTtcblxuICAgICAgdmFyIGZyYW1lUmlnaHQgPSBmcmFtZUxlZnQuY2xvbmUoKTtcbiAgICAgIGZyYW1lUmlnaHQuYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlUm90YXRpb25aKE1hdGguUEkgLyAzMCkpO1xuICAgICAgZnJhbWVSaWdodC5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VUcmFuc2xhdGlvbigtNy41LCAtMC4yNSwgMCkpO1xuICAgICAgZnJhbWVSaWdodC51cGRhdGVNYXRyaXgoKTtcbiAgICAgIGZyYW1lR2VvbU1lcmdlZC5tZXJnZShmcmFtZVJpZ2h0Lmdlb21ldHJ5LCBmcmFtZVJpZ2h0Lm1hdHJpeCk7XG5cbiAgICAgIHZhciBmcmFtZU1pZEdlb20gPSBuZXcgVEhSRUUuQm94R2VvbWV0cnkoMiwgLjMsIC41KTtcbiAgICAgIHZhciBmcmFtZU1pZCA9IG5ldyBUSFJFRS5NZXNoKGZyYW1lTWlkR2VvbSwgZ2xhc3Nlc01hdCk7XG4gICAgICBmcmFtZU1pZC5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VUcmFuc2xhdGlvbigwLCAzLjMsIC0wLjMpKTtcbiAgICAgIGZyYW1lTWlkLnVwZGF0ZU1hdHJpeCgpO1xuICAgICAgZnJhbWVHZW9tTWVyZ2VkLm1lcmdlKGZyYW1lTWlkLmdlb21ldHJ5LCBmcmFtZU1pZC5tYXRyaXgpO1xuXG4gICAgICB2YXIgZnJhbWVFbmRHZW9tID0gbmV3IFRIUkVFLkJveEdlb21ldHJ5KDEuNSwgLjUsIDEpO1xuICAgICAgdmFyIGZyYW1lRW5kUmlnaHQgPSBuZXcgVEhSRUUuTWVzaChmcmFtZUVuZEdlb20sIGdsYXNzZXNNYXQpO1xuICAgICAgZnJhbWVFbmRSaWdodC5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VUcmFuc2xhdGlvbig3LjUsIDMsIDApKTtcbiAgICAgIGZyYW1lRW5kUmlnaHQudXBkYXRlTWF0cml4KCk7XG4gICAgICBmcmFtZUdlb21NZXJnZWQubWVyZ2UoZnJhbWVFbmRSaWdodC5nZW9tZXRyeSwgZnJhbWVFbmRSaWdodC5tYXRyaXgpO1xuXG4gICAgICB2YXIgZnJhbWVFbmRMZWZ0ID0gZnJhbWVFbmRSaWdodC5jbG9uZSgpO1xuICAgICAgZnJhbWVFbmRMZWZ0LnBvc2l0aW9uLnggPSAtZnJhbWVFbmRSaWdodC5wb3NpdGlvbi54O1xuICAgICAgZnJhbWVFbmRMZWZ0LnVwZGF0ZU1hdHJpeCgpO1xuICAgICAgZnJhbWVHZW9tTWVyZ2VkLm1lcmdlKGZyYW1lRW5kTGVmdC5nZW9tZXRyeSwgZnJhbWVFbmRMZWZ0Lm1hdHJpeCk7XG5cbiAgICAgIHZhciBmcmFtZVNwb2tlR2VvbSA9IG5ldyBUSFJFRS5Cb3hHZW9tZXRyeSgxLCAwLjUsIDEyKTtcbiAgICAgIHZhciBmcmFtZVNwb2tlUmlnaHQgPSBuZXcgVEhSRUUuTWVzaChmcmFtZVNwb2tlR2VvbSwgZ2xhc3Nlc01hdCk7XG4gICAgICBmcmFtZVNwb2tlUmlnaHQuYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlVHJhbnNsYXRpb24oOCwgMywgLTUuNSkpO1xuICAgICAgZnJhbWVTcG9rZVJpZ2h0LnVwZGF0ZU1hdHJpeCgpO1xuICAgICAgZnJhbWVHZW9tTWVyZ2VkLm1lcmdlKGZyYW1lU3Bva2VSaWdodC5nZW9tZXRyeSwgZnJhbWVTcG9rZVJpZ2h0Lm1hdHJpeCk7XG5cbiAgICAgIHZhciBmcmFtZVNwb2tlTGVmdCA9IGZyYW1lU3Bva2VSaWdodC5jbG9uZSgpO1xuICAgICAgZnJhbWVTcG9rZUxlZnQucG9zaXRpb24ueCA9IC1mcmFtZVNwb2tlUmlnaHQucG9zaXRpb24ueDtcbiAgICAgIGZyYW1lU3Bva2VMZWZ0LnVwZGF0ZU1hdHJpeCgpO1xuICAgICAgZnJhbWVHZW9tTWVyZ2VkLm1lcmdlKGZyYW1lU3Bva2VMZWZ0Lmdlb21ldHJ5LCBmcmFtZVNwb2tlTGVmdC5tYXRyaXgpO1xuXG4gICAgICB2YXIgZnJhbWVNZXJnZWQgPSBuZXcgVEhSRUUuTWVzaChmcmFtZUdlb21NZXJnZWQsIGdsYXNzZXNNYXQpO1xuICAgICAgZnJhbWVNZXJnZWQuY2FzdFNoYWRvdyA9IGZhbHNlO1xuICAgICAgZnJhbWVNZXJnZWQucmVjZWl2ZVNoYWRvdyA9IHRydWU7XG5cbiAgICAgIHRoaXMuZ2xhc3Nlcy5hZGQoZnJhbWVNZXJnZWQpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ0hhaXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBIYWlyKCkge1xuXG4gICAgICB0aGlzLmhhaXIgPSBuZXcgVEhSRUUuT2JqZWN0M0QoKTtcbiAgICAgIHRoaXMuaGFpci5wb3NpdGlvbi5zZXQoMCwgOSwgMCk7XG4gICAgICB0aGlzLmhlYWQuYWRkKHRoaXMuaGFpcik7XG5cbiAgICAgIHZhciBoYWlyR2VvbU1lcmdlZCA9IG5ldyBUSFJFRS5HZW9tZXRyeSgpO1xuXG4gICAgICB2YXIgaGFpckZsYXRHZW9tID0gbmV3IFRIUkVFLkJveEdlb21ldHJ5KDEwLCAyLCAxOCk7XG5cbiAgICAgIHZhciBoYWlyMSA9IG5ldyBUSFJFRS5NZXNoKGhhaXJGbGF0R2VvbSwgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19vYmplY3RzX01hdGVyaWFsc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLndoaXRlTWF0KTtcbiAgICAgIGhhaXIxLmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVJvdGF0aW9uWigtTWF0aC5QSSAvIDQwKSk7XG4gICAgICBoYWlyMS5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VUcmFuc2xhdGlvbigtNCwgLTAuNSwgMCkpO1xuICAgICAgaGFpcjEudXBkYXRlTWF0cml4KCk7XG4gICAgICBoYWlyR2VvbU1lcmdlZC5tZXJnZShoYWlyMS5nZW9tZXRyeSwgaGFpcjEubWF0cml4KTtcblxuICAgICAgdmFyIGhhaXIyID0gbmV3IFRIUkVFLk1lc2goaGFpckZsYXRHZW9tLCBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX29iamVjdHNfTWF0ZXJpYWxzX19bXCJhXCIgLyogZGVmYXVsdCAqL10ud2hpdGVNYXQpO1xuICAgICAgaGFpcjIuYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlUm90YXRpb25aKC1NYXRoLlBJIC8gMTApKTtcbiAgICAgIGhhaXIyLmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVRyYW5zbGF0aW9uKC0yLCAxLCAwKSk7XG4gICAgICBoYWlyMi51cGRhdGVNYXRyaXgoKTtcbiAgICAgIGhhaXJHZW9tTWVyZ2VkLm1lcmdlKGhhaXIyLmdlb21ldHJ5LCBoYWlyMi5tYXRyaXgpO1xuXG4gICAgICB2YXIgaGFpcjMgPSBuZXcgVEhSRUUuTWVzaChoYWlyRmxhdEdlb20sIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fb2JqZWN0c19NYXRlcmlhbHNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS53aGl0ZU1hdCk7XG4gICAgICBoYWlyMy5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VSb3RhdGlvblooLU1hdGguUEkgLyA1KSk7XG4gICAgICBoYWlyMy5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VUcmFuc2xhdGlvbigyLCAxLCAwKSk7XG4gICAgICBoYWlyMy51cGRhdGVNYXRyaXgoKTtcbiAgICAgIGhhaXJHZW9tTWVyZ2VkLm1lcmdlKGhhaXIzLmdlb21ldHJ5LCBoYWlyMy5tYXRyaXgpO1xuXG4gICAgICB2YXIgaGFpcjQgPSBuZXcgVEhSRUUuTWVzaChoYWlyRmxhdEdlb20sIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fb2JqZWN0c19NYXRlcmlhbHNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS53aGl0ZU1hdCk7XG4gICAgICBoYWlyNC5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VSb3RhdGlvblooLU1hdGguUEkgLyA0KSk7XG4gICAgICBoYWlyNC5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VUcmFuc2xhdGlvbig2LCAwLCAwKSk7XG4gICAgICBoYWlyNC51cGRhdGVNYXRyaXgoKTtcbiAgICAgIGhhaXJHZW9tTWVyZ2VkLm1lcmdlKGhhaXI0Lmdlb21ldHJ5LCBoYWlyNC5tYXRyaXgpO1xuXG4gICAgICB2YXIgaGFpcjYgPSBuZXcgVEhSRUUuTWVzaChoYWlyRmxhdEdlb20sIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fb2JqZWN0c19NYXRlcmlhbHNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS53aGl0ZU1hdCk7XG4gICAgICBoYWlyNi5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VSb3RhdGlvblooLU1hdGguUEkgLyAtMykpO1xuICAgICAgaGFpcjYuYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlVHJhbnNsYXRpb24oLTcuNzUsIC0uNSwgMCkpO1xuICAgICAgaGFpcjYudXBkYXRlTWF0cml4KCk7XG4gICAgICBoYWlyR2VvbU1lcmdlZC5tZXJnZShoYWlyNi5nZW9tZXRyeSwgaGFpcjYubWF0cml4KTtcblxuICAgICAgdmFyIGhhaXJGbGF0QmFja0dlb20gPSBuZXcgVEhSRUUuQm94R2VvbWV0cnkoMTgsIDcsIDYpO1xuICAgICAgaGFpckZsYXRCYWNrR2VvbS52ZXJ0aWNlc1swXS54IC09IDE7XG4gICAgICBoYWlyRmxhdEJhY2tHZW9tLnZlcnRpY2VzWzFdLnggLT0gMTtcbiAgICAgIGhhaXJGbGF0QmFja0dlb20udmVydGljZXNbNF0ueCArPSAxO1xuICAgICAgaGFpckZsYXRCYWNrR2VvbS52ZXJ0aWNlc1s1XS54ICs9IDE7XG5cbiAgICAgIHZhciBoYWlyNSA9IG5ldyBUSFJFRS5NZXNoKGhhaXJGbGF0QmFja0dlb20sIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fb2JqZWN0c19NYXRlcmlhbHNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS53aGl0ZU1hdCk7XG4gICAgICBoYWlyNS5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VUcmFuc2xhdGlvbigwLCAtNC41LCAtNikpO1xuICAgICAgaGFpcjUudXBkYXRlTWF0cml4KCk7XG4gICAgICBoYWlyR2VvbU1lcmdlZC5tZXJnZShoYWlyNS5nZW9tZXRyeSwgaGFpcjUubWF0cml4KTtcblxuICAgICAgdmFyIGhhaXJNZXJnZWQgPSBuZXcgVEhSRUUuTWVzaChoYWlyR2VvbU1lcmdlZCwgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19vYmplY3RzX01hdGVyaWFsc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLndoaXRlTWF0KTtcbiAgICAgIGhhaXJNZXJnZWQuY2FzdFNoYWRvdyA9IGZhbHNlO1xuICAgICAgaGFpck1lcmdlZC5yZWNlaXZlU2hhZG93ID0gdHJ1ZTtcblxuICAgICAgdGhpcy5oYWlyLmFkZChoYWlyTWVyZ2VkKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdFeWVzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gRXllcygpIHtcblxuICAgICAgdGhpcy5leWVzID0gbmV3IFRIUkVFLk9iamVjdDNEKCk7XG4gICAgICB0aGlzLmV5ZXMucG9zaXRpb24uc2V0KDAsIDMsIDkpO1xuICAgICAgdGhpcy5oZWFkLmFkZCh0aGlzLmV5ZXMpO1xuXG4gICAgICB2YXIgZXllV2hpdGVHZW9tID0gbmV3IFRIUkVFLlBsYW5lR2VvbWV0cnkoMi41LCAyLjUpO1xuXG4gICAgICB2YXIgZXllV2hpdGVSaWdodCA9IG5ldyBUSFJFRS5NZXNoKGV5ZVdoaXRlR2VvbSwgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19vYmplY3RzX01hdGVyaWFsc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLndoaXRlTWF0KTtcbiAgICAgIGV5ZVdoaXRlUmlnaHQucG9zaXRpb24uc2V0KC0zLjc1LCAwLCAwKTtcbiAgICAgIGV5ZVdoaXRlUmlnaHQuY2FzdFNoYWRvdyA9IGZhbHNlO1xuICAgICAgZXllV2hpdGVSaWdodC5yZWNlaXZlU2hhZG93ID0gZmFsc2U7XG5cbiAgICAgIHZhciBleWVCbHVlR2VvbSA9IG5ldyBUSFJFRS5QbGFuZUdlb21ldHJ5KDEuNSwgMS41KTtcblxuICAgICAgdmFyIGV5ZU1hdCA9IG5ldyBUSFJFRS5NZXNoUGhvbmdNYXRlcmlhbCh7IGNvbG9yOiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX29iamVjdHNfY29sb3JzX19bXCJhXCIgLyogZGVmYXVsdCAqL10uZXllLCBmbGF0U2hhZGluZzogdHJ1ZSB9KTtcblxuICAgICAgdGhpcy5leWVCbHVlUmlnaHQgPSBuZXcgVEhSRUUuTWVzaChleWVCbHVlR2VvbSwgZXllTWF0KTtcbiAgICAgIHRoaXMuZXllQmx1ZVJpZ2h0LnBvc2l0aW9uLnNldCgwLCAwLCAuMDEpO1xuICAgICAgdGhpcy5leWVCbHVlUmlnaHQuY2FzdFNoYWRvdyA9IGZhbHNlO1xuICAgICAgdGhpcy5leWVCbHVlUmlnaHQucmVjZWl2ZVNoYWRvdyA9IGZhbHNlO1xuXG4gICAgICBleWVXaGl0ZVJpZ2h0LmFkZCh0aGlzLmV5ZUJsdWVSaWdodCk7XG5cbiAgICAgIHZhciBleWVQdXBpbEdlb20gPSBuZXcgVEhSRUUuUGxhbmVHZW9tZXRyeSgxLCAxKTtcblxuICAgICAgdGhpcy5leWVQdXBpbFJpZ2h0ID0gbmV3IFRIUkVFLk1lc2goZXllUHVwaWxHZW9tLCBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX29iamVjdHNfTWF0ZXJpYWxzX19bXCJhXCIgLyogZGVmYXVsdCAqL10uYmxhY2tNYXQpO1xuICAgICAgdGhpcy5leWVQdXBpbFJpZ2h0LnBvc2l0aW9uLnNldCgwLCAwLCAuMDIpO1xuICAgICAgdGhpcy5leWVQdXBpbFJpZ2h0LmNhc3RTaGFkb3cgPSBmYWxzZTtcbiAgICAgIHRoaXMuZXllUHVwaWxSaWdodC5yZWNlaXZlU2hhZG93ID0gZmFsc2U7XG5cbiAgICAgIHRoaXMuZXllQmx1ZVJpZ2h0LmFkZCh0aGlzLmV5ZVB1cGlsUmlnaHQpO1xuXG4gICAgICB2YXIgZXllV2hpdGVMZWZ0ID0gbmV3IFRIUkVFLk1lc2goZXllV2hpdGVHZW9tLCBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX29iamVjdHNfTWF0ZXJpYWxzX19bXCJhXCIgLyogZGVmYXVsdCAqL10ud2hpdGVNYXQpO1xuICAgICAgZXllV2hpdGVMZWZ0LnBvc2l0aW9uLnNldCgzLjc1LCAwLCAwKTtcbiAgICAgIGV5ZVdoaXRlTGVmdC5jYXN0U2hhZG93ID0gZmFsc2U7XG4gICAgICBleWVXaGl0ZUxlZnQucmVjZWl2ZVNoYWRvdyA9IGZhbHNlO1xuXG4gICAgICB0aGlzLmV5ZUJsdWVMZWZ0ID0gbmV3IFRIUkVFLk1lc2goZXllQmx1ZUdlb20sIGV5ZU1hdCk7XG4gICAgICB0aGlzLmV5ZUJsdWVMZWZ0LnBvc2l0aW9uLnNldCgwLCAwLCAuMDEpO1xuICAgICAgdGhpcy5leWVCbHVlTGVmdC5jYXN0U2hhZG93ID0gZmFsc2U7XG4gICAgICB0aGlzLmV5ZUJsdWVMZWZ0LnJlY2VpdmVTaGFkb3cgPSBmYWxzZTtcblxuICAgICAgZXllV2hpdGVMZWZ0LmFkZCh0aGlzLmV5ZUJsdWVMZWZ0KTtcblxuICAgICAgdGhpcy5leWVQdXBpbExlZnQgPSBuZXcgVEhSRUUuTWVzaChleWVQdXBpbEdlb20sIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fb2JqZWN0c19NYXRlcmlhbHNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS5ibGFja01hdCk7XG4gICAgICB0aGlzLmV5ZVB1cGlsTGVmdC5wb3NpdGlvbi5zZXQoMCwgMCwgLjAyKTtcbiAgICAgIHRoaXMuZXllUHVwaWxMZWZ0LmNhc3RTaGFkb3cgPSBmYWxzZTtcbiAgICAgIHRoaXMuZXllUHVwaWxMZWZ0LnJlY2VpdmVTaGFkb3cgPSBmYWxzZTtcblxuICAgICAgdGhpcy5leWVCbHVlTGVmdC5hZGQodGhpcy5leWVQdXBpbExlZnQpO1xuXG4gICAgICB0aGlzLmV5ZXMuYWRkKGV5ZVdoaXRlUmlnaHQsIGV5ZVdoaXRlTGVmdCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnRXllQnJvd3MnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBFeWVCcm93cygpIHtcbiAgICAgIHRoaXMuZXllQnJvd3MgPSBuZXcgVEhSRUUuT2JqZWN0M0QoKTtcbiAgICAgIHRoaXMuZXllQnJvd3MucG9zaXRpb24uc2V0KDAsIDYsIDgpO1xuICAgICAgdGhpcy5oZWFkLmFkZCh0aGlzLmV5ZUJyb3dzKTtcblxuICAgICAgdmFyIGV5ZUJyb3dHZW9tID0gbmV3IFRIUkVFLkJveEdlb21ldHJ5KDQsIDEsIDEpO1xuXG4gICAgICB0aGlzLmV5ZUJyb3dSaWdodCA9IG5ldyBUSFJFRS5NZXNoKGV5ZUJyb3dHZW9tLCBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX29iamVjdHNfTWF0ZXJpYWxzX19bXCJhXCIgLyogZGVmYXVsdCAqL10ud2hpdGVNYXQpO1xuICAgICAgdGhpcy5leWVCcm93UmlnaHQuYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlUm90YXRpb25aKE1hdGguUEkgLyA0NSkpO1xuICAgICAgdGhpcy5leWVCcm93UmlnaHQucG9zaXRpb24uc2V0KC0zLjc1LCAwLCAwKTtcbiAgICAgIHRoaXMuZXllQnJvd1JpZ2h0LmNhc3RTaGFkb3cgPSBmYWxzZTtcbiAgICAgIHRoaXMuZXllQnJvd1JpZ2h0LnJlY2VpdmVTaGFkb3cgPSBmYWxzZTtcblxuICAgICAgdGhpcy5leWVCcm93TGVmdCA9IG5ldyBUSFJFRS5NZXNoKGV5ZUJyb3dHZW9tLCBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX29iamVjdHNfTWF0ZXJpYWxzX19bXCJhXCIgLyogZGVmYXVsdCAqL10ud2hpdGVNYXQpO1xuICAgICAgdGhpcy5leWVCcm93TGVmdC5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VSb3RhdGlvblooLU1hdGguUEkgLyA0NSkpO1xuICAgICAgdGhpcy5leWVCcm93TGVmdC5wb3NpdGlvbi5zZXQoMy43NSwgMCwgMCk7XG4gICAgICB0aGlzLmV5ZUJyb3dMZWZ0LmNhc3RTaGFkb3cgPSBmYWxzZTtcbiAgICAgIHRoaXMuZXllQnJvd0xlZnQucmVjZWl2ZVNoYWRvdyA9IGZhbHNlO1xuXG4gICAgICB0aGlzLmV5ZUJyb3dzLmFkZCh0aGlzLmV5ZUJyb3dSaWdodCwgdGhpcy5leWVCcm93TGVmdCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnSGF0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gSGF0KCkge1xuICAgICAgdGhpcy5oYXQgPSBuZXcgVEhSRUUuT2JqZWN0M0QoKTtcbiAgICAgIHRoaXMuaGF0LnBvc2l0aW9uLnNldCgtMC4yLCAxMSwgMi40KTtcbiAgICAgIHRoaXMuaGVhZC5hZGQodGhpcy5oYXQpO1xuXG4gICAgICB2YXIgaGF0TWF0ID0gbmV3IFRIUkVFLk1lc2hQaG9uZ01hdGVyaWFsKHsgY29sb3I6IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fb2JqZWN0c19jb2xvcnNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS5oYXQsIGZsYXRTaGFkaW5nOiB0cnVlIH0pO1xuXG4gICAgICB2YXIgYmFuZEdlb20gPSBuZXcgVEhSRUUuVG9ydXNHZW9tZXRyeSg5LCAyLCAxNiwgMTAwKTtcbiAgICAgIHZhciBiaWdDb25lR2VvbSA9IG5ldyBUSFJFRS5DeWxpbmRlckdlb21ldHJ5KDEsIDExLCAxMiwgMTUpO1xuICAgICAgdmFyIHNtYWxsQ29uZUdlb20gPSBuZXcgVEhSRUUuQ3lsaW5kZXJHZW9tZXRyeSgwLjgsIDMsIDksIDMyKTtcbiAgICAgIHZhciBoYXREaW5nbGVHZW9tID0gbmV3IFRIUkVFLlNwaGVyZUdlb21ldHJ5KDEuNSwgOCwgOCk7XG5cbiAgICAgIHRoaXMuYmFuZCA9IG5ldyBUSFJFRS5NZXNoKGJhbmRHZW9tLCBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX29iamVjdHNfTWF0ZXJpYWxzX19bXCJhXCIgLyogZGVmYXVsdCAqL10udGVldGhNYXQpO1xuICAgICAgdGhpcy5iYW5kLmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVJvdGF0aW9uWChNYXRoLlBJIC8gMikpO1xuICAgICAgdGhpcy5iYW5kLnBvc2l0aW9uLnNldCgwLCAwLCAwKTtcbiAgICAgIHRoaXMuYmFuZC5jYXN0U2hhZG93ID0gZmFsc2U7XG4gICAgICB0aGlzLmJhbmQucmVjZWl2ZVNoYWRvdyA9IGZhbHNlO1xuXG4gICAgICB0aGlzLmJpZ0NvbmUgPSBuZXcgVEhSRUUuTWVzaChiaWdDb25lR2VvbSwgaGF0TWF0KTtcbiAgICAgIHRoaXMuYmlnQ29uZS5wb3NpdGlvbi5zZXQoMCwgNiwgMCk7XG4gICAgICB0aGlzLmJpZ0NvbmUuY2FzdFNoYWRvdyA9IGZhbHNlO1xuICAgICAgdGhpcy5iaWdDb25lLnJlY2VpdmVTaGFkb3cgPSBmYWxzZTtcblxuICAgICAgdGhpcy5zbWFsbENvbmUgPSBuZXcgVEhSRUUuTWVzaChzbWFsbENvbmVHZW9tLCBoYXRNYXQpO1xuICAgICAgdGhpcy5zbWFsbENvbmUuYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlUm90YXRpb25YKE1hdGguUEkgLyAyKSk7XG4gICAgICB0aGlzLnNtYWxsQ29uZS5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VSb3RhdGlvblkoTWF0aC5QSSAvIDIpKTtcbiAgICAgIHRoaXMuc21hbGxDb25lLmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVJvdGF0aW9uWihNYXRoLlBJIC8gLTgpKTtcbiAgICAgIHRoaXMuc21hbGxDb25lLnBvc2l0aW9uLnNldCg0LCA3LjgsIC0xKTtcbiAgICAgIHRoaXMuc21hbGxDb25lLmNhc3RTaGFkb3cgPSBmYWxzZTtcbiAgICAgIHRoaXMuc21hbGxDb25lLnJlY2VpdmVTaGFkb3cgPSBmYWxzZTtcblxuICAgICAgdGhpcy5oYXREaW5nbGUgPSBuZXcgVEhSRUUuTWVzaChoYXREaW5nbGVHZW9tLCBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX29iamVjdHNfTWF0ZXJpYWxzX19bXCJhXCIgLyogZGVmYXVsdCAqL10ud2hpdGVNYXQpO1xuICAgICAgdGhpcy5oYXREaW5nbGUucG9zaXRpb24uc2V0KDksIDUuNSwgLTEpO1xuICAgICAgdGhpcy5oYXREaW5nbGUuY2FzdFNoYWRvdyA9IGZhbHNlO1xuICAgICAgdGhpcy5oYXREaW5nbGUucmVjZWl2ZVNoYWRvdyA9IGZhbHNlO1xuXG4gICAgICB0aGlzLmhhdC5hZGQodGhpcy5iYW5kLCB0aGlzLmJpZ0NvbmUsIHRoaXMuc21hbGxDb25lLCB0aGlzLmhhdERpbmdsZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnRnJlY2tsZXMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBGcmVja2xlcygpIHtcbiAgICAgIHRoaXMuZnJlY2tsZXMgPSBuZXcgVEhSRUUuT2JqZWN0M0QoKTtcbiAgICAgIHRoaXMuZnJlY2tsZXMucG9zaXRpb24uc2V0KDAsIDAsIDgpO1xuICAgICAgdGhpcy5oZWFkLmFkZCh0aGlzLmZyZWNrbGVzKTtcblxuICAgICAgdmFyIGZyZWNrbGVzTWF0ID0gbmV3IFRIUkVFLk1lc2hMYW1iZXJ0TWF0ZXJpYWwoeyBjb2xvcjogX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19vYmplY3RzX2NvbG9yc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLmZyZWNrbGVzLCBmbGF0U2hhZGluZzogdHJ1ZSB9KTtcbiAgICAgIHZhciBmcmVja2xlc0dlb21NZXJnZWQgPSBuZXcgVEhSRUUuR2VvbWV0cnkoKTtcblxuICAgICAgdmFyIGZyZWNrbGVzR2VvbSA9IG5ldyBUSFJFRS5QbGFuZUdlb21ldHJ5KDAuNSwgMC41KTtcblxuICAgICAgdmFyIGZyZWNrbGUxID0gbmV3IFRIUkVFLk1lc2goZnJlY2tsZXNHZW9tLCBmcmVja2xlc01hdCk7XG4gICAgICBmcmVja2xlMS5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VUcmFuc2xhdGlvbigtNSwgMCwgMC4wMSkpO1xuICAgICAgZnJlY2tsZTEudXBkYXRlTWF0cml4KCk7XG4gICAgICBmcmVja2xlc0dlb21NZXJnZWQubWVyZ2UoZnJlY2tsZTEuZ2VvbWV0cnksIGZyZWNrbGUxLm1hdHJpeCk7XG5cbiAgICAgIHZhciBmcmVja2xlMiA9IGZyZWNrbGUxLmNsb25lKCk7XG4gICAgICBmcmVja2xlMi5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VUcmFuc2xhdGlvbigtMC41LCAtMSwgMCkpO1xuICAgICAgZnJlY2tsZTIudXBkYXRlTWF0cml4KCk7XG4gICAgICBmcmVja2xlc0dlb21NZXJnZWQubWVyZ2UoZnJlY2tsZTIuZ2VvbWV0cnksIGZyZWNrbGUyLm1hdHJpeCk7XG5cbiAgICAgIHZhciBmcmVja2xlMyA9IGZyZWNrbGUxLmNsb25lKCk7XG4gICAgICBmcmVja2xlMy5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VUcmFuc2xhdGlvbigxLCAtMC41LCAwKSk7XG4gICAgICBmcmVja2xlMy51cGRhdGVNYXRyaXgoKTtcbiAgICAgIGZyZWNrbGVzR2VvbU1lcmdlZC5tZXJnZShmcmVja2xlMy5nZW9tZXRyeSwgZnJlY2tsZTMubWF0cml4KTtcblxuICAgICAgdmFyIGZyZWNrbGU0ID0gZnJlY2tsZTEuY2xvbmUoKTtcbiAgICAgIGZyZWNrbGU0LnBvc2l0aW9uLnggPSAtZnJlY2tsZTEucG9zaXRpb24ueDtcbiAgICAgIGZyZWNrbGU0LnVwZGF0ZU1hdHJpeCgpO1xuICAgICAgZnJlY2tsZXNHZW9tTWVyZ2VkLm1lcmdlKGZyZWNrbGU0Lmdlb21ldHJ5LCBmcmVja2xlNC5tYXRyaXgpO1xuICAgICAgdmFyIGZyZWNrbGU1ID0gZnJlY2tsZTIuY2xvbmUoKTtcbiAgICAgIGZyZWNrbGU1LnBvc2l0aW9uLnggPSAtZnJlY2tsZTIucG9zaXRpb24ueDtcbiAgICAgIGZyZWNrbGU1LnVwZGF0ZU1hdHJpeCgpO1xuICAgICAgZnJlY2tsZXNHZW9tTWVyZ2VkLm1lcmdlKGZyZWNrbGU1Lmdlb21ldHJ5LCBmcmVja2xlNS5tYXRyaXgpO1xuICAgICAgdmFyIGZyZWNrbGU2ID0gZnJlY2tsZTMuY2xvbmUoKTtcbiAgICAgIGZyZWNrbGU2LnBvc2l0aW9uLnggPSAtZnJlY2tsZTMucG9zaXRpb24ueDtcbiAgICAgIGZyZWNrbGU2LnVwZGF0ZU1hdHJpeCgpO1xuICAgICAgZnJlY2tsZXNHZW9tTWVyZ2VkLm1lcmdlKGZyZWNrbGU2Lmdlb21ldHJ5LCBmcmVja2xlNi5tYXRyaXgpO1xuXG4gICAgICB2YXIgZnJlY2tsZWRNZXJnZWQgPSBuZXcgVEhSRUUuTWVzaChmcmVja2xlc0dlb21NZXJnZWQsIGZyZWNrbGVzTWF0KTtcbiAgICAgIGZyZWNrbGVkTWVyZ2VkLmNhc3RTaGFkb3cgPSBmYWxzZTtcbiAgICAgIGZyZWNrbGVkTWVyZ2VkLnJlY2VpdmVTaGFkb3cgPSBmYWxzZTtcblxuICAgICAgdGhpcy5mcmVja2xlcy5hZGQoZnJlY2tsZWRNZXJnZWQpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ0ZlYXR1cmVzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gRmVhdHVyZXMoKSB7XG4gICAgICB2YXIgZWFyR2VvbSA9IG5ldyBUSFJFRS5Cb3hCdWZmZXJHZW9tZXRyeSgxLjUsIDMsIDEuNSk7XG4gICAgICB2YXIgc2tpbk1hdCA9IG5ldyBUSFJFRS5NZXNoTGFtYmVydE1hdGVyaWFsKHsgY29sb3I6IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fb2JqZWN0c19jb2xvcnNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS5za2luLCBmbGF0U2hhZGluZzogdHJ1ZSB9KTtcbiAgICAgIHZhciBlYXJSaWdodCA9IG5ldyBUSFJFRS5NZXNoKGVhckdlb20sIHNraW5NYXQpO1xuICAgICAgZWFyUmlnaHQucG9zaXRpb24uc2V0KC04LjUsIDEsIDMpO1xuICAgICAgZWFyUmlnaHQuY2FzdFNoYWRvdyA9IGZhbHNlO1xuICAgICAgZWFyUmlnaHQucmVjZWl2ZVNoYWRvdyA9IGZhbHNlO1xuXG4gICAgICB2YXIgZWFyTGVmdCA9IG5ldyBUSFJFRS5NZXNoKGVhckdlb20sIHNraW5NYXQpO1xuICAgICAgZWFyTGVmdC5wb3NpdGlvbi5zZXQoOC41LCAxLCAzKTtcbiAgICAgIGVhckxlZnQuY2FzdFNoYWRvdyA9IGZhbHNlO1xuICAgICAgZWFyTGVmdC5yZWNlaXZlU2hhZG93ID0gZmFsc2U7XG5cbiAgICAgIHZhciBub3NlR2VvbSA9IG5ldyBUSFJFRS5DeWxpbmRlckdlb21ldHJ5KDEsIDIsIDQsIDQpO1xuICAgICAgdmFyIG5vc2UgPSBuZXcgVEhSRUUuTWVzaChub3NlR2VvbSwgc2tpbk1hdCk7XG4gICAgICBub3NlLnNjYWxlLnNldCguNzUsIDEsIDEuMyk7XG4gICAgICBub3NlLnBvc2l0aW9uLnNldCgwLCAxLCA4KTtcbiAgICAgIG5vc2UuY2FzdFNoYWRvdyA9IGZhbHNlO1xuICAgICAgbm9zZS5yZWNlaXZlU2hhZG93ID0gZmFsc2U7XG5cbiAgICAgIHRoaXMuaGVhZC5hZGQoZWFyUmlnaHQsIGVhckxlZnQsIG5vc2UpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBIZWFkO1xufSgpO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gKEhlYWQpO1xuXG4vKioqLyB9KSxcbi8qIDQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19jb2xvcnNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBNYXRlcmlhbHMgPSB7XG4gIFwid2hpdGVNYXRcIjogbmV3IFRIUkVFLk1lc2hMYW1iZXJ0TWF0ZXJpYWwoeyBjb2xvcjogX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19jb2xvcnNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS53aGl0ZSwgZmxhdFNoYWRpbmc6IHRydWUgfSksXG4gIFwidGVldGhNYXRcIjogbmV3IFRIUkVFLk1lc2hQaG9uZ01hdGVyaWFsKHsgY29sb3I6IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fY29sb3JzX19bXCJhXCIgLyogZGVmYXVsdCAqL10udGVldGgsIGZsYXRTaGFkaW5nOiB0cnVlIH0pLFxuICBcImJsYWNrTWF0XCI6IG5ldyBUSFJFRS5NZXNoTGFtYmVydE1hdGVyaWFsKHsgY29sb3I6IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fY29sb3JzX19bXCJhXCIgLyogZGVmYXVsdCAqL10uYmxhY2ssIGZsYXRTaGFkaW5nOiB0cnVlIH0pLFxuICBcIm5vcm1hbE1hdFwiOiBuZXcgVEhSRUUuTWVzaE5vcm1hbE1hdGVyaWFsKHt9KVxufTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IChNYXRlcmlhbHMpO1xuXG4vKioqLyB9KSxcbi8qIDUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gdGhlIHdoYXR3Zy1mZXRjaCBwb2x5ZmlsbCBpbnN0YWxscyB0aGUgZmV0Y2goKSBmdW5jdGlvblxuLy8gb24gdGhlIGdsb2JhbCBvYmplY3QgKHdpbmRvdyBvciBzZWxmKVxuLy9cbi8vIFJldHVybiB0aGF0IGFzIHRoZSBleHBvcnQgZm9yIHVzZSBpbiBXZWJwYWNrLCBCcm93c2VyaWZ5IGV0Yy5cbl9fd2VicGFja19yZXF1aXJlX18oNik7XG5tb2R1bGUuZXhwb3J0cyA9IHNlbGYuZmV0Y2guYmluZChzZWxmKTtcblxuXG4vKioqLyB9KSxcbi8qIDYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuKGZ1bmN0aW9uKHNlbGYpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGlmIChzZWxmLmZldGNoKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICB2YXIgc3VwcG9ydCA9IHtcbiAgICBzZWFyY2hQYXJhbXM6ICdVUkxTZWFyY2hQYXJhbXMnIGluIHNlbGYsXG4gICAgaXRlcmFibGU6ICdTeW1ib2wnIGluIHNlbGYgJiYgJ2l0ZXJhdG9yJyBpbiBTeW1ib2wsXG4gICAgYmxvYjogJ0ZpbGVSZWFkZXInIGluIHNlbGYgJiYgJ0Jsb2InIGluIHNlbGYgJiYgKGZ1bmN0aW9uKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgbmV3IEJsb2IoKVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgIH0pKCksXG4gICAgZm9ybURhdGE6ICdGb3JtRGF0YScgaW4gc2VsZixcbiAgICBhcnJheUJ1ZmZlcjogJ0FycmF5QnVmZmVyJyBpbiBzZWxmXG4gIH1cblxuICBpZiAoc3VwcG9ydC5hcnJheUJ1ZmZlcikge1xuICAgIHZhciB2aWV3Q2xhc3NlcyA9IFtcbiAgICAgICdbb2JqZWN0IEludDhBcnJheV0nLFxuICAgICAgJ1tvYmplY3QgVWludDhBcnJheV0nLFxuICAgICAgJ1tvYmplY3QgVWludDhDbGFtcGVkQXJyYXldJyxcbiAgICAgICdbb2JqZWN0IEludDE2QXJyYXldJyxcbiAgICAgICdbb2JqZWN0IFVpbnQxNkFycmF5XScsXG4gICAgICAnW29iamVjdCBJbnQzMkFycmF5XScsXG4gICAgICAnW29iamVjdCBVaW50MzJBcnJheV0nLFxuICAgICAgJ1tvYmplY3QgRmxvYXQzMkFycmF5XScsXG4gICAgICAnW29iamVjdCBGbG9hdDY0QXJyYXldJ1xuICAgIF1cblxuICAgIHZhciBpc0RhdGFWaWV3ID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICByZXR1cm4gb2JqICYmIERhdGFWaWV3LnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKG9iailcbiAgICB9XG5cbiAgICB2YXIgaXNBcnJheUJ1ZmZlclZpZXcgPSBBcnJheUJ1ZmZlci5pc1ZpZXcgfHwgZnVuY3Rpb24ob2JqKSB7XG4gICAgICByZXR1cm4gb2JqICYmIHZpZXdDbGFzc2VzLmluZGV4T2YoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikpID4gLTFcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBub3JtYWxpemVOYW1lKG5hbWUpIHtcbiAgICBpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICBuYW1lID0gU3RyaW5nKG5hbWUpXG4gICAgfVxuICAgIGlmICgvW15hLXowLTlcXC0jJCUmJyorLlxcXl9gfH5dL2kudGVzdChuYW1lKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBjaGFyYWN0ZXIgaW4gaGVhZGVyIGZpZWxkIG5hbWUnKVxuICAgIH1cbiAgICByZXR1cm4gbmFtZS50b0xvd2VyQ2FzZSgpXG4gIH1cblxuICBmdW5jdGlvbiBub3JtYWxpemVWYWx1ZSh2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICB2YWx1ZSA9IFN0cmluZyh2YWx1ZSlcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlXG4gIH1cblxuICAvLyBCdWlsZCBhIGRlc3RydWN0aXZlIGl0ZXJhdG9yIGZvciB0aGUgdmFsdWUgbGlzdFxuICBmdW5jdGlvbiBpdGVyYXRvckZvcihpdGVtcykge1xuICAgIHZhciBpdGVyYXRvciA9IHtcbiAgICAgIG5leHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBpdGVtcy5zaGlmdCgpXG4gICAgICAgIHJldHVybiB7ZG9uZTogdmFsdWUgPT09IHVuZGVmaW5lZCwgdmFsdWU6IHZhbHVlfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzdXBwb3J0Lml0ZXJhYmxlKSB7XG4gICAgICBpdGVyYXRvcltTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBpdGVyYXRvclxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBpdGVyYXRvclxuICB9XG5cbiAgZnVuY3Rpb24gSGVhZGVycyhoZWFkZXJzKSB7XG4gICAgdGhpcy5tYXAgPSB7fVxuXG4gICAgaWYgKGhlYWRlcnMgaW5zdGFuY2VvZiBIZWFkZXJzKSB7XG4gICAgICBoZWFkZXJzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIG5hbWUpIHtcbiAgICAgICAgdGhpcy5hcHBlbmQobmFtZSwgdmFsdWUpXG4gICAgICB9LCB0aGlzKVxuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShoZWFkZXJzKSkge1xuICAgICAgaGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uKGhlYWRlcikge1xuICAgICAgICB0aGlzLmFwcGVuZChoZWFkZXJbMF0sIGhlYWRlclsxXSlcbiAgICAgIH0sIHRoaXMpXG4gICAgfSBlbHNlIGlmIChoZWFkZXJzKSB7XG4gICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhoZWFkZXJzKS5mb3JFYWNoKGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgdGhpcy5hcHBlbmQobmFtZSwgaGVhZGVyc1tuYW1lXSlcbiAgICAgIH0sIHRoaXMpXG4gICAgfVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuYXBwZW5kID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgICBuYW1lID0gbm9ybWFsaXplTmFtZShuYW1lKVxuICAgIHZhbHVlID0gbm9ybWFsaXplVmFsdWUodmFsdWUpXG4gICAgdmFyIG9sZFZhbHVlID0gdGhpcy5tYXBbbmFtZV1cbiAgICB0aGlzLm1hcFtuYW1lXSA9IG9sZFZhbHVlID8gb2xkVmFsdWUrJywnK3ZhbHVlIDogdmFsdWVcbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlWydkZWxldGUnXSA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICBkZWxldGUgdGhpcy5tYXBbbm9ybWFsaXplTmFtZShuYW1lKV1cbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICBuYW1lID0gbm9ybWFsaXplTmFtZShuYW1lKVxuICAgIHJldHVybiB0aGlzLmhhcyhuYW1lKSA/IHRoaXMubWFwW25hbWVdIDogbnVsbFxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24obmFtZSkge1xuICAgIHJldHVybiB0aGlzLm1hcC5oYXNPd25Qcm9wZXJ0eShub3JtYWxpemVOYW1lKG5hbWUpKVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgICB0aGlzLm1hcFtub3JtYWxpemVOYW1lKG5hbWUpXSA9IG5vcm1hbGl6ZVZhbHVlKHZhbHVlKVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uKGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgZm9yICh2YXIgbmFtZSBpbiB0aGlzLm1hcCkge1xuICAgICAgaWYgKHRoaXMubWFwLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgIGNhbGxiYWNrLmNhbGwodGhpc0FyZywgdGhpcy5tYXBbbmFtZV0sIG5hbWUsIHRoaXMpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUua2V5cyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpdGVtcyA9IFtdXG4gICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7IGl0ZW1zLnB1c2gobmFtZSkgfSlcbiAgICByZXR1cm4gaXRlcmF0b3JGb3IoaXRlbXMpXG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS52YWx1ZXMgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaXRlbXMgPSBbXVxuICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSkgeyBpdGVtcy5wdXNoKHZhbHVlKSB9KVxuICAgIHJldHVybiBpdGVyYXRvckZvcihpdGVtcylcbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLmVudHJpZXMgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaXRlbXMgPSBbXVxuICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwgbmFtZSkgeyBpdGVtcy5wdXNoKFtuYW1lLCB2YWx1ZV0pIH0pXG4gICAgcmV0dXJuIGl0ZXJhdG9yRm9yKGl0ZW1zKVxuICB9XG5cbiAgaWYgKHN1cHBvcnQuaXRlcmFibGUpIHtcbiAgICBIZWFkZXJzLnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdID0gSGVhZGVycy5wcm90b3R5cGUuZW50cmllc1xuICB9XG5cbiAgZnVuY3Rpb24gY29uc3VtZWQoYm9keSkge1xuICAgIGlmIChib2R5LmJvZHlVc2VkKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IFR5cGVFcnJvcignQWxyZWFkeSByZWFkJykpXG4gICAgfVxuICAgIGJvZHkuYm9keVVzZWQgPSB0cnVlXG4gIH1cblxuICBmdW5jdGlvbiBmaWxlUmVhZGVyUmVhZHkocmVhZGVyKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXNvbHZlKHJlYWRlci5yZXN1bHQpXG4gICAgICB9XG4gICAgICByZWFkZXIub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZWplY3QocmVhZGVyLmVycm9yKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBmdW5jdGlvbiByZWFkQmxvYkFzQXJyYXlCdWZmZXIoYmxvYikge1xuICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpXG4gICAgdmFyIHByb21pc2UgPSBmaWxlUmVhZGVyUmVhZHkocmVhZGVyKVxuICAgIHJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcihibG9iKVxuICAgIHJldHVybiBwcm9taXNlXG4gIH1cblxuICBmdW5jdGlvbiByZWFkQmxvYkFzVGV4dChibG9iKSB7XG4gICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKClcbiAgICB2YXIgcHJvbWlzZSA9IGZpbGVSZWFkZXJSZWFkeShyZWFkZXIpXG4gICAgcmVhZGVyLnJlYWRBc1RleHQoYmxvYilcbiAgICByZXR1cm4gcHJvbWlzZVxuICB9XG5cbiAgZnVuY3Rpb24gcmVhZEFycmF5QnVmZmVyQXNUZXh0KGJ1Zikge1xuICAgIHZhciB2aWV3ID0gbmV3IFVpbnQ4QXJyYXkoYnVmKVxuICAgIHZhciBjaGFycyA9IG5ldyBBcnJheSh2aWV3Lmxlbmd0aClcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmlldy5sZW5ndGg7IGkrKykge1xuICAgICAgY2hhcnNbaV0gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHZpZXdbaV0pXG4gICAgfVxuICAgIHJldHVybiBjaGFycy5qb2luKCcnKVxuICB9XG5cbiAgZnVuY3Rpb24gYnVmZmVyQ2xvbmUoYnVmKSB7XG4gICAgaWYgKGJ1Zi5zbGljZSkge1xuICAgICAgcmV0dXJuIGJ1Zi5zbGljZSgwKVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgdmlldyA9IG5ldyBVaW50OEFycmF5KGJ1Zi5ieXRlTGVuZ3RoKVxuICAgICAgdmlldy5zZXQobmV3IFVpbnQ4QXJyYXkoYnVmKSlcbiAgICAgIHJldHVybiB2aWV3LmJ1ZmZlclxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIEJvZHkoKSB7XG4gICAgdGhpcy5ib2R5VXNlZCA9IGZhbHNlXG5cbiAgICB0aGlzLl9pbml0Qm9keSA9IGZ1bmN0aW9uKGJvZHkpIHtcbiAgICAgIHRoaXMuX2JvZHlJbml0ID0gYm9keVxuICAgICAgaWYgKCFib2R5KSB7XG4gICAgICAgIHRoaXMuX2JvZHlUZXh0ID0gJydcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGJvZHkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRoaXMuX2JvZHlUZXh0ID0gYm9keVxuICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LmJsb2IgJiYgQmxvYi5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuICAgICAgICB0aGlzLl9ib2R5QmxvYiA9IGJvZHlcbiAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5mb3JtRGF0YSAmJiBGb3JtRGF0YS5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuICAgICAgICB0aGlzLl9ib2R5Rm9ybURhdGEgPSBib2R5XG4gICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuc2VhcmNoUGFyYW1zICYmIFVSTFNlYXJjaFBhcmFtcy5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuICAgICAgICB0aGlzLl9ib2R5VGV4dCA9IGJvZHkudG9TdHJpbmcoKVxuICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LmFycmF5QnVmZmVyICYmIHN1cHBvcnQuYmxvYiAmJiBpc0RhdGFWaWV3KGJvZHkpKSB7XG4gICAgICAgIHRoaXMuX2JvZHlBcnJheUJ1ZmZlciA9IGJ1ZmZlckNsb25lKGJvZHkuYnVmZmVyKVxuICAgICAgICAvLyBJRSAxMC0xMSBjYW4ndCBoYW5kbGUgYSBEYXRhVmlldyBib2R5LlxuICAgICAgICB0aGlzLl9ib2R5SW5pdCA9IG5ldyBCbG9iKFt0aGlzLl9ib2R5QXJyYXlCdWZmZXJdKVxuICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LmFycmF5QnVmZmVyICYmIChBcnJheUJ1ZmZlci5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSB8fCBpc0FycmF5QnVmZmVyVmlldyhib2R5KSkpIHtcbiAgICAgICAgdGhpcy5fYm9keUFycmF5QnVmZmVyID0gYnVmZmVyQ2xvbmUoYm9keSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcigndW5zdXBwb3J0ZWQgQm9keUluaXQgdHlwZScpXG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5oZWFkZXJzLmdldCgnY29udGVudC10eXBlJykpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBib2R5ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIHRoaXMuaGVhZGVycy5zZXQoJ2NvbnRlbnQtdHlwZScsICd0ZXh0L3BsYWluO2NoYXJzZXQ9VVRGLTgnKVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlCbG9iICYmIHRoaXMuX2JvZHlCbG9iLnR5cGUpIHtcbiAgICAgICAgICB0aGlzLmhlYWRlcnMuc2V0KCdjb250ZW50LXR5cGUnLCB0aGlzLl9ib2R5QmxvYi50eXBlKVxuICAgICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuc2VhcmNoUGFyYW1zICYmIFVSTFNlYXJjaFBhcmFtcy5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuICAgICAgICAgIHRoaXMuaGVhZGVycy5zZXQoJ2NvbnRlbnQtdHlwZScsICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD1VVEYtOCcpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc3VwcG9ydC5ibG9iKSB7XG4gICAgICB0aGlzLmJsb2IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHJlamVjdGVkID0gY29uc3VtZWQodGhpcylcbiAgICAgICAgaWYgKHJlamVjdGVkKSB7XG4gICAgICAgICAgcmV0dXJuIHJlamVjdGVkXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fYm9keUJsb2IpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlCbG9iKVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobmV3IEJsb2IoW3RoaXMuX2JvZHlBcnJheUJ1ZmZlcl0pKVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlGb3JtRGF0YSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignY291bGQgbm90IHJlYWQgRm9ybURhdGEgYm9keSBhcyBibG9iJylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5ldyBCbG9iKFt0aGlzLl9ib2R5VGV4dF0pKVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuYXJyYXlCdWZmZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikge1xuICAgICAgICAgIHJldHVybiBjb25zdW1lZCh0aGlzKSB8fCBQcm9taXNlLnJlc29sdmUodGhpcy5fYm9keUFycmF5QnVmZmVyKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB0aGlzLmJsb2IoKS50aGVuKHJlYWRCbG9iQXNBcnJheUJ1ZmZlcilcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMudGV4dCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHJlamVjdGVkID0gY29uc3VtZWQodGhpcylcbiAgICAgIGlmIChyZWplY3RlZCkge1xuICAgICAgICByZXR1cm4gcmVqZWN0ZWRcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuX2JvZHlCbG9iKSB7XG4gICAgICAgIHJldHVybiByZWFkQmxvYkFzVGV4dCh0aGlzLl9ib2R5QmxvYilcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUFycmF5QnVmZmVyKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVhZEFycmF5QnVmZmVyQXNUZXh0KHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikpXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlGb3JtRGF0YSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvdWxkIG5vdCByZWFkIEZvcm1EYXRhIGJvZHkgYXMgdGV4dCcpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlUZXh0KVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzdXBwb3J0LmZvcm1EYXRhKSB7XG4gICAgICB0aGlzLmZvcm1EYXRhID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRleHQoKS50aGVuKGRlY29kZSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmpzb24gPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnRleHQoKS50aGVuKEpTT04ucGFyc2UpXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8vIEhUVFAgbWV0aG9kcyB3aG9zZSBjYXBpdGFsaXphdGlvbiBzaG91bGQgYmUgbm9ybWFsaXplZFxuICB2YXIgbWV0aG9kcyA9IFsnREVMRVRFJywgJ0dFVCcsICdIRUFEJywgJ09QVElPTlMnLCAnUE9TVCcsICdQVVQnXVxuXG4gIGZ1bmN0aW9uIG5vcm1hbGl6ZU1ldGhvZChtZXRob2QpIHtcbiAgICB2YXIgdXBjYXNlZCA9IG1ldGhvZC50b1VwcGVyQ2FzZSgpXG4gICAgcmV0dXJuIChtZXRob2RzLmluZGV4T2YodXBjYXNlZCkgPiAtMSkgPyB1cGNhc2VkIDogbWV0aG9kXG4gIH1cblxuICBmdW5jdGlvbiBSZXF1ZXN0KGlucHV0LCBvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge31cbiAgICB2YXIgYm9keSA9IG9wdGlvbnMuYm9keVxuXG4gICAgaWYgKGlucHV0IGluc3RhbmNlb2YgUmVxdWVzdCkge1xuICAgICAgaWYgKGlucHV0LmJvZHlVc2VkKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FscmVhZHkgcmVhZCcpXG4gICAgICB9XG4gICAgICB0aGlzLnVybCA9IGlucHV0LnVybFxuICAgICAgdGhpcy5jcmVkZW50aWFscyA9IGlucHV0LmNyZWRlbnRpYWxzXG4gICAgICBpZiAoIW9wdGlvbnMuaGVhZGVycykge1xuICAgICAgICB0aGlzLmhlYWRlcnMgPSBuZXcgSGVhZGVycyhpbnB1dC5oZWFkZXJzKVxuICAgICAgfVxuICAgICAgdGhpcy5tZXRob2QgPSBpbnB1dC5tZXRob2RcbiAgICAgIHRoaXMubW9kZSA9IGlucHV0Lm1vZGVcbiAgICAgIGlmICghYm9keSAmJiBpbnB1dC5fYm9keUluaXQgIT0gbnVsbCkge1xuICAgICAgICBib2R5ID0gaW5wdXQuX2JvZHlJbml0XG4gICAgICAgIGlucHV0LmJvZHlVc2VkID0gdHJ1ZVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnVybCA9IFN0cmluZyhpbnB1dClcbiAgICB9XG5cbiAgICB0aGlzLmNyZWRlbnRpYWxzID0gb3B0aW9ucy5jcmVkZW50aWFscyB8fCB0aGlzLmNyZWRlbnRpYWxzIHx8ICdvbWl0J1xuICAgIGlmIChvcHRpb25zLmhlYWRlcnMgfHwgIXRoaXMuaGVhZGVycykge1xuICAgICAgdGhpcy5oZWFkZXJzID0gbmV3IEhlYWRlcnMob3B0aW9ucy5oZWFkZXJzKVxuICAgIH1cbiAgICB0aGlzLm1ldGhvZCA9IG5vcm1hbGl6ZU1ldGhvZChvcHRpb25zLm1ldGhvZCB8fCB0aGlzLm1ldGhvZCB8fCAnR0VUJylcbiAgICB0aGlzLm1vZGUgPSBvcHRpb25zLm1vZGUgfHwgdGhpcy5tb2RlIHx8IG51bGxcbiAgICB0aGlzLnJlZmVycmVyID0gbnVsbFxuXG4gICAgaWYgKCh0aGlzLm1ldGhvZCA9PT0gJ0dFVCcgfHwgdGhpcy5tZXRob2QgPT09ICdIRUFEJykgJiYgYm9keSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQm9keSBub3QgYWxsb3dlZCBmb3IgR0VUIG9yIEhFQUQgcmVxdWVzdHMnKVxuICAgIH1cbiAgICB0aGlzLl9pbml0Qm9keShib2R5KVxuICB9XG5cbiAgUmVxdWVzdC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gbmV3IFJlcXVlc3QodGhpcywgeyBib2R5OiB0aGlzLl9ib2R5SW5pdCB9KVxuICB9XG5cbiAgZnVuY3Rpb24gZGVjb2RlKGJvZHkpIHtcbiAgICB2YXIgZm9ybSA9IG5ldyBGb3JtRGF0YSgpXG4gICAgYm9keS50cmltKCkuc3BsaXQoJyYnKS5mb3JFYWNoKGZ1bmN0aW9uKGJ5dGVzKSB7XG4gICAgICBpZiAoYnl0ZXMpIHtcbiAgICAgICAgdmFyIHNwbGl0ID0gYnl0ZXMuc3BsaXQoJz0nKVxuICAgICAgICB2YXIgbmFtZSA9IHNwbGl0LnNoaWZ0KCkucmVwbGFjZSgvXFwrL2csICcgJylcbiAgICAgICAgdmFyIHZhbHVlID0gc3BsaXQuam9pbignPScpLnJlcGxhY2UoL1xcKy9nLCAnICcpXG4gICAgICAgIGZvcm0uYXBwZW5kKGRlY29kZVVSSUNvbXBvbmVudChuYW1lKSwgZGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlKSlcbiAgICAgIH1cbiAgICB9KVxuICAgIHJldHVybiBmb3JtXG4gIH1cblxuICBmdW5jdGlvbiBwYXJzZUhlYWRlcnMocmF3SGVhZGVycykge1xuICAgIHZhciBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKVxuICAgIHJhd0hlYWRlcnMuc3BsaXQoL1xccj9cXG4vKS5mb3JFYWNoKGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgIHZhciBwYXJ0cyA9IGxpbmUuc3BsaXQoJzonKVxuICAgICAgdmFyIGtleSA9IHBhcnRzLnNoaWZ0KCkudHJpbSgpXG4gICAgICBpZiAoa2V5KSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IHBhcnRzLmpvaW4oJzonKS50cmltKClcbiAgICAgICAgaGVhZGVycy5hcHBlbmQoa2V5LCB2YWx1ZSlcbiAgICAgIH1cbiAgICB9KVxuICAgIHJldHVybiBoZWFkZXJzXG4gIH1cblxuICBCb2R5LmNhbGwoUmVxdWVzdC5wcm90b3R5cGUpXG5cbiAgZnVuY3Rpb24gUmVzcG9uc2UoYm9keUluaXQsIG9wdGlvbnMpIHtcbiAgICBpZiAoIW9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgPSB7fVxuICAgIH1cblxuICAgIHRoaXMudHlwZSA9ICdkZWZhdWx0J1xuICAgIHRoaXMuc3RhdHVzID0gJ3N0YXR1cycgaW4gb3B0aW9ucyA/IG9wdGlvbnMuc3RhdHVzIDogMjAwXG4gICAgdGhpcy5vayA9IHRoaXMuc3RhdHVzID49IDIwMCAmJiB0aGlzLnN0YXR1cyA8IDMwMFxuICAgIHRoaXMuc3RhdHVzVGV4dCA9ICdzdGF0dXNUZXh0JyBpbiBvcHRpb25zID8gb3B0aW9ucy5zdGF0dXNUZXh0IDogJ09LJ1xuICAgIHRoaXMuaGVhZGVycyA9IG5ldyBIZWFkZXJzKG9wdGlvbnMuaGVhZGVycylcbiAgICB0aGlzLnVybCA9IG9wdGlvbnMudXJsIHx8ICcnXG4gICAgdGhpcy5faW5pdEJvZHkoYm9keUluaXQpXG4gIH1cblxuICBCb2R5LmNhbGwoUmVzcG9uc2UucHJvdG90eXBlKVxuXG4gIFJlc3BvbnNlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBuZXcgUmVzcG9uc2UodGhpcy5fYm9keUluaXQsIHtcbiAgICAgIHN0YXR1czogdGhpcy5zdGF0dXMsXG4gICAgICBzdGF0dXNUZXh0OiB0aGlzLnN0YXR1c1RleHQsXG4gICAgICBoZWFkZXJzOiBuZXcgSGVhZGVycyh0aGlzLmhlYWRlcnMpLFxuICAgICAgdXJsOiB0aGlzLnVybFxuICAgIH0pXG4gIH1cblxuICBSZXNwb25zZS5lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciByZXNwb25zZSA9IG5ldyBSZXNwb25zZShudWxsLCB7c3RhdHVzOiAwLCBzdGF0dXNUZXh0OiAnJ30pXG4gICAgcmVzcG9uc2UudHlwZSA9ICdlcnJvcidcbiAgICByZXR1cm4gcmVzcG9uc2VcbiAgfVxuXG4gIHZhciByZWRpcmVjdFN0YXR1c2VzID0gWzMwMSwgMzAyLCAzMDMsIDMwNywgMzA4XVxuXG4gIFJlc3BvbnNlLnJlZGlyZWN0ID0gZnVuY3Rpb24odXJsLCBzdGF0dXMpIHtcbiAgICBpZiAocmVkaXJlY3RTdGF0dXNlcy5pbmRleE9mKHN0YXR1cykgPT09IC0xKSB7XG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW52YWxpZCBzdGF0dXMgY29kZScpXG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZShudWxsLCB7c3RhdHVzOiBzdGF0dXMsIGhlYWRlcnM6IHtsb2NhdGlvbjogdXJsfX0pXG4gIH1cblxuICBzZWxmLkhlYWRlcnMgPSBIZWFkZXJzXG4gIHNlbGYuUmVxdWVzdCA9IFJlcXVlc3RcbiAgc2VsZi5SZXNwb25zZSA9IFJlc3BvbnNlXG5cbiAgc2VsZi5mZXRjaCA9IGZ1bmN0aW9uKGlucHV0LCBpbml0KSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdmFyIHJlcXVlc3QgPSBuZXcgUmVxdWVzdChpbnB1dCwgaW5pdClcbiAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKVxuXG4gICAgICB4aHIub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICAgIHN0YXR1czogeGhyLnN0YXR1cyxcbiAgICAgICAgICBzdGF0dXNUZXh0OiB4aHIuc3RhdHVzVGV4dCxcbiAgICAgICAgICBoZWFkZXJzOiBwYXJzZUhlYWRlcnMoeGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpIHx8ICcnKVxuICAgICAgICB9XG4gICAgICAgIG9wdGlvbnMudXJsID0gJ3Jlc3BvbnNlVVJMJyBpbiB4aHIgPyB4aHIucmVzcG9uc2VVUkwgOiBvcHRpb25zLmhlYWRlcnMuZ2V0KCdYLVJlcXVlc3QtVVJMJylcbiAgICAgICAgdmFyIGJvZHkgPSAncmVzcG9uc2UnIGluIHhociA/IHhoci5yZXNwb25zZSA6IHhoci5yZXNwb25zZVRleHRcbiAgICAgICAgcmVzb2x2ZShuZXcgUmVzcG9uc2UoYm9keSwgb3B0aW9ucykpXG4gICAgICB9XG5cbiAgICAgIHhoci5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJlamVjdChuZXcgVHlwZUVycm9yKCdOZXR3b3JrIHJlcXVlc3QgZmFpbGVkJykpXG4gICAgICB9XG5cbiAgICAgIHhoci5vbnRpbWVvdXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmVqZWN0KG5ldyBUeXBlRXJyb3IoJ05ldHdvcmsgcmVxdWVzdCBmYWlsZWQnKSlcbiAgICAgIH1cblxuICAgICAgeGhyLm9wZW4ocmVxdWVzdC5tZXRob2QsIHJlcXVlc3QudXJsLCB0cnVlKVxuXG4gICAgICBpZiAocmVxdWVzdC5jcmVkZW50aWFscyA9PT0gJ2luY2x1ZGUnKSB7XG4gICAgICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSB0cnVlXG4gICAgICB9XG5cbiAgICAgIGlmICgncmVzcG9uc2VUeXBlJyBpbiB4aHIgJiYgc3VwcG9ydC5ibG9iKSB7XG4gICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSAnYmxvYidcbiAgICAgIH1cblxuICAgICAgcmVxdWVzdC5oZWFkZXJzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIG5hbWUpIHtcbiAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIobmFtZSwgdmFsdWUpXG4gICAgICB9KVxuXG4gICAgICB4aHIuc2VuZCh0eXBlb2YgcmVxdWVzdC5fYm9keUluaXQgPT09ICd1bmRlZmluZWQnID8gbnVsbCA6IHJlcXVlc3QuX2JvZHlJbml0KVxuICAgIH0pXG4gIH1cbiAgc2VsZi5mZXRjaC5wb2x5ZmlsbCA9IHRydWVcbn0pKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyA/IHNlbGYgOiB0aGlzKTtcblxuXG4vKioqLyB9KSxcbi8qIDcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIHJhbmRvbUJ5dGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0KTtcblxuZnVuY3Rpb24gZW5jb2RlKGxvb2t1cCwgbnVtYmVyKSB7XG4gICAgdmFyIGxvb3BDb3VudGVyID0gMDtcbiAgICB2YXIgZG9uZTtcblxuICAgIHZhciBzdHIgPSAnJztcblxuICAgIHdoaWxlICghZG9uZSkge1xuICAgICAgICBzdHIgPSBzdHIgKyBsb29rdXAoICggKG51bWJlciA+PiAoNCAqIGxvb3BDb3VudGVyKSkgJiAweDBmICkgfCByYW5kb21CeXRlKCkgKTtcbiAgICAgICAgZG9uZSA9IG51bWJlciA8IChNYXRoLnBvdygxNiwgbG9vcENvdW50ZXIgKyAxICkgKTtcbiAgICAgICAgbG9vcENvdW50ZXIrKztcbiAgICB9XG4gICAgcmV0dXJuIHN0cjtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBlbmNvZGU7XG5cblxuLyoqKi8gfSksXG4vKiA4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KF9fd2VicGFja19leHBvcnRzX18sIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fY2xhc3Nlc19IZWFkX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fb2JqZWN0c19jb2xvcnNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19jbGFzc2VzX0F1ZGlvX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fbGliX2NhcnRBUElfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5cblxuXG5cblxue1xuICB2YXIgc2NlbmUgPSB2b2lkIDAsXG4gICAgICBjYW1lcmEgPSB2b2lkIDAsXG4gICAgICBmaWVsZE9mVmlldyA9IHZvaWQgMCxcbiAgICAgIGFzcGVjdFJhdGlvID0gdm9pZCAwLFxuICAgICAgbmVhclBsYW5lID0gdm9pZCAwLFxuICAgICAgZmFyUGxhbmUgPSB2b2lkIDAsXG4gICAgICBIRUlHSFQgPSB2b2lkIDAsXG4gICAgICBXSURUSCA9IHZvaWQgMDtcbiAgdmFyIGdsb2JhbExpZ2h0ID0gdm9pZCAwLFxuICAgICAgc2hhZG93TGlnaHQgPSB2b2lkIDAsXG4gICAgICBiYWNrTGlnaHQgPSB2b2lkIDAsXG4gICAgICBsaWdodCA9IHZvaWQgMCxcbiAgICAgIHJlbmRlcmVyID0gdm9pZCAwLFxuICAgICAgY29udGFpbmVyID0gdm9pZCAwLFxuICAgICAgbG9hZGVkID0gdm9pZCAwO1xuICB2YXIgaGVhZCA9IHZvaWQgMCxcbiAgICAgIHdpbmRvd0hhbGZYID0gdm9pZCAwLFxuICAgICAgd2luZG93SGFsZlkgPSB2b2lkIDAsXG4gICAgICBjb2xvciA9IHZvaWQgMCxcbiAgICAgIGF1ZGlvID0gdm9pZCAwLFxuICAgICAgU3BlZWNoVGV4dCA9IHZvaWQgMDtcblxuICAvLyB2YXJzIGZvciBkYXQuZ3VpXG4gIHZhciBjb250cm9sbGVyID0gdm9pZCAwLFxuICAgICAgZ3VpID0gdm9pZCAwO1xuICB2YXIgc2F2ZUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzYXZlJyk7XG5cbiAgdmFyIG1vdXNlUG9zID0geyB4OiAwLCB5OiAwIH07XG5cbiAgdmFyIHN0YXJBcnJheSA9IFtdO1xuICB2YXIgaXNNb2JpbGUgPSAvaVBob25lfEFuZHJvaWQvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuICB2YXIgbG9hZGVyTWFuYWdlciA9IG5ldyBUSFJFRS5Mb2FkaW5nTWFuYWdlcigpO1xuICB2YXIgc2F2ZWQgPSBmYWxzZTtcblxuICB2YXIgaW5pdCA9IGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgLy8gY3JlYXRlIHNub3dcbiAgICBwYXJ0aWNsZXNKUy5sb2FkKCdwYXJ0aWNsZXMtanMnLCAnLi4vYXNzZXRzL3BhcnRpY2xlcy5qc29uJywgZnVuY3Rpb24gKCkge1xuICAgICAgY29uc29sZS5sb2coJ2NhbGxiYWNrIC0gcGFydGljbGVzLmpzIGNvbmZpZyBsb2FkZWQnKTtcbiAgICB9KTtcblxuICAgIGNyZWF0ZVNjZW5lKCk7XG4gICAgY3JlYXRlTGlnaHRzKCk7XG5cbiAgICBhdWRpbyA9IG5ldyBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX2NsYXNzZXNfQXVkaW9fanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSgpOyAvLyBoYW5kbGUgYXVkaW8gYW5kIHNwZWVjaHJlY29nbml0aW9uXG4gICAgaGVhZCA9IG5ldyBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2NsYXNzZXNfSGVhZF9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKCk7IC8vIHNob3cgYW5kIGhhbmRsZSBoZWFkXG4gICAgc2NlbmUuYWRkKGhlYWQubWVzaCk7XG4gICAgLy9zY2VuZS5hZGQoc3RhcnMubWVzaCk7XG4gICAgY29uc29sZS5sb2coYXVkaW8uaWQpO1xuICAgIC8vIHNlbmQgb2JqZWN0cyB0byBzYXZlIG9uIGNsaWNrXG4gICAgc2F2ZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBmcm9tID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25hbWVfaW5wdXQnKTtcbiAgICAgIHZhciB0byA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZWNpcGllbnRfaW5wdXQnKTtcbiAgICAgIHZhciBsaW5rID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnVuaXF1ZV9saW5rJyk7XG5cbiAgICAgIHZhciBhdWRpb1NldHRpbmdzID0ge1xuICAgICAgICBwaXRjaDogYXVkaW8ucGl0Y2hSYXRpbyxcbiAgICAgICAgb3ZlcmxhcDogYXVkaW8ub3ZlcmxhcFxuICAgICAgfTtcblxuICAgICAgdmFyIGhlYWRDb2xvcnMgPSB7XG4gICAgICAgIHNraW46IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fb2JqZWN0c19jb2xvcnNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS5za2luLFxuICAgICAgICBmcmVja2xlczogX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19vYmplY3RzX2NvbG9yc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLmZyZWNrbGVzLFxuICAgICAgICBleWU6IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fb2JqZWN0c19jb2xvcnNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS5leWUsXG4gICAgICAgIGdsYXNzZXM6IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fb2JqZWN0c19jb2xvcnNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS5nbGFzc2VzLFxuICAgICAgICBoYXQ6IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fb2JqZWN0c19jb2xvcnNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS5oYXRcbiAgICAgIH07XG5cbiAgICAgIGlmICghc2F2ZWQpIHtcbiAgICAgICAgc2F2ZWQgPSB0cnVlO1xuICAgICAgICBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX2xpYl9jYXJ0QVBJX19bXCJhXCIgLyogZGVmYXVsdCAqL10uY3JlYXRlKHtcbiAgICAgICAgICB0ZXh0OiBhdWRpby50ZXh0LFxuICAgICAgICAgIGlkOiBhdWRpby5pZCxcbiAgICAgICAgICBmcm9tOiBmcm9tLnZhbHVlIHx8ICdIdW1hbicsXG4gICAgICAgICAgdG86IHRvLnZhbHVlIHx8ICdGZWxsb3cgSHVtYW4nLFxuICAgICAgICAgIGF1ZGlvU2V0dGluZ3M6IEpTT04uc3RyaW5naWZ5KGF1ZGlvU2V0dGluZ3MpLFxuICAgICAgICAgIGhlYWRDb2xvcnM6IEpTT04uc3RyaW5naWZ5KGhlYWRDb2xvcnMpXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19saWJfY2FydEFQSV9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLnVwZGF0ZSh7XG4gICAgICAgICAgdGV4dDogYXVkaW8udGV4dCxcbiAgICAgICAgICBpZDogYXVkaW8uaWQsXG4gICAgICAgICAgZnJvbTogZnJvbS52YWx1ZSB8fCAnSHVtYW4nLFxuICAgICAgICAgIHRvOiB0by52YWx1ZSB8fCAnRmVsbG93IEh1bWFuJyxcbiAgICAgICAgICBhdWRpb1NldHRpbmdzOiBKU09OLnN0cmluZ2lmeShhdWRpb1NldHRpbmdzKSxcbiAgICAgICAgICBoZWFkQ29sb3JzOiBKU09OLnN0cmluZ2lmeShoZWFkQ29sb3JzKVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgbGluay5pbm5lckhUTUwgPSAnaHR0cHM6Ly9sb2NhbGhvc3Q6ODA4MC9zYW50YS5odG1sP2lkPScgKyBhdWRpby5pZDtcbiAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCdocmVmJywgJ2h0dHBzOi8vbG9jYWxob3N0OjgwODAvc2FudGEuaHRtbD9pZD0nICsgYXVkaW8uaWQpO1xuICAgICAgbGluay5zZXRBdHRyaWJ1dGUoJ3RhcmdldCcsICdfYmxhbmsnKTtcbiAgICB9KTtcblxuICAgIGd1aSA9IG5ldyBkYXQuR1VJKCk7XG4gICAgZ3VpLmRvbUVsZW1lbnQuaWQgPSAnZ3VpJztcbiAgICBndWkuY2xvc2VkID0gdHJ1ZTtcbiAgICBjb250cm9sbGVyID0gbmV3IGNvbnRyb2xsZXJUZXh0KCk7XG4gICAgZ3VpQ29udHJvbGxlcihbJ3NraW4nLCAnZnJlY2tsZXMnLCAnZXllJywgJ2dsYXNzZXMnLCAnaGF0J10pOyAvLyBhZGQgZ3VpIGZvciBhcnJheSBvYmplY3QgYW5kIHNldCBjb2xvcnMgb24gY29sb3IgY2hhbmdlXG5cbiAgICB3aW5kb3cuc2NlbmUgPSBzY2VuZTsgLy8gc2V0IHNjZW5lIGZvciBleHRlbnNpb25cblxuICAgIGxvb3AoKTtcbiAgfTtcblxuICB2YXIgZ3VpQ29udHJvbGxlciA9IGZ1bmN0aW9uIGd1aUNvbnRyb2xsZXIoa2V5cykge1xuICAgIGtleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICBndWkuYWRkQ29sb3IoY29udHJvbGxlciwga2V5KS5vbkNoYW5nZShmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgLy8gc2V0IHJpZ2h0IGNvbG9yIGZvciBtYXRlcmlhbFxuICAgICAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgICAgIGNhc2UgJ3NraW4nOlxuICAgICAgICAgICAgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19vYmplY3RzX2NvbG9yc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLnNraW4gPSBjb250cm9sbGVyLnNraW47XG4gICAgICAgICAgY2FzZSAnZnJlY2tsZXMnOlxuICAgICAgICAgICAgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19vYmplY3RzX2NvbG9yc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLmZyZWNrbGVzID0gY29udHJvbGxlci5mcmVja2xlcztcbiAgICAgICAgICBjYXNlICdleWUnOlxuICAgICAgICAgICAgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19vYmplY3RzX2NvbG9yc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLmV5ZSA9IGNvbnRyb2xsZXIuZXllO1xuICAgICAgICAgIGNhc2UgJ2dsYXNzZXMnOlxuICAgICAgICAgICAgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19vYmplY3RzX2NvbG9yc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLmdsYXNzZXMgPSBjb250cm9sbGVyLmdsYXNzZXM7XG4gICAgICAgICAgY2FzZSAnaGF0JzpcbiAgICAgICAgICAgIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fb2JqZWN0c19jb2xvcnNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS5oYXQgPSBjb250cm9sbGVyLmhhdDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vcmVtb3ZlIGN1cnJlbnQgaGVhZCBhbmQgbWFrZSBhIG5ldyBvbmUgdG8gc2V0IGN1cnJlbnQgY29sb3JcbiAgICAgICAgc2NlbmUucmVtb3ZlKGhlYWQubWVzaCk7XG4gICAgICAgIGNyZWF0ZUhlYWQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIHZhciBkZWMyaGV4ID0gZnVuY3Rpb24gZGVjMmhleChpKSB7XG4gICAgdmFyIHJlc3VsdCA9IFwiMHgwMDAwMDBcIjtcbiAgICBpZiAoaSA+PSAwICYmIGkgPD0gMTUpIHtcbiAgICAgIHJlc3VsdCA9IFwiMHgwMDAwMFwiICsgaS50b1N0cmluZygxNik7XG4gICAgfSBlbHNlIGlmIChpID49IDE2ICYmIGkgPD0gMjU1KSB7XG4gICAgICByZXN1bHQgPSBcIjB4MDAwMFwiICsgaS50b1N0cmluZygxNik7XG4gICAgfSBlbHNlIGlmIChpID49IDI1NiAmJiBpIDw9IDQwOTUpIHtcbiAgICAgIHJlc3VsdCA9IFwiMHgwMDBcIiArIGkudG9TdHJpbmcoMTYpO1xuICAgIH0gZWxzZSBpZiAoaSA+PSA0MDk2ICYmIGkgPD0gNjU1MzUpIHtcbiAgICAgIHJlc3VsdCA9IFwiMHgwMFwiICsgaS50b1N0cmluZygxNik7XG4gICAgfSBlbHNlIGlmIChpID49IDY1NTM1ICYmIGkgPD0gMTA0ODU3NSkge1xuICAgICAgcmVzdWx0ID0gXCIweDBcIiArIGkudG9TdHJpbmcoMTYpO1xuICAgIH0gZWxzZSBpZiAoaSA+PSAxMDQ4NTc1KSB7XG4gICAgICByZXN1bHQgPSAnMHgnICsgaS50b1N0cmluZygxNik7XG4gICAgfVxuICAgIGlmIChyZXN1bHQubGVuZ3RoID09IDgpIHtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICB9O1xuXG4gIHZhciBjcmVhdGVTY2VuZSA9IGZ1bmN0aW9uIGNyZWF0ZVNjZW5lKCkge1xuICAgIDtcbiAgICBIRUlHSFQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgV0lEVEggPSB3aW5kb3cuaW5uZXJXaWR0aCAvIDEuNjc7XG4gICAgd2luZG93SGFsZlggPSBXSURUSCAvIDI7XG4gICAgd2luZG93SGFsZlkgPSBIRUlHSFQgLyAyO1xuXG4gICAgc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTtcbiAgICBhc3BlY3RSYXRpbyA9IFdJRFRIIC8gSEVJR0hUO1xuICAgIGZpZWxkT2ZWaWV3ID0gNTA7XG4gICAgbmVhclBsYW5lID0gMTtcbiAgICBmYXJQbGFuZSA9IDIwMDA7XG5cbiAgICBjYW1lcmEgPSBuZXcgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEoZmllbGRPZlZpZXcsIGFzcGVjdFJhdGlvLCBuZWFyUGxhbmUsIGZhclBsYW5lKTtcbiAgICBjYW1lcmEucG9zaXRpb24ueCA9IDA7XG4gICAgY2FtZXJhLnBvc2l0aW9uLnogPSA3MDtcbiAgICBjYW1lcmEucG9zaXRpb24ueSA9IC01O1xuXG4gICAgcmVuZGVyZXIgPSBuZXcgVEhSRUUuV2ViR0xSZW5kZXJlcih7IGFscGhhOiB0cnVlLCBhbnRpYWxpYXM6IHRydWUgfSk7XG4gICAgcmVuZGVyZXIuc2V0UGl4ZWxSYXRpbyh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyA/IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIDogMSk7XG4gICAgcmVuZGVyZXIuc2V0U2l6ZShXSURUSCwgSEVJR0hUKTtcbiAgICByZW5kZXJlci5zaGFkb3dNYXAuZW5hYmxlZCA9IHRydWU7XG4gICAgcmVuZGVyZXIuc2hhZG93TWFwLnR5cGUgPSBUSFJFRS5QQ0ZTb2Z0U2hhZG93TWFwO1xuXG4gICAgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRhaW5lcicpO1xuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChyZW5kZXJlci5kb21FbGVtZW50KTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgb25XaW5kb3dSZXNpemUsIGZhbHNlKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBoYW5kbGVNb3VzZU1vdmUsIGZhbHNlKTtcbiAgfTtcblxuICB2YXIgb25XaW5kb3dSZXNpemUgPSBmdW5jdGlvbiBvbldpbmRvd1Jlc2l6ZSgpIHtcbiAgICBIRUlHSFQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgV0lEVEggPSB3aW5kb3cuaW5uZXJXaWR0aCAvIDEuNjc7XG4gICAgd2luZG93SGFsZlggPSBXSURUSCAvIDI7XG4gICAgd2luZG93SGFsZlkgPSBIRUlHSFQgLyAyO1xuICAgIHJlbmRlcmVyLnNldFNpemUoV0lEVEgsIEhFSUdIVCk7XG4gICAgY2FtZXJhLmFzcGVjdCA9IFdJRFRIIC8gSEVJR0hUO1xuICAgIGNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gIH07XG5cbiAgdmFyIGhhbmRsZU1vdXNlTW92ZSA9IGZ1bmN0aW9uIGhhbmRsZU1vdXNlTW92ZShlKSB7XG4gICAgbW91c2VQb3MgPSB7XG4gICAgICB4OiBldmVudC5jbGllbnRYLFxuICAgICAgeTogZXZlbnQuY2xpZW50WVxuICAgIH07XG4gIH07XG5cbiAgdmFyIGhhbmRsZVdpbmRvd1Jlc2l6ZSA9IGZ1bmN0aW9uIGhhbmRsZVdpbmRvd1Jlc2l6ZShlKSB7XG4gICAgSEVJR0hUID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgIFdJRFRIID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgcmVuZGVyZXIuc2V0U2l6ZShXSURUSCwgSEVJR0hUKTtcbiAgICBjYW1lcmEuYXNwZWN0ID0gV0lEVEggLyBIRUlHSFQ7XG4gICAgY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcbiAgfTtcblxuICB2YXIgY3JlYXRlTGlnaHRzID0gZnVuY3Rpb24gY3JlYXRlTGlnaHRzKCkge1xuICAgIGdsb2JhbExpZ2h0ID0gbmV3IFRIUkVFLkhlbWlzcGhlcmVMaWdodCgweGZmZmZmZiwgMHg1NTU1NTUsIC45KTtcblxuICAgIHNoYWRvd0xpZ2h0ID0gbmV3IFRIUkVFLkRpcmVjdGlvbmFsTGlnaHQoMHhmZmZmZmYsIC4zKTtcbiAgICBzaGFkb3dMaWdodC5wb3NpdGlvbi5zZXQoMTAwLCAyNTAsIDE3NSk7XG4gICAgc2hhZG93TGlnaHQuY2FzdFNoYWRvdyA9IHRydWU7XG5cbiAgICBiYWNrTGlnaHQgPSBuZXcgVEhSRUUuRGlyZWN0aW9uYWxMaWdodCgweGZmZmZmZiwgLjIpO1xuICAgIGJhY2tMaWdodC5wb3NpdGlvbi5zZXQoLTEwMCwgMjAwLCAxNTApO1xuICAgIGJhY2tMaWdodC5jYXN0U2hhZG93ID0gdHJ1ZTtcblxuICAgIGlmIChpc01vYmlsZSkgc2hhZG93TGlnaHQuc2hhZG93Lm1hcFNpemUud2lkdGggPSBzaGFkb3dMaWdodC5zaGFkb3cubWFwU2l6ZS5oZWlnaHQgPSAxMDI0O1xuICAgIGlmICghaXNNb2JpbGUpIHNoYWRvd0xpZ2h0LnNoYWRvdy5tYXBTaXplLndpZHRoID0gc2hhZG93TGlnaHQuc2hhZG93Lm1hcFNpemUuaGVpZ2h0ID0gMjA0ODtcblxuICAgIHNjZW5lLmFkZChnbG9iYWxMaWdodCk7XG4gICAgc2NlbmUuYWRkKHNoYWRvd0xpZ2h0KTtcbiAgICBzY2VuZS5hZGQoYmFja0xpZ2h0KTtcbiAgICBzY2VuZS5hZGQobmV3IFRIUkVFLkFtYmllbnRMaWdodCgweGVhZGVhZCwgMC4xKSk7XG4gIH07XG5cbiAgLy8gY29uc3QgY3JlYXRlSGVhZCA9ICgpID0+IHtcbiAgLy8gICBoZWFkLm5hbWUgPSBcIkhlYWRcIjtcbiAgLy8gICBoZWFkID0gbmV3IEhlYWQoKTtcbiAgLy8gICBjb25zb2xlLmxvZyhcImNyZWF0ZUhlYWRcIik7XG4gIC8vICAgaGVhZC5pZGxlKCk7XG4gIC8vICAgLy9oZWFkLmRpenp5KCk7XG4gIC8vICAgc2NlbmUuYWRkKGhlYWQubWVzaCk7XG4gIC8vXG4gIC8vICAgc3RhcnMgPSBuZXcgU3RhcnNHcm91cCgpO1xuICAvLyAgIHNjZW5lLmFkZChzdGFycy5tZXNoKTtcbiAgLy8gfVxuXG4gIC8vIGNvbnN0IGNyZWF0ZUNoYXJhY3RlciA9ICgpID0+IHtcbiAgLy8gICBjb25zb2xlLmxvZyhcIkNSRUFURSBDSEFSQUNURVJcIik7XG4gIC8vICAgY3JlYXRlSGVhZCgpO1xuICAvLyAgIGhlYWQubWVzaC5wb3NpdGlvbi5zZXQoMCwgMiwgMCk7XG4gIC8vICAgc3RhcnMubWVzaC5wb3NpdGlvbi5zZXQoMCwgMTAsIDApO1xuICAvLyB9XG5cbiAgdmFyIGlzQmxpbmtpbmcgPSBmYWxzZTtcbiAgdmFyIGJsaW5rTG9vcCA9IGZ1bmN0aW9uIGJsaW5rTG9vcCgpIHtcbiAgICBpc0JsaW5raW5nID0gZmFsc2U7XG5cbiAgICBpZiAoIWlzQmxpbmtpbmcgJiYgTWF0aC5yYW5kb20oKSA+IDAuOTkpIHtcbiAgICAgIGlzQmxpbmtpbmcgPSB0cnVlO1xuICAgICAgYmxpbmsoKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGJsaW5rID0gZnVuY3Rpb24gYmxpbmsoKSB7XG4gICAgaGVhZC5leWVzLnNjYWxlLnkgPSAxO1xuICAgIFR3ZWVuTWF4LnRvKGhlYWQuZXllcy5zY2FsZSwgLjA3LCB7XG4gICAgICB5OiAwLFxuICAgICAgeW95bzogdHJ1ZSxcbiAgICAgIHJlcGVhdDogMSxcbiAgICAgIG9uQ29tcGxldGU6IGZ1bmN0aW9uIG9uQ29tcGxldGUoKSB7XG4gICAgICAgIGlzQmxpbmtpbmcgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICB2YXIgY29udHJvbGxlclRleHQgPSBmdW5jdGlvbiBjb250cm9sbGVyVGV4dCgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgY29udHJvbGxlclRleHQpO1xuXG4gICAgdGhpcy5za2luID0gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19vYmplY3RzX2NvbG9yc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLnNraW47XG4gICAgdGhpcy5mcmVja2xlcyA9IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fb2JqZWN0c19jb2xvcnNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS5mcmVja2xlcztcbiAgICB0aGlzLmV5ZSA9IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fb2JqZWN0c19jb2xvcnNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS5leWU7XG4gICAgdGhpcy5nbGFzc2VzID0gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19vYmplY3RzX2NvbG9yc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLmdsYXNzZXM7XG4gICAgdGhpcy5oYXQgPSBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX29iamVjdHNfY29sb3JzX19bXCJhXCIgLyogZGVmYXVsdCAqL10uaGF0O1xuICB9O1xuXG4gIHZhciBsb29wID0gZnVuY3Rpb24gbG9vcCgpIHtcbiAgICBibGlua0xvb3AoKTtcbiAgICAvL2hlYWQuZGl6enkoKTtcbiAgICBoZWFkLmlkbGUoeFRhcmdldCwgeVRhcmdldCk7XG5cbiAgICB2YXIgeFRhcmdldCA9IG1vdXNlUG9zLnggLSB3aW5kb3dIYWxmWDtcbiAgICB2YXIgeVRhcmdldCA9IG1vdXNlUG9zLnkgLSB3aW5kb3dIYWxmWTtcblxuICAgIHJlbmRlcmVyLnJlbmRlcihzY2VuZSwgY2FtZXJhKTtcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUobG9vcCk7XG4gIH07XG5cbiAgLy93aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGluaXQsIGZhbHNlKTtcblxuICBpbml0KCk7XG59XG5cbi8qKiovIH0pLFxuLyogOSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2xpYl9zb3VuZEFQSV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX3Nob3J0aWRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9zaG9ydGlkX19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfc2hvcnRpZF9fKTtcbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cblxuXG5cbnZhciBTcGVlY2hSZWNvZ25pdGlvbiA9IFNwZWVjaFJlY29nbml0aW9uIHx8IHdlYmtpdFNwZWVjaFJlY29nbml0aW9uO1xudmFyIFNwZWVjaEdyYW1tYXJMaXN0ID0gU3BlZWNoR3JhbW1hckxpc3QgfHwgd2Via2l0U3BlZWNoR3JhbW1hckxpc3Q7XG52YXIgU3BlZWNoUmVjb2duaXRpb25FdmVudCA9IFNwZWVjaFJlY29nbml0aW9uRXZlbnQgfHwgd2Via2l0U3BlZWNoUmVjb2duaXRpb25FdmVudDtcbnZhciBBdWRpb0NvbnRleHQgPSB3aW5kb3cuQXVkaW9Db250ZXh0IHx8IHdpbmRvdy53ZWJraXRBdWRpb0NvbnRleHQ7XG5cbnZhciBhdWRpb0N0eCA9IHZvaWQgMCxcbiAgICByZWNvZ25pdGlvbiA9IHZvaWQgMDtcbnZhciB0cmFuc2NyaXB0ID0gXCJcIjtcbnZhciBhdWRpb0NodW5rcyA9IFtdO1xudmFyIHNvdXJjZSA9IHZvaWQgMDtcblxudmFyICR0ZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpZWxkJyk7XG52YXIgJHJlY29yZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZWNvcmQnKTtcbnZhciAkYXVkaW8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXVkaW9fY29udHJvbHMnKTtcbnZhciAkc3RvcCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdG9wJyk7XG5cbnZhciBhdWRpb1NvdXJjZXMgPSBbXSxcbiAgICBwaXRjaFNoaWZ0ZXJQcm9jZXNzb3IgPSB2b2lkIDA7XG5cbnZhciBncmFpblNpemUgPSA1MTIsXG4gICAgcGl0Y2hSYXRpbyA9IDEuMCxcbiAgICBvdmVybGFwUmF0aW8gPSAwLjUwO1xuXG52YXIgQXVkaW8gPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEF1ZGlvKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQXVkaW8pO1xuXG4gICAgdGhpcy5pZCA9IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9zaG9ydGlkX19fZGVmYXVsdC5hLmdlbmVyYXRlKCk7XG4gICAgdGhpcy5waXRjaFJhdGlvID0gMS4wO1xuICAgIHRoaXMub3ZlcmxhcCA9IDAuNTA7XG4gICAgYXVkaW9DdHggPSBuZXcgQXVkaW9Db250ZXh0KCk7XG5cbiAgICAvLyBoYW5kbGUgU3BlZWNoUmVjb2duaXRpb25cbiAgICByZWNvZ25pdGlvbiA9IG5ldyBTcGVlY2hSZWNvZ25pdGlvbigpO1xuICAgIHRoaXMuc3BlZWNoU2V0dGluZ3MoKTtcblxuICAgIHJlY29nbml0aW9uLm9ucmVzdWx0ID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICByZXR1cm4gX3RoaXMuZ290UmVzdWx0KGV2ZW50KTtcbiAgICB9O1xuICAgIHJlY29nbml0aW9uLm9uc3BlZWNoZW5kID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHJldHVybiBfdGhpcy5vblNwZWVjaEVuZChlKTtcbiAgICB9O1xuICAgICR0ZXh0LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX3RoaXMudHh0ID0gJHRleHQudmFsdWU7XG4gICAgfSk7XG5cbiAgICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh7IGF1ZGlvOiB0cnVlIH0pLnRoZW4oZnVuY3Rpb24gKHN0cmVhbSkge1xuICAgICAgX3RoaXMubWVkaWFSZWNvcmRlciA9IG5ldyBNZWRpYVJlY29yZGVyKHN0cmVhbSk7XG5cbiAgICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS1TdGFydCBSZWNvcmRpbmctLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4gICAgICAkcmVjb3JkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy5tZWRpYVJlY29yZGVyLnN0YXJ0KCk7XG4gICAgICAgIHJlY29nbml0aW9uLnN0YXJ0KCk7XG4gICAgICAgICRyZWNvcmQuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgfSk7XG4gICAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgICBfdGhpcy5tZWRpYVJlY29yZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2RhdGFhdmFpbGFibGUnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBhdWRpb0NodW5rcy5wdXNoKGUuZGF0YSk7XG4gICAgICB9KTsgLy8gYWRkIGF1ZGlvY2h1bmsgdG8gYXJyYXlcblxuICAgICAgLy8gd2hlbiBtZWRpYVJlY29yZGVyIHN0b3BzLCBtYWtlIGFuZCBoYW5kbGUgYXVkaW8gYmxvYlxuICAgICAgX3RoaXMubWVkaWFSZWNvcmRlci5hZGRFdmVudExpc3RlbmVyKCdzdG9wJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBnaXZlIGxpbmsgdG8gYXVkaW8gY29udHJvbHMgdG8gcGxheSBhbmQgY29udHJvbCB0aGUgc291bmRcbiAgICAgICAgX3RoaXMuYmxvYiA9IG5ldyBCbG9iKGF1ZGlvQ2h1bmtzLCB7IHR5cGU6ICdhdWRpby9vZ2cnIH0pOyAvLyBjcmVhdGUgYmxvYiBmcm9tIGF1ZGlvY2h1bmtzXG5cbiAgICAgICAgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19saWJfc291bmRBUElfX1tcImFcIiAvKiBkZWZhdWx0ICovXS5jcmVhdGUoe1xuICAgICAgICAgIGlkOiBfdGhpcy5pZCxcbiAgICAgICAgICBibG9iOiBfdGhpcy5ibG9iXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciBidWZmZXJMb2FkZXIgPSBuZXcgQnVmZmVyTG9hZGVyKGF1ZGlvQ3R4LCBbJy4vdXBsb2Fkcy8nICsgX3RoaXMuaWQgKyAnLm9nZyddLCBmdW5jdGlvbiAoYnVmZmVyTGlzdCkge1xuICAgICAgICAgICAgLy8gdG8gYXZvaWQgb3ZlcmxhcHBpbmcgcHJldmlvdXMgc291bmQsIGVtcHR5IGJ1ZmZlckxpc3Qgd2hlbiB0cnlpbmcgYWdhaW5cbiAgICAgICAgICAgICRyZWNvcmQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHJldHVybiBidWZmZXJMaXN0ID0gW107XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdmFyIGxvb3AgPSBmYWxzZTtcblxuICAgICAgICAgICAgLy8gdHJpZ2dlciBsb29wXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVwZWF0JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIGxvb3AgPSAhbG9vcDtcbiAgICAgICAgICAgICAgc291cmNlLnN0b3AoKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBwaXRjaCB2YWx1ZVxuICAgICAgICAgICAgdmFyICRwaXRjaCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwaXRjaCcpO1xuICAgICAgICAgICAgJHBpdGNoLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgcGl0Y2hSYXRpbyA9IHBhcnNlRmxvYXQoJHBpdGNoLnZhbHVlKTtcbiAgICAgICAgICAgICAgX3RoaXMucGl0Y2hSYXRpbyA9IHBpdGNoUmF0aW87XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gcGxheSBtb2RpZmllZCBzb3VuZFxuICAgICAgICAgICAgJGF1ZGlvLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBzb3VyY2UgPSAnJztcbiAgICAgICAgICAgICAgc291cmNlID0gYXVkaW9DdHguY3JlYXRlQnVmZmVyU291cmNlKCk7XG4gICAgICAgICAgICAgIHNvdXJjZS5idWZmZXIgPSBidWZmZXJMaXN0WzBdO1xuICAgICAgICAgICAgICBzb3VyY2UuY29ubmVjdChwaXRjaFNoaWZ0ZXJQcm9jZXNzb3IpO1xuICAgICAgICAgICAgICBzb3VyY2UubG9vcCA9IGxvb3A7XG4gICAgICAgICAgICAgIHNvdXJjZS5zdGFydCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBidWZmZXJMb2FkZXIubG9hZCgpO1xuICAgICAgICAgIF90aGlzLmluaXRQcm9jZXNzb3IoKTtcbiAgICAgICAgfSwgMTAwMCk7XG5cbiAgICAgICAgLy8gc2V0IHNvdW5kIGZpbHRlciBvdmVybGFwXG4gICAgICAgIHZhciBvdmVybGFwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ292ZXJsYXAnKTtcbiAgICAgICAgb3ZlcmxhcC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgb3ZlcmxhcFJhdGlvID0gb3ZlcmxhcC52YWx1ZTtcbiAgICAgICAgICBfdGhpcy5vdmVybGFwID0gb3ZlcmxhcFJhdGlvO1xuICAgICAgICB9KTtcblxuICAgICAgICBhdWRpb0NodW5rcyA9IFtdO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoQXVkaW8sIFt7XG4gICAga2V5OiAnb25TcGVlY2hFbmQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblNwZWVjaEVuZChlKSB7XG4gICAgICB0aGlzLm1lZGlhUmVjb3JkZXIuc3RvcCgpO1xuICAgICAgcmVjb2duaXRpb24uc3RvcCgpO1xuICAgICAgJHJlY29yZC5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgJHJlY29yZC50ZXh0Q29udGVudCA9ICdXYW50IHRvIHRyeSBhZ2Fpbj8nO1xuICAgICAgdGhpcy50eHQgPSAkdGV4dC52YWx1ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnb3RSZXN1bHQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnb3RSZXN1bHQoZXZlbnQpIHtcbiAgICAgIHZhciBsYXN0ID0gZXZlbnQucmVzdWx0cy5sZW5ndGggLSAxO1xuICAgICAgdHJhbnNjcmlwdCA9IGV2ZW50LnJlc3VsdHNbbGFzdF1bMF0udHJhbnNjcmlwdDtcbiAgICAgICR0ZXh0LnZhbHVlID0gdHJhbnNjcmlwdDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdzcGVlY2hTZXR0aW5ncycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNwZWVjaFNldHRpbmdzKCkge1xuICAgICAgcmVjb2duaXRpb24uY29udGludW91cyA9IGZhbHNlO1xuICAgICAgcmVjb2duaXRpb24ubGFuZyA9ICdlbi1VUyc7XG4gICAgICByZWNvZ25pdGlvbi5pbnRlcmltUmVzdWx0cyA9IGZhbHNlO1xuICAgICAgcmVjb2duaXRpb24ubWF4QWx0ZXJuYXRpdmVzID0gMTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdpbml0UHJvY2Vzc29yJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdFByb2Nlc3NvcigpIHtcblxuICAgICAgdmFyIGxpbmVhckludGVycG9sYXRpb24gPSBmdW5jdGlvbiBsaW5lYXJJbnRlcnBvbGF0aW9uKGEsIGIsIHQpIHtcbiAgICAgICAgcmV0dXJuIGEgKyAoYiAtIGEpICogdDtcbiAgICAgIH07XG5cbiAgICAgIGlmIChwaXRjaFNoaWZ0ZXJQcm9jZXNzb3IpIHtcbiAgICAgICAgcGl0Y2hTaGlmdGVyUHJvY2Vzc29yLmRpc2Nvbm5lY3QoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGF1ZGlvQ3R4LmNyZWF0ZVNjcmlwdFByb2Nlc3Nvcikge1xuICAgICAgICBwaXRjaFNoaWZ0ZXJQcm9jZXNzb3IgPSBhdWRpb0N0eC5jcmVhdGVTY3JpcHRQcm9jZXNzb3IoZ3JhaW5TaXplLCAxLCAxKTtcbiAgICAgIH0gZWxzZSBpZiAoYXVkaW9DdHguY3JlYXRlSmF2YVNjcmlwdE5vZGUpIHtcbiAgICAgICAgcGl0Y2hTaGlmdGVyUHJvY2Vzc29yID0gYXVkaW9DdHguY3JlYXRlSmF2YVNjcmlwdE5vZGUoZ3JhaW5TaXplLCAxLCAxKTtcbiAgICAgIH1cblxuICAgICAgcGl0Y2hTaGlmdGVyUHJvY2Vzc29yLmJ1ZmZlciA9IG5ldyBGbG9hdDMyQXJyYXkoZ3JhaW5TaXplICogMik7XG4gICAgICBwaXRjaFNoaWZ0ZXJQcm9jZXNzb3IuZ3JhaW5XaW5kb3cgPSB0aGlzLmhhbm5XaW5kb3coZ3JhaW5TaXplKTtcblxuICAgICAgcGl0Y2hTaGlmdGVyUHJvY2Vzc29yLm9uYXVkaW9wcm9jZXNzID0gZnVuY3Rpb24gKGV2ZW50KSB7XG5cbiAgICAgICAgdmFyIGlucHV0RGF0YSA9IGV2ZW50LmlucHV0QnVmZmVyLmdldENoYW5uZWxEYXRhKDApO1xuICAgICAgICB2YXIgb3V0cHV0RGF0YSA9IGV2ZW50Lm91dHB1dEJ1ZmZlci5nZXRDaGFubmVsRGF0YSgwKTtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgaW5wdXREYXRhLmxlbmd0aDsgaSsrKSB7XG5cbiAgICAgICAgICAvLyBBcHBseSB0aGUgd2luZG93IHRvIHRoZSBpbnB1dCBidWZmZXJcbiAgICAgICAgICBpbnB1dERhdGFbaV0gKj0gdGhpcy5ncmFpbldpbmRvd1tpXTtcblxuICAgICAgICAgIC8vIFNoaWZ0IGhhbGYgb2YgdGhlIGJ1ZmZlclxuICAgICAgICAgIHRoaXMuYnVmZmVyW2ldID0gdGhpcy5idWZmZXJbaSArIGdyYWluU2l6ZV07XG5cbiAgICAgICAgICAvLyBFbXB0eSB0aGUgYnVmZmVyIHRhaWxcbiAgICAgICAgICB0aGlzLmJ1ZmZlcltpICsgZ3JhaW5TaXplXSA9IDAuMDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgcGl0Y2ggc2hpZnRlZCBncmFpbiByZS1zYW1wbGluZyBhbmQgbG9vcGluZyB0aGUgaW5wdXRcbiAgICAgICAgdmFyIGdyYWluRGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoZ3JhaW5TaXplICogMik7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gMC4wOyBpIDwgZ3JhaW5TaXplOyBpKyssIGogKz0gcGl0Y2hSYXRpbykge1xuXG4gICAgICAgICAgdmFyIGluZGV4ID0gTWF0aC5mbG9vcihqKSAlIGdyYWluU2l6ZTtcbiAgICAgICAgICB2YXIgYSA9IGlucHV0RGF0YVtpbmRleF07XG4gICAgICAgICAgdmFyIGIgPSBpbnB1dERhdGFbKGluZGV4ICsgMSkgJSBncmFpblNpemVdO1xuICAgICAgICAgIGdyYWluRGF0YVtpXSArPSBsaW5lYXJJbnRlcnBvbGF0aW9uKGEsIGIsIGogJSAxLjApICogdGhpcy5ncmFpbldpbmRvd1tpXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENvcHkgdGhlIGdyYWluIG11bHRpcGxlIHRpbWVzIG92ZXJsYXBwaW5nIGl0XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBncmFpblNpemU7IGkgKz0gTWF0aC5yb3VuZChncmFpblNpemUgKiAoMSAtIG92ZXJsYXBSYXRpbykpKSB7XG4gICAgICAgICAgZm9yIChqID0gMDsgaiA8PSBncmFpblNpemU7IGorKykge1xuICAgICAgICAgICAgdGhpcy5idWZmZXJbaSArIGpdICs9IGdyYWluRGF0YVtqXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBPdXRwdXQgdGhlIGZpcnN0IGhhbGYgb2YgdGhlIGJ1ZmZlclxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZ3JhaW5TaXplOyBpKyspIHtcbiAgICAgICAgICBvdXRwdXREYXRhW2ldID0gdGhpcy5idWZmZXJbaV07XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHBpdGNoU2hpZnRlclByb2Nlc3Nvci5jb25uZWN0KGF1ZGlvQ3R4LmRlc3RpbmF0aW9uKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdoYW5uV2luZG93JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFubldpbmRvdyhsZW5ndGgpIHtcbiAgICAgIHZhciB3aW5kb3cgPSBuZXcgRmxvYXQzMkFycmF5KGxlbmd0aCk7XG4gICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHdpbmRvd1tfaV0gPSAwLjUgKiAoMSAtIE1hdGguY29zKDIgKiBNYXRoLlBJICogX2kgLyAobGVuZ3RoIC0gMSkpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB3aW5kb3c7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEF1ZGlvO1xufSgpO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gKEF1ZGlvKTtcbjtcblxuLyoqKi8gfSksXG4vKiAxMCAqLyxcbi8qIDExICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5tb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xuXG5cbi8qKiovIH0pLFxuLyogMTIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIGFscGhhYmV0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcbnZhciBlbmNvZGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xudmFyIGRlY29kZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpO1xudmFyIGJ1aWxkID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNik7XG52YXIgaXNWYWxpZCA9IF9fd2VicGFja19yZXF1aXJlX18oMTcpO1xuXG4vLyBpZiB5b3UgYXJlIHVzaW5nIGNsdXN0ZXIgb3IgbXVsdGlwbGUgc2VydmVycyB1c2UgdGhpcyB0byBtYWtlIGVhY2ggaW5zdGFuY2Vcbi8vIGhhcyBhIHVuaXF1ZSB2YWx1ZSBmb3Igd29ya2VyXG4vLyBOb3RlOiBJIGRvbid0IGtub3cgaWYgdGhpcyBpcyBhdXRvbWF0aWNhbGx5IHNldCB3aGVuIHVzaW5nIHRoaXJkXG4vLyBwYXJ0eSBjbHVzdGVyIHNvbHV0aW9ucyBzdWNoIGFzIHBtMi5cbnZhciBjbHVzdGVyV29ya2VySWQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KSB8fCAwO1xuXG4vKipcbiAqIFNldCB0aGUgc2VlZC5cbiAqIEhpZ2hseSByZWNvbW1lbmRlZCBpZiB5b3UgZG9uJ3Qgd2FudCBwZW9wbGUgdG8gdHJ5IHRvIGZpZ3VyZSBvdXQgeW91ciBpZCBzY2hlbWEuXG4gKiBleHBvc2VkIGFzIHNob3J0aWQuc2VlZChpbnQpXG4gKiBAcGFyYW0gc2VlZCBJbnRlZ2VyIHZhbHVlIHRvIHNlZWQgdGhlIHJhbmRvbSBhbHBoYWJldC4gIEFMV0FZUyBVU0UgVEhFIFNBTUUgU0VFRCBvciB5b3UgbWlnaHQgZ2V0IG92ZXJsYXBzLlxuICovXG5mdW5jdGlvbiBzZWVkKHNlZWRWYWx1ZSkge1xuICAgIGFscGhhYmV0LnNlZWQoc2VlZFZhbHVlKTtcbiAgICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbi8qKlxuICogU2V0IHRoZSBjbHVzdGVyIHdvcmtlciBvciBtYWNoaW5lIGlkXG4gKiBleHBvc2VkIGFzIHNob3J0aWQud29ya2VyKGludClcbiAqIEBwYXJhbSB3b3JrZXJJZCB3b3JrZXIgbXVzdCBiZSBwb3NpdGl2ZSBpbnRlZ2VyLiAgTnVtYmVyIGxlc3MgdGhhbiAxNiBpcyByZWNvbW1lbmRlZC5cbiAqIHJldHVybnMgc2hvcnRpZCBtb2R1bGUgc28gaXQgY2FuIGJlIGNoYWluZWQuXG4gKi9cbmZ1bmN0aW9uIHdvcmtlcih3b3JrZXJJZCkge1xuICAgIGNsdXN0ZXJXb3JrZXJJZCA9IHdvcmtlcklkO1xuICAgIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuLyoqXG4gKlxuICogc2V0cyBuZXcgY2hhcmFjdGVycyB0byB1c2UgaW4gdGhlIGFscGhhYmV0XG4gKiByZXR1cm5zIHRoZSBzaHVmZmxlZCBhbHBoYWJldFxuICovXG5mdW5jdGlvbiBjaGFyYWN0ZXJzKG5ld0NoYXJhY3RlcnMpIHtcbiAgICBpZiAobmV3Q2hhcmFjdGVycyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGFscGhhYmV0LmNoYXJhY3RlcnMobmV3Q2hhcmFjdGVycyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFscGhhYmV0LnNodWZmbGVkKCk7XG59XG5cbi8qKlxuICogR2VuZXJhdGUgdW5pcXVlIGlkXG4gKiBSZXR1cm5zIHN0cmluZyBpZFxuICovXG5mdW5jdGlvbiBnZW5lcmF0ZSgpIHtcbiAgcmV0dXJuIGJ1aWxkKGNsdXN0ZXJXb3JrZXJJZCk7XG59XG5cbi8vIEV4cG9ydCBhbGwgb3RoZXIgZnVuY3Rpb25zIGFzIHByb3BlcnRpZXMgb2YgdGhlIGdlbmVyYXRlIGZ1bmN0aW9uXG5tb2R1bGUuZXhwb3J0cyA9IGdlbmVyYXRlO1xubW9kdWxlLmV4cG9ydHMuZ2VuZXJhdGUgPSBnZW5lcmF0ZTtcbm1vZHVsZS5leHBvcnRzLnNlZWQgPSBzZWVkO1xubW9kdWxlLmV4cG9ydHMud29ya2VyID0gd29ya2VyO1xubW9kdWxlLmV4cG9ydHMuY2hhcmFjdGVycyA9IGNoYXJhY3RlcnM7XG5tb2R1bGUuZXhwb3J0cy5kZWNvZGUgPSBkZWNvZGU7XG5tb2R1bGUuZXhwb3J0cy5pc1ZhbGlkID0gaXNWYWxpZDtcblxuXG4vKioqLyB9KSxcbi8qIDEzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbi8vIEZvdW5kIHRoaXMgc2VlZC1iYXNlZCByYW5kb20gZ2VuZXJhdG9yIHNvbWV3aGVyZVxuLy8gQmFzZWQgb24gVGhlIENlbnRyYWwgUmFuZG9taXplciAxLjMgKEMpIDE5OTcgYnkgUGF1bCBIb3VsZSAoaG91bGVAbXNjLmNvcm5lbGwuZWR1KVxuXG52YXIgc2VlZCA9IDE7XG5cbi8qKlxuICogcmV0dXJuIGEgcmFuZG9tIG51bWJlciBiYXNlZCBvbiBhIHNlZWRcbiAqIEBwYXJhbSBzZWVkXG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5mdW5jdGlvbiBnZXROZXh0VmFsdWUoKSB7XG4gICAgc2VlZCA9IChzZWVkICogOTMwMSArIDQ5Mjk3KSAlIDIzMzI4MDtcbiAgICByZXR1cm4gc2VlZC8oMjMzMjgwLjApO1xufVxuXG5mdW5jdGlvbiBzZXRTZWVkKF9zZWVkXykge1xuICAgIHNlZWQgPSBfc2VlZF87XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIG5leHRWYWx1ZTogZ2V0TmV4dFZhbHVlLFxuICAgIHNlZWQ6IHNldFNlZWRcbn07XG5cblxuLyoqKi8gfSksXG4vKiAxNCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgY3J5cHRvID0gdHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcgJiYgKHdpbmRvdy5jcnlwdG8gfHwgd2luZG93Lm1zQ3J5cHRvKTsgLy8gSUUgMTEgdXNlcyB3aW5kb3cubXNDcnlwdG9cblxuZnVuY3Rpb24gcmFuZG9tQnl0ZSgpIHtcbiAgICBpZiAoIWNyeXB0byB8fCAhY3J5cHRvLmdldFJhbmRvbVZhbHVlcykge1xuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMjU2KSAmIDB4MzA7XG4gICAgfVxuICAgIHZhciBkZXN0ID0gbmV3IFVpbnQ4QXJyYXkoMSk7XG4gICAgY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhkZXN0KTtcbiAgICByZXR1cm4gZGVzdFswXSAmIDB4MzA7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gcmFuZG9tQnl0ZTtcblxuXG4vKioqLyB9KSxcbi8qIDE1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG52YXIgYWxwaGFiZXQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG4vKipcbiAqIERlY29kZSB0aGUgaWQgdG8gZ2V0IHRoZSB2ZXJzaW9uIGFuZCB3b3JrZXJcbiAqIE1haW5seSBmb3IgZGVidWdnaW5nIGFuZCB0ZXN0aW5nLlxuICogQHBhcmFtIGlkIC0gdGhlIHNob3J0aWQtZ2VuZXJhdGVkIGlkLlxuICovXG5mdW5jdGlvbiBkZWNvZGUoaWQpIHtcbiAgICB2YXIgY2hhcmFjdGVycyA9IGFscGhhYmV0LnNodWZmbGVkKCk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdmVyc2lvbjogY2hhcmFjdGVycy5pbmRleE9mKGlkLnN1YnN0cigwLCAxKSkgJiAweDBmLFxuICAgICAgICB3b3JrZXI6IGNoYXJhY3RlcnMuaW5kZXhPZihpZC5zdWJzdHIoMSwgMSkpICYgMHgwZlxuICAgIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZGVjb2RlO1xuXG5cbi8qKiovIH0pLFxuLyogMTYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIGVuY29kZSA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG52YXIgYWxwaGFiZXQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG4vLyBJZ25vcmUgYWxsIG1pbGxpc2Vjb25kcyBiZWZvcmUgYSBjZXJ0YWluIHRpbWUgdG8gcmVkdWNlIHRoZSBzaXplIG9mIHRoZSBkYXRlIGVudHJvcHkgd2l0aG91dCBzYWNyaWZpY2luZyB1bmlxdWVuZXNzLlxuLy8gVGhpcyBudW1iZXIgc2hvdWxkIGJlIHVwZGF0ZWQgZXZlcnkgeWVhciBvciBzbyB0byBrZWVwIHRoZSBnZW5lcmF0ZWQgaWQgc2hvcnQuXG4vLyBUbyByZWdlbmVyYXRlIGBuZXcgRGF0ZSgpIC0gMGAgYW5kIGJ1bXAgdGhlIHZlcnNpb24uIEFsd2F5cyBidW1wIHRoZSB2ZXJzaW9uIVxudmFyIFJFRFVDRV9USU1FID0gMTQ1OTcwNzYwNjUxODtcblxuLy8gZG9uJ3QgY2hhbmdlIHVubGVzcyB3ZSBjaGFuZ2UgdGhlIGFsZ29zIG9yIFJFRFVDRV9USU1FXG4vLyBtdXN0IGJlIGFuIGludGVnZXIgYW5kIGxlc3MgdGhhbiAxNlxudmFyIHZlcnNpb24gPSA2O1xuXG4vLyBDb3VudGVyIGlzIHVzZWQgd2hlbiBzaG9ydGlkIGlzIGNhbGxlZCBtdWx0aXBsZSB0aW1lcyBpbiBvbmUgc2Vjb25kLlxudmFyIGNvdW50ZXI7XG5cbi8vIFJlbWVtYmVyIHRoZSBsYXN0IHRpbWUgc2hvcnRpZCB3YXMgY2FsbGVkIGluIGNhc2UgY291bnRlciBpcyBuZWVkZWQuXG52YXIgcHJldmlvdXNTZWNvbmRzO1xuXG4vKipcbiAqIEdlbmVyYXRlIHVuaXF1ZSBpZFxuICogUmV0dXJucyBzdHJpbmcgaWRcbiAqL1xuZnVuY3Rpb24gYnVpbGQoY2x1c3RlcldvcmtlcklkKSB7XG5cbiAgICB2YXIgc3RyID0gJyc7XG5cbiAgICB2YXIgc2Vjb25kcyA9IE1hdGguZmxvb3IoKERhdGUubm93KCkgLSBSRURVQ0VfVElNRSkgKiAwLjAwMSk7XG5cbiAgICBpZiAoc2Vjb25kcyA9PT0gcHJldmlvdXNTZWNvbmRzKSB7XG4gICAgICAgIGNvdW50ZXIrKztcbiAgICB9IGVsc2Uge1xuICAgICAgICBjb3VudGVyID0gMDtcbiAgICAgICAgcHJldmlvdXNTZWNvbmRzID0gc2Vjb25kcztcbiAgICB9XG5cbiAgICBzdHIgPSBzdHIgKyBlbmNvZGUoYWxwaGFiZXQubG9va3VwLCB2ZXJzaW9uKTtcbiAgICBzdHIgPSBzdHIgKyBlbmNvZGUoYWxwaGFiZXQubG9va3VwLCBjbHVzdGVyV29ya2VySWQpO1xuICAgIGlmIChjb3VudGVyID4gMCkge1xuICAgICAgICBzdHIgPSBzdHIgKyBlbmNvZGUoYWxwaGFiZXQubG9va3VwLCBjb3VudGVyKTtcbiAgICB9XG4gICAgc3RyID0gc3RyICsgZW5jb2RlKGFscGhhYmV0Lmxvb2t1cCwgc2Vjb25kcyk7XG5cbiAgICByZXR1cm4gc3RyO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJ1aWxkO1xuXG5cbi8qKiovIH0pLFxuLyogMTcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBhbHBoYWJldCA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbmZ1bmN0aW9uIGlzU2hvcnRJZChpZCkge1xuICAgIGlmICghaWQgfHwgdHlwZW9mIGlkICE9PSAnc3RyaW5nJyB8fCBpZC5sZW5ndGggPCA2ICkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIGNoYXJhY3RlcnMgPSBhbHBoYWJldC5jaGFyYWN0ZXJzKCk7XG4gICAgdmFyIGxlbiA9IGlkLmxlbmd0aDtcbiAgICBmb3IodmFyIGkgPSAwOyBpIDwgbGVuO2krKykge1xuICAgICAgICBpZiAoY2hhcmFjdGVycy5pbmRleE9mKGlkW2ldKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc1Nob3J0SWQ7XG5cblxuLyoqKi8gfSksXG4vKiAxOCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IDA7XG5cblxuLyoqKi8gfSksXG4vKiAxOSAqLyxcbi8qIDIwICovLFxuLyogMjEgKi8sXG4vKiAyMiAqLyxcbi8qIDIzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9pc29tb3JwaGljX2ZldGNoX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9pc29tb3JwaGljX2ZldGNoX19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfaXNvbW9ycGhpY19mZXRjaF9fKTtcblxuXG52YXIgdXJsID0gJy9hcGkvc291bmQnO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gKHtcblxuICBjcmVhdGU6IGZ1bmN0aW9uIGNyZWF0ZShfcmVmKSB7XG4gICAgdmFyIGlkID0gX3JlZi5pZCxcbiAgICAgICAgYmxvYiA9IF9yZWYuYmxvYjtcblxuICAgIHZhciBtZXRob2QgPSAnUE9TVCc7XG4gICAgdmFyIG5ld0ZpbGVOYW1lID0gJycgKyBpZC5zcGxpdCgnICcpLmpvaW4oJ18nKTtcbiAgICB2YXIgYm9keSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgIGJvZHkuYXBwZW5kKCdpZCcsIGlkKTtcbiAgICBib2R5LmFwcGVuZCgnc291bmQnLCBibG9iLCBuZXdGaWxlTmFtZSk7XG5cbiAgICByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX2lzb21vcnBoaWNfZmV0Y2hfX19kZWZhdWx0KCkodXJsLCB7IG1ldGhvZDogbWV0aG9kLCBib2R5OiBib2R5IH0pLnRoZW4oZnVuY3Rpb24gKHIpIHtcbiAgICAgIHJldHVybiByLmpzb24oKTtcbiAgICB9KTtcbiAgfSxcblxuICByZWFkOiBmdW5jdGlvbiByZWFkKCkge1xuICAgIHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfaXNvbW9ycGhpY19mZXRjaF9fX2RlZmF1bHQoKSh1cmwgKyAnP2lzQWN0aXZlPXRydWUnKS50aGVuKGZ1bmN0aW9uIChyKSB7XG4gICAgICByZXR1cm4gci5qc29uKCk7XG4gICAgfSk7XG4gIH0sXG5cbiAgcmVhZE9uZTogZnVuY3Rpb24gcmVhZE9uZShpZCkge1xuICAgIHZhciBtZXRob2QgPSAnR0VUJztcbiAgICByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX2lzb21vcnBoaWNfZmV0Y2hfX19kZWZhdWx0KCkodXJsICsgJy8nICsgaWQsIHsgbWV0aG9kOiBtZXRob2QgfSkudGhlbihmdW5jdGlvbiAocikge1xuICAgICAgcmV0dXJuIHIuanNvbigpO1xuICAgIH0pO1xuICB9XG59KTtcblxuLyoqKi8gfSlcbi8qKioqKiovIF0pO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBqcy9zY3JpcHQuanMiLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbiBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbiBcdFx0XHR9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA4KTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrL2Jvb3RzdHJhcCA1MDY2ZWZkZDdjNTBiMzE4YjRjZiIsImNvbnN0IENvbG9ycyA9IHtcbiAgc2tpbjogMHhmZmUwYmQsXG4gIGZyZWNrbGVzOiAweGNmYmE5NixcbiAgd2hpdGU6IDB4ZTllYmVlLFxuICBnbGFzc2VzOiAweGY5YzQyMSxcbiAgdGVldGg6IDB4ZmZmZmZmLFxuICBibGFjazogMHgyZTJlMmUsXG4gIGV5ZTogMHg2Mjk1YTgsXG4gIGhhdDogMHg3MjAzMTRcbn07XG5leHBvcnQgZGVmYXVsdCBDb2xvcnM7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvanMvb2JqZWN0cy9jb2xvcnMuanMiLCJpbXBvcnQgZmV0Y2ggZnJvbSAnaXNvbW9ycGhpYy1mZXRjaCc7XG5cbmNvbnN0IHVybCA9IGAvYXBpL2NhcnRgO1xuXG5leHBvcnQgZGVmYXVsdCB7XG5cbiAgY3JlYXRlOiAoe3RleHQsIGlkLCBmcm9tLCBibG9iLCB0bywgYXVkaW9TZXR0aW5ncywgaGVhZENvbG9yc30pID0+IHtcbiAgICBjb25zdCBtZXRob2QgPSBgUE9TVGA7XG4gICAgLy8gY29uc3QgbmV3RmlsZU5hbWUgPSBgJHtpZC5zcGxpdChgIGApLmpvaW4oYF9gKX1gO1xuICAgIGNvbnN0IGJvZHkgPSBuZXcgRm9ybURhdGEoKTtcbiAgICBib2R5LmFwcGVuZChgdGV4dGAsIHRleHQpO1xuICAgIGJvZHkuYXBwZW5kKGBpZGAsIGlkKTtcbiAgICBib2R5LmFwcGVuZChgZnJvbWAsIGZyb20pO1xuICAgIGJvZHkuYXBwZW5kKGB0b2AsIHRvKTtcbiAgICBib2R5LmFwcGVuZChgYXVkaW9TZXR0aW5nc2AsIGF1ZGlvU2V0dGluZ3MpO1xuICAgIGJvZHkuYXBwZW5kKGBoZWFkQ29sb3JzYCwgaGVhZENvbG9ycyk7XG5cbiAgICByZXR1cm4gZmV0Y2godXJsLCB7bWV0aG9kLCBib2R5fSlcbiAgICAgIC50aGVuKHIgPT4gci5qc29uKCkpO1xuICB9LFxuXG4gIHJlYWQ6ICgpID0+IHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dXJsfT9pc0FjdGl2ZT10cnVlYClcbiAgICAgIC50aGVuKHIgPT4gci5qc29uKCkpO1xuICB9LFxuXG4gIHJlYWRPbmU6IGlkID0+IHtcbiAgICBjb25zdCBtZXRob2QgPSBgR0VUYDtcbiAgICByZXR1cm4gZmV0Y2goYCR7dXJsfS8ke2lkfWAsIHttZXRob2R9KS50aGVuKHIgPT4gci5qc29uKCkpO1xuICB9LFxuXG4gIHVwZGF0ZTogKHt0ZXh0LCBpZCwgZnJvbSwgdG8sIGF1ZGlvU2V0dGluZ3MsIGhlYWRDb2xvcnN9KSA9PsKge1xuICAgIGNvbnN0IG1ldGhvZCA9IGBQVVRgO1xuICAgIGNvbnN0IGJvZHkgPSBuZXcgRm9ybURhdGEoKTtcbiAgICBib2R5LmFwcGVuZChgdGV4dGAsIHRleHQpO1xuICAgIGJvZHkuYXBwZW5kKGBpZGAsIGlkKTtcbiAgICBib2R5LmFwcGVuZChgZnJvbWAsIGZyb20pO1xuICAgIGJvZHkuYXBwZW5kKGB0b2AsIHRvKTtcbiAgICBib2R5LmFwcGVuZChgYXVkaW9TZXR0aW5nc2AsIGF1ZGlvU2V0dGluZ3MpO1xuICAgIGJvZHkuYXBwZW5kKGBoZWFkQ29sb3JzYCwgaGVhZENvbG9ycyk7XG5cbiAgICByZXR1cm4gZmV0Y2goYCR7dXJsfS8ke2lkfWAsIHttZXRob2QsIGJvZHl9KS50aGVuKHIgPT4gci5qc29uKCkpO1xuICB9XG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2pzL2xpYi9jYXJ0QVBJLmpzIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgcmFuZG9tRnJvbVNlZWQgPSByZXF1aXJlKCcuL3JhbmRvbS9yYW5kb20tZnJvbS1zZWVkJyk7XG5cbnZhciBPUklHSU5BTCA9ICcwMTIzNDU2Nzg5YWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWl8tJztcbnZhciBhbHBoYWJldDtcbnZhciBwcmV2aW91c1NlZWQ7XG5cbnZhciBzaHVmZmxlZDtcblxuZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgc2h1ZmZsZWQgPSBmYWxzZTtcbn1cblxuZnVuY3Rpb24gc2V0Q2hhcmFjdGVycyhfYWxwaGFiZXRfKSB7XG4gICAgaWYgKCFfYWxwaGFiZXRfKSB7XG4gICAgICAgIGlmIChhbHBoYWJldCAhPT0gT1JJR0lOQUwpIHtcbiAgICAgICAgICAgIGFscGhhYmV0ID0gT1JJR0lOQUw7XG4gICAgICAgICAgICByZXNldCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoX2FscGhhYmV0XyA9PT0gYWxwaGFiZXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChfYWxwaGFiZXRfLmxlbmd0aCAhPT0gT1JJR0lOQUwubGVuZ3RoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ3VzdG9tIGFscGhhYmV0IGZvciBzaG9ydGlkIG11c3QgYmUgJyArIE9SSUdJTkFMLmxlbmd0aCArICcgdW5pcXVlIGNoYXJhY3RlcnMuIFlvdSBzdWJtaXR0ZWQgJyArIF9hbHBoYWJldF8ubGVuZ3RoICsgJyBjaGFyYWN0ZXJzOiAnICsgX2FscGhhYmV0Xyk7XG4gICAgfVxuXG4gICAgdmFyIHVuaXF1ZSA9IF9hbHBoYWJldF8uc3BsaXQoJycpLmZpbHRlcihmdW5jdGlvbihpdGVtLCBpbmQsIGFycil7XG4gICAgICAgcmV0dXJuIGluZCAhPT0gYXJyLmxhc3RJbmRleE9mKGl0ZW0pO1xuICAgIH0pO1xuXG4gICAgaWYgKHVuaXF1ZS5sZW5ndGgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDdXN0b20gYWxwaGFiZXQgZm9yIHNob3J0aWQgbXVzdCBiZSAnICsgT1JJR0lOQUwubGVuZ3RoICsgJyB1bmlxdWUgY2hhcmFjdGVycy4gVGhlc2UgY2hhcmFjdGVycyB3ZXJlIG5vdCB1bmlxdWU6ICcgKyB1bmlxdWUuam9pbignLCAnKSk7XG4gICAgfVxuXG4gICAgYWxwaGFiZXQgPSBfYWxwaGFiZXRfO1xuICAgIHJlc2V0KCk7XG59XG5cbmZ1bmN0aW9uIGNoYXJhY3RlcnMoX2FscGhhYmV0Xykge1xuICAgIHNldENoYXJhY3RlcnMoX2FscGhhYmV0Xyk7XG4gICAgcmV0dXJuIGFscGhhYmV0O1xufVxuXG5mdW5jdGlvbiBzZXRTZWVkKHNlZWQpIHtcbiAgICByYW5kb21Gcm9tU2VlZC5zZWVkKHNlZWQpO1xuICAgIGlmIChwcmV2aW91c1NlZWQgIT09IHNlZWQpIHtcbiAgICAgICAgcmVzZXQoKTtcbiAgICAgICAgcHJldmlvdXNTZWVkID0gc2VlZDtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHNodWZmbGUoKSB7XG4gICAgaWYgKCFhbHBoYWJldCkge1xuICAgICAgICBzZXRDaGFyYWN0ZXJzKE9SSUdJTkFMKTtcbiAgICB9XG5cbiAgICB2YXIgc291cmNlQXJyYXkgPSBhbHBoYWJldC5zcGxpdCgnJyk7XG4gICAgdmFyIHRhcmdldEFycmF5ID0gW107XG4gICAgdmFyIHIgPSByYW5kb21Gcm9tU2VlZC5uZXh0VmFsdWUoKTtcbiAgICB2YXIgY2hhcmFjdGVySW5kZXg7XG5cbiAgICB3aGlsZSAoc291cmNlQXJyYXkubGVuZ3RoID4gMCkge1xuICAgICAgICByID0gcmFuZG9tRnJvbVNlZWQubmV4dFZhbHVlKCk7XG4gICAgICAgIGNoYXJhY3RlckluZGV4ID0gTWF0aC5mbG9vcihyICogc291cmNlQXJyYXkubGVuZ3RoKTtcbiAgICAgICAgdGFyZ2V0QXJyYXkucHVzaChzb3VyY2VBcnJheS5zcGxpY2UoY2hhcmFjdGVySW5kZXgsIDEpWzBdKTtcbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldEFycmF5LmpvaW4oJycpO1xufVxuXG5mdW5jdGlvbiBnZXRTaHVmZmxlZCgpIHtcbiAgICBpZiAoc2h1ZmZsZWQpIHtcbiAgICAgICAgcmV0dXJuIHNodWZmbGVkO1xuICAgIH1cbiAgICBzaHVmZmxlZCA9IHNodWZmbGUoKTtcbiAgICByZXR1cm4gc2h1ZmZsZWQ7XG59XG5cbi8qKlxuICogbG9va3VwIHNodWZmbGVkIGxldHRlclxuICogQHBhcmFtIGluZGV4XG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiBsb29rdXAoaW5kZXgpIHtcbiAgICB2YXIgYWxwaGFiZXRTaHVmZmxlZCA9IGdldFNodWZmbGVkKCk7XG4gICAgcmV0dXJuIGFscGhhYmV0U2h1ZmZsZWRbaW5kZXhdO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBjaGFyYWN0ZXJzOiBjaGFyYWN0ZXJzLFxuICAgIHNlZWQ6IHNldFNlZWQsXG4gICAgbG9va3VwOiBsb29rdXAsXG4gICAgc2h1ZmZsZWQ6IGdldFNodWZmbGVkXG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvc2hvcnRpZC9saWIvYWxwaGFiZXQuanNcbi8vIG1vZHVsZSBpZCA9IDJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiaW1wb3J0IENvbG9ycyBmcm9tICcuLi9vYmplY3RzL2NvbG9ycyc7XG5pbXBvcnQgTWF0IGZyb20gJy4uL29iamVjdHMvTWF0ZXJpYWxzJztcblxubGV0IGlzQmxpbmtpbmcgPSBmYWxzZTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSGVhZCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMubWVzaCA9IG5ldyBUSFJFRS5PYmplY3QzRCgpO1xuXG4gICAgbGV0IGhlYWRHZW9tID0gbmV3IFRIUkVFLkJveEJ1ZmZlckdlb21ldHJ5KDE2LCAxNiwgMTYpO1xuICAgIGxldCBza2luTWF0ID0gbmV3IFRIUkVFLk1lc2hMYW1iZXJ0TWF0ZXJpYWwoe2NvbG9yOiBDb2xvcnMuc2tpbiwgZmxhdFNoYWRpbmc6IHRydWV9KTtcbiAgICBsZXQgZXllTWF0ID0gbmV3IFRIUkVFLk1lc2hQaG9uZ01hdGVyaWFsKHtjb2xvcjogQ29sb3JzLmV5ZSwgZmxhdFNoYWRpbmc6IHRydWV9KTtcblxuICAgIHRoaXMuaGVhZCA9IG5ldyBUSFJFRS5NZXNoKGhlYWRHZW9tLHNraW5NYXQpO1xuICAgIHRoaXMuaGVhZC5jYXN0U2hhZG93ID0gdHJ1ZTtcbiAgICB0aGlzLmhlYWQucmVjZWl2ZVNoYWRvdyA9IGZhbHNlO1xuICAgIHRoaXMubWVzaC5hZGQodGhpcy5oZWFkKTtcblxuICAgIHRoaXMuYmVhcmQgPSBuZXcgVEhSRUUuT2JqZWN0M0QoKTtcbiAgICB0aGlzLmJlYXJkLnBvc2l0aW9uLnkgPSAtNztcbiAgICB0aGlzLmJlYXJkLnBvc2l0aW9uLnogPSAwLjU7XG4gICAgdGhpcy5oZWFkLmFkZCh0aGlzLmJlYXJkKTtcbiAgICBsZXQgc3RhcnM7XG5cbiAgICB0aGlzLkJlYXJkKCk7XG4gICAgdGhpcy5HbGFzc2VzKCk7XG4gICAgdGhpcy5IYWlyKCk7XG4gICAgdGhpcy5FeWVzKCk7XG4gICAgdGhpcy5FeWVCcm93cygpO1xuICAgIHRoaXMuSGF0KCk7XG4gICAgdGhpcy5GcmVja2xlcygpO1xuICAgIHRoaXMuRmVhdHVyZXMoKTtcbiAgICB0aGlzLmlkbGUoKTtcbi8vICAgIHRoaXMuZGl6enkoKTtcbi8vICAgIHRoaXMuU3RhcigpO1xuLy8gICAgdGhpcy5TdGFyc0dyb3VwKCk7XG4gICAgdGhpcy5ub3JtYWxpemUoKTtcbiAgfVxuXG4gIG5vcm1hbGl6ZSh2LCB2bWluLCB2bWF4LCB0bWluLCB0bWF4KSB7XG4gICAgY29uc3QgbnYgPSBNYXRoLm1heChNYXRoLm1pbih2LCB2bWF4KSwgdm1pbik7XG4gICAgY29uc3QgZHYgPSB2bWF4IC0gdm1pbjtcbiAgICBjb25zdCBwYyA9IChudiAtIHZtaW4pIC8gZHY7XG4gICAgY29uc3QgZHQgPSB0bWF4IC0gdG1pbjtcbiAgICBjb25zdCB0diA9IHRtaW4gKyAocGMgKiBkdCk7XG4gICAgcmV0dXJuIHR2O1xuICB9XG5cbiAgLy8gU3RhcigpIHtcbiAgLy8gICB0aGlzLm1lc2ggPSBuZXcgVEhSRUUuT2JqZWN0M0QoKTtcbiAgLy9cbiAgLy8gICBsZXQgcHRzID0gW10sXG4gIC8vICAgICBudW1QdHMgPSA1O1xuICAvLyAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtUHRzICogMjsgaSsrKSB7XG4gIC8vICAgICBsZXQgbCA9IGkgJSAyID09IDFcbiAgLy8gICAgICAgPyAxXG4gIC8vICAgICAgIDogMjtcbiAgLy8gICAgIGxldCBhID0gaSAvIG51bVB0cyAqIE1hdGguUEk7XG4gIC8vICAgICBwdHMucHVzaChuZXcgVEhSRUUuVmVjdG9yMihNYXRoLmNvcyhhKSAqIGwsIE1hdGguc2luKGEpICogbCkpO1xuICAvLyAgIH1cbiAgLy8gICBsZXQgc3RhclNoYXBlID0gbmV3IFRIUkVFLlNoYXBlKHB0cyk7XG4gIC8vXG4gIC8vICAgbGV0IGV4dHJ1ZGVTZXR0aW5ncyA9IHtcbiAgLy8gICAgIGFtb3VudDogMC41LFxuICAvLyAgICAgc3RlcHM6IDEsXG4gIC8vICAgICBiZXZlbEVuYWJsZWQ6IGZhbHNlXG4gIC8vICAgfTtcbiAgLy8gICBsZXQgc3Rhckdlb20gPSBuZXcgVEhSRUUuRXh0cnVkZUdlb21ldHJ5KHN0YXJTaGFwZSwgZXh0cnVkZVNldHRpbmdzKTtcbiAgLy9cbiAgLy8gICBsZXQgc3RhciA9IG5ldyBUSFJFRS5NZXNoKHN0YXJHZW9tLCBNYXQud2hpdGVNYXQpO1xuICAvL1xuICAvLyAgIHN0YXIucm90YXRpb24ueCA9IE1hdGguUEkgLyAyO1xuICAvL1xuICAvLyAgIHRoaXMubWVzaC5hZGQoc3Rhcik7XG4gIC8vIH1cblxuICAvLyBTdGFyc0dyb3VwKCl7XG4gIC8vICAgdGhpcy5tZXNoID0gbmV3IFRIUkVFLk9iamVjdDNEKCk7XG4gIC8vXG4gIC8vICAgdGhpcy5uU3RhcnMgPSAxNTtcbiAgLy8gICBjb25zdCBzdGFyQXJyYXkgPSBbXTtcbiAgLy8gICBsZXQgc3RlcEFuZ2xlID0gTWF0aC5QSSAqIDIgLyB0aGlzLm5TdGFycztcbiAgLy9cbiAgLy8gICAvLyBDcmVhdGUgdGhlIFN0YXJzXG4gIC8vICAgLy8gZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm5TdGFyczsgaSsrKSB7XG4gIC8vICAgLy9cbiAgLy8gICAvLyAgIC8vIHRoaXMucyA9IHRoaXMuU3RhcigpO1xuICAvLyAgIC8vICAgLy8gbGV0IGEgPSBzdGVwQW5nbGUgKiBpO1xuICAvLyAgIC8vICAgLy8gbGV0IHIgPSAxNTtcbiAgLy8gICAvLyAgIC8vXG4gIC8vICAgLy8gICAvLyB0aGlzLnMubWVzaC5wb3NpdGlvbi55ID0gTWF0aC5zaW4oYSkgKiByO1xuICAvLyAgIC8vICAgLy8gdGhpcy5zLm1lc2gucG9zaXRpb24ueCA9IE1hdGguY29zKGEpICogcjtcbiAgLy8gICAvLyAgIC8vXG4gIC8vICAgLy8gICAvLyB0aGlzLnMubWVzaC5yb3RhdGlvbi56ID0gYSArIE1hdGguUEkgLyAyO1xuICAvLyAgIC8vICAgLy8gdGhpcy5zLm1lc2gucG9zaXRpb24ueiA9IDAgLSBNYXRoLnJhbmRvbSgpICogMztcbiAgLy8gICAvLyAgIC8vXG4gIC8vICAgLy8gICAvLyAvLyAgcmFuZG9tIHNjYWxlIGZvciBlYWNoIGNsb3VkXG4gIC8vICAgLy8gICAvLyBsZXQgc2MgPSAwLjUgKyBNYXRoLnJhbmRvbSgpICogLjY7XG4gIC8vICAgLy8gICAvLyB0aGlzLnMubWVzaC5zY2FsZS5zZXQoc2MsIHNjLCBzYyk7XG4gIC8vICAgLy8gICAvL1xuICAvLyAgIC8vICAgLy8gdGhpcy5tZXNoLmFkZCh0aGlzLnMubWVzaCk7XG4gIC8vICAgLy9cbiAgLy8gICAvLyAgIHN0YXJBcnJheS5wdXNoKHRoaXMucyk7XG4gIC8vICAgLy99XG4gIC8vICAgdGhpcy5tZXNoLnJvdGF0aW9uLnggPSBNYXRoLlBJIC8gMjtcbiAgLy8gfVxuXG4gIC8vIHNwaW5TY2FsZSgpIHtcbiAgLy8gICB0aGlzLm1lc2gucm90YXRpb24ueiArPSAwLjAyO1xuICAvL1xuICAvLyAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RhckFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gIC8vICAgICAgc3RhckFycmF5W2ldLm1lc2gucm90YXRpb24ueCA9IE1hdGguc2luKERhdGUubm93KCkgKiAwLjAxKSAqIE1hdGguUEkgKiAwLjEgO1xuICAvLyAgICAgc3RhckFycmF5W2ldLm1lc2gucm90YXRpb24ueiArPSAwIC0gTWF0aC5yYW5kb20oKSAqIDAuMTU7XG4gIC8vICAgICBzdGFyQXJyYXlbaV0ubWVzaC5yb3RhdGlvbi54ICs9IDAgLSBNYXRoLnJhbmRvbSgpICogMC4wNTtcbiAgLy9cbiAgLy8gICB9XG4gIC8vIH1cblxuICAvLyBkaXp6eSgpIHtcbiAgLy8gICB0aGlzLnN0YXJzID0gdGhpcy5TdGFyc0dyb3VwKCk7XG4gIC8vXG4gIC8vICAgLy8gdGhpcy5zdGFycy5tZXNoLnBvc2l0aW9uLnNldCgwLCAxMCwgMCk7XG4gIC8vICAgbGV0IGRpc3RhbmNlID0gMTtcbiAgLy9cbiAgLy8gICB0aGlzLmhlYWQucm90YXRpb24ueiA9IE1hdGguc2luKERhdGUubm93KCkgKiAwLjAwNSkgKiBNYXRoLlBJICogMC4wMTtcbiAgLy8gICB0aGlzLmhlYWQucm90YXRpb24ueCA9IE1hdGguc2luKERhdGUubm93KCkgKiAwLjAxKSAqIE1hdGguUEkgKiAwLjAxO1xuICAvLyAgIHRoaXMuaGVhZC5yb3RhdGlvbi55ID0gTWF0aC5zaW4oRGF0ZS5ub3coKSAqIDAuMDA1KSAqIE1hdGguUEkgKiAwLjAxO1xuICAvL1xuICAvLyAgIHRoaXMubW91c3RhY2hlLnJvdGF0aW9uLnogPSBNYXRoLnNpbihEYXRlLm5vdygpICogMC4wMDUpICogTWF0aC5QSSAqIDAuMDU7XG4gIC8vXG4gIC8vICAgdGhpcy5zdGFycy5zcGluU2NhbGUoKTtcbiAgLy8gfVxuXG4gIHVwZGF0ZUJvZHkoc3BlZWQsIGV5ZUJsdWVSaWdodFBvc1gsIGV5ZUJsdWVMZWZ0UG9zWCwgZXllQmx1ZVJpZ2h0UG9zWSwgZXllQmx1ZUxlZnRQb3NZLCBleWVCcm93UmlnaHRQb3NZLCBleWVCcm93TGVmdFBvc1kpIHtcbiAgICB0aGlzLmV5ZUJsdWVSaWdodC5wb3NpdGlvbi54ICs9IChleWVCbHVlUmlnaHRQb3NYIC0gdGhpcy5leWVCbHVlUmlnaHQucG9zaXRpb24ueCkgLyBzcGVlZDtcbiAgICB0aGlzLmV5ZUJsdWVMZWZ0LnBvc2l0aW9uLnggKz0gKGV5ZUJsdWVMZWZ0UG9zWCAtIHRoaXMuZXllQmx1ZUxlZnQucG9zaXRpb24ueCkgLyBzcGVlZDtcblxuICAgIHRoaXMuZXllQmx1ZVJpZ2h0LnBvc2l0aW9uLnkgKz0gKGV5ZUJsdWVSaWdodFBvc1kgLSB0aGlzLmV5ZUJsdWVSaWdodC5wb3NpdGlvbi55KSAvIHNwZWVkO1xuICAgIHRoaXMuZXllQmx1ZUxlZnQucG9zaXRpb24ueSArPSAoZXllQmx1ZUxlZnRQb3NZIC0gdGhpcy5leWVCbHVlTGVmdC5wb3NpdGlvbi55KSAvIHNwZWVkO1xuXG4gICAgdGhpcy5leWVCcm93UmlnaHQucG9zaXRpb24ueSArPSAoZXllQnJvd1JpZ2h0UG9zWSAtIHRoaXMuZXllQnJvd1JpZ2h0LnBvc2l0aW9uLnkpIC8gc3BlZWQ7XG4gICAgdGhpcy5leWVCcm93TGVmdC5wb3NpdGlvbi55ICs9IChleWVCcm93TGVmdFBvc1kgLSB0aGlzLmV5ZUJyb3dMZWZ0LnBvc2l0aW9uLnkpIC8gc3BlZWQ7XG4gIH1cblxuICBpZGxlKHhUYXJnZXQgPSAwLCB5VGFyZ2V0ID0gMCkge1xuICAgIGxldCBkaXN0YW5jZSA9IDE7XG5cbiAgICB0aGlzLmhlYWQucm90YXRpb24ueiA9IE1hdGguc2luKERhdGUubm93KCkgKiAwLjAwNSkgKiBNYXRoLlBJICogMC4wMDU7XG4gICAgdGhpcy5oZWFkLnJvdGF0aW9uLnggPSBNYXRoLnNpbihEYXRlLm5vdygpICogMC4wMDQpICogTWF0aC5QSSAqIDAuMDM7XG5cbiAgICBjb25zdCBleWVCbHVlUmlnaHRQb3NYID0gdGhpcy5ub3JtYWxpemUoeFRhcmdldCwgLTIwMCwgMjAwLCAtMC42LCAwLjYpO1xuICAgIGNvbnN0IGV5ZUJsdWVMZWZ0UG9zWCA9IHRoaXMubm9ybWFsaXplKHhUYXJnZXQsIC0yMDAsIDIwMCwgLTAuNiwgMC42KTtcblxuICAgIGNvbnN0IGV5ZUJsdWVSaWdodFBvc1kgPSB0aGlzLm5vcm1hbGl6ZSh5VGFyZ2V0LCAtMjAwLCAyMDAsIDAuNiwgLTAuNik7XG4gICAgY29uc3QgZXllQmx1ZUxlZnRQb3NZID0gdGhpcy5ub3JtYWxpemUoeVRhcmdldCwgLTIwMCwgMjAwLCAwLjYsIC0wLjYpO1xuXG4gICAgY29uc3QgZXllQnJvd1JpZ2h0UG9zWSA9IHRoaXMubm9ybWFsaXplKHhUYXJnZXQsIC0yMDAsIDIwMCwgLTEsIDAuOCk7XG4gICAgY29uc3QgZXllQnJvd0xlZnRQb3NZID0gdGhpcy5ub3JtYWxpemUoeFRhcmdldCwgLTIwMCwgMjAwLCAtMSwgMC44KTtcblxuICAgIHRoaXMubW91c3RhY2hlLnBvc2l0aW9uLnkgPSBNYXRoLmNvcyhEYXRlLm5vdygpICogMC4wMSkgKiBkaXN0YW5jZSAvIDQ7XG4gICAgdGhpcy5tb3VzdGFjaGUucm90YXRpb24ueiA9IE1hdGguc2luKERhdGUubm93KCkgKiAwLjAxKSAqIE1hdGguUEkgKiAwLjAxO1xuXG4gICAgdGhpcy5tZXNoLnJvdGF0aW9uLnkgPSBNYXRoLnNpbihEYXRlLm5vdygpICogMC4wMDIpICogTWF0aC5QSSAqIDAuMDU7XG4gICAgdGhpcy51cGRhdGVCb2R5KDEwLCBleWVCbHVlUmlnaHRQb3NYLCBleWVCbHVlTGVmdFBvc1gsIGV5ZUJsdWVSaWdodFBvc1ksIGV5ZUJsdWVMZWZ0UG9zWSwgZXllQnJvd1JpZ2h0UG9zWSwgZXllQnJvd0xlZnRQb3NZKTtcbiAgfVxuXG4gIEJlYXJkKCkge1xuICAgIGxldCBiZWFyZEdlb21NZXJnZWQgPSBuZXcgVEhSRUUuR2VvbWV0cnkoKTtcblxuICAgIGxldCBiZWFyZDFHZW9tID0gbmV3IFRIUkVFLkJveEdlb21ldHJ5KDIsIDEwLCAxNik7XG5cbiAgICBsZXQgYmVhcmQxID0gbmV3IFRIUkVFLk1lc2goYmVhcmQxR2VvbSwgTWF0LndoaXRlTWF0KTtcbiAgICBiZWFyZDEuYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlVHJhbnNsYXRpb24oOSwgMCwgMCkpO1xuICAgIGJlYXJkMS51cGRhdGVNYXRyaXgoKTtcbiAgICBiZWFyZEdlb21NZXJnZWQubWVyZ2UoYmVhcmQxLmdlb21ldHJ5LCBiZWFyZDEubWF0cml4KTtcblxuICAgIGxldCBiZWFyZDIgPSBuZXcgVEhSRUUuTWVzaChiZWFyZDFHZW9tLCBNYXQud2hpdGVNYXQpO1xuICAgIGJlYXJkMi5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VUcmFuc2xhdGlvbig3LCAtMiwgMikpO1xuICAgIGJlYXJkMi5zY2FsZS56ID0gMC44O1xuICAgIGJlYXJkMi51cGRhdGVNYXRyaXgoKTtcbiAgICBiZWFyZEdlb21NZXJnZWQubWVyZ2UoYmVhcmQyLmdlb21ldHJ5LCBiZWFyZDIubWF0cml4KTtcblxuICAgIGxldCBiZWFyZDMgPSBiZWFyZDEuY2xvbmUoKTtcbiAgICBiZWFyZDMucG9zaXRpb24ueCA9IC1iZWFyZDEucG9zaXRpb24ueDtcbiAgICBiZWFyZDMudXBkYXRlTWF0cml4KCk7XG4gICAgYmVhcmRHZW9tTWVyZ2VkLm1lcmdlKGJlYXJkMy5nZW9tZXRyeSwgYmVhcmQzLm1hdHJpeCk7XG5cbiAgICBsZXQgYmVhcmQ0ID0gYmVhcmQyLmNsb25lKCk7XG4gICAgYmVhcmQ0LnBvc2l0aW9uLnggPSAtYmVhcmQyLnBvc2l0aW9uLng7XG4gICAgYmVhcmQ0LnVwZGF0ZU1hdHJpeCgpO1xuICAgIGJlYXJkR2VvbU1lcmdlZC5tZXJnZShiZWFyZDQuZ2VvbWV0cnksIGJlYXJkNC5tYXRyaXgpO1xuXG4gICAgbGV0IGJlYXJkMkdlb20gPSBuZXcgVEhSRUUuQm94R2VvbWV0cnkoMywgMTQsIDEwKTtcbiAgICBiZWFyZDJHZW9tLnZlcnRpY2VzWzJdLnogLT0gMjtcbiAgICBiZWFyZDJHZW9tLnZlcnRpY2VzWzddLnogLT0gMjtcblxuICAgIGxldCBiZWFyZDUgPSBuZXcgVEhSRUUuTWVzaChiZWFyZDJHZW9tLCBNYXQud2hpdGVNYXQpO1xuICAgIGJlYXJkNS5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VUcmFuc2xhdGlvbig1LCAtNSwgNCkpO1xuICAgIGJlYXJkNS51cGRhdGVNYXRyaXgoKTtcbiAgICBiZWFyZEdlb21NZXJnZWQubWVyZ2UoYmVhcmQ1Lmdlb21ldHJ5LCBiZWFyZDUubWF0cml4KTtcblxuICAgIGxldCBiZWFyZDNHZW9tID0gbmV3IFRIUkVFLkJveEdlb21ldHJ5KDIuNSwgMTQsIDEwKTtcbiAgICBiZWFyZDNHZW9tLnZlcnRpY2VzWzJdLnogLT0gMjtcbiAgICBiZWFyZDNHZW9tLnZlcnRpY2VzWzddLnogLT0gMjtcblxuICAgIGxldCBiZWFyZDYgPSBuZXcgVEhSRUUuTWVzaChiZWFyZDNHZW9tLCBNYXQud2hpdGVNYXQpO1xuICAgIGJlYXJkNi5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VUcmFuc2xhdGlvbigyLjUsIC02LCA2KSk7XG4gICAgYmVhcmQ2LnVwZGF0ZU1hdHJpeCgpO1xuICAgIGJlYXJkR2VvbU1lcmdlZC5tZXJnZShiZWFyZDYuZ2VvbWV0cnksIGJlYXJkNi5tYXRyaXgpO1xuXG4gICAgbGV0IGJlYXJkNyA9IGJlYXJkNS5jbG9uZSgpO1xuICAgIGJlYXJkNy5wb3NpdGlvbi54ID0gLWJlYXJkNS5wb3NpdGlvbi54O1xuICAgIGJlYXJkNy51cGRhdGVNYXRyaXgoKTtcbiAgICBiZWFyZEdlb21NZXJnZWQubWVyZ2UoYmVhcmQ3Lmdlb21ldHJ5LCBiZWFyZDcubWF0cml4KTtcblxuICAgIGxldCBiZWFyZDggPSBiZWFyZDYuY2xvbmUoKTtcbiAgICBiZWFyZDgucG9zaXRpb24ueCA9IC1iZWFyZDYucG9zaXRpb24ueDtcbiAgICBiZWFyZDgudXBkYXRlTWF0cml4KCk7XG4gICAgYmVhcmRHZW9tTWVyZ2VkLm1lcmdlKGJlYXJkOC5nZW9tZXRyeSwgYmVhcmQ4Lm1hdHJpeCk7XG5cbiAgICBsZXQgYmVhcmQ0R2VvbSA9IG5ldyBUSFJFRS5Cb3hHZW9tZXRyeSgyLjUsIDE0LjUsIDEwKTtcbiAgICBiZWFyZDRHZW9tLnZlcnRpY2VzWzJdLnogLT0gMTtcbiAgICBiZWFyZDRHZW9tLnZlcnRpY2VzWzddLnogLT0gMTtcblxuICAgIGxldCBiZWFyZDkgPSBuZXcgVEhSRUUuTWVzaChiZWFyZDRHZW9tLCBNYXQud2hpdGVNYXQpO1xuICAgIGJlYXJkOS5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VUcmFuc2xhdGlvbigwLCAtNywgNS43NSkpO1xuICAgIGJlYXJkOS51cGRhdGVNYXRyaXgoKTtcbiAgICBiZWFyZEdlb21NZXJnZWQubWVyZ2UoYmVhcmQ5Lmdlb21ldHJ5LCBiZWFyZDkubWF0cml4KTtcblxuICAgIGxldCBiZWFyZDVHZW9tID0gbmV3IFRIUkVFLkJveEdlb21ldHJ5KDQsIDgsIDgpO1xuICAgIGxldCBiZWFyZDEwID0gbmV3IFRIUkVFLk1lc2goYmVhcmQ1R2VvbSwgTWF0LndoaXRlTWF0KTtcbiAgICBiZWFyZDEwLmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVRyYW5zbGF0aW9uKC02LCAtMSwgLTIpKTtcbiAgICBiZWFyZDEwLnVwZGF0ZU1hdHJpeCgpO1xuICAgIGJlYXJkR2VvbU1lcmdlZC5tZXJnZShiZWFyZDEwLmdlb21ldHJ5LCBiZWFyZDEwLm1hdHJpeCk7XG5cbiAgICBsZXQgYmVhcmQxMSA9IG5ldyBUSFJFRS5NZXNoKGJlYXJkNUdlb20sIE1hdC53aGl0ZU1hdCk7XG4gICAgYmVhcmQxMS5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VUcmFuc2xhdGlvbigwLCAtNSwgLTIpKTtcbiAgICBiZWFyZDExLnVwZGF0ZU1hdHJpeCgpO1xuICAgIGJlYXJkR2VvbU1lcmdlZC5tZXJnZShiZWFyZDExLmdlb21ldHJ5LCBiZWFyZDExLm1hdHJpeCk7XG5cbiAgICBsZXQgYmVhcmRNZXJnZWQgPSBuZXcgVEhSRUUuTWVzaChiZWFyZEdlb21NZXJnZWQsIE1hdC53aGl0ZU1hdCk7XG4gICAgYmVhcmRNZXJnZWQuY2FzdFNoYWRvdyA9IHRydWU7XG4gICAgYmVhcmRNZXJnZWQucmVjZWl2ZVNoYWRvdyA9IHRydWU7XG5cbiAgICBsZXQgbW91dGhHZW9tID0gbmV3IFRIUkVFLkJveEdlb21ldHJ5KDEwLCA0LCAxKTtcbiAgICBsZXQgbW91dGggPSBuZXcgVEhSRUUuTWVzaChtb3V0aEdlb20sIE1hdC5ibGFja01hdCk7XG4gICAgbW91dGgucG9zaXRpb24uc2V0KDAsIDIsIDgpO1xuICAgIG1vdXRoLmNhc3RTaGFkb3cgPSBmYWxzZTtcbiAgICBtb3V0aC5yZWNlaXZlU2hhZG93ID0gdHJ1ZTtcblxuICAgIGxldCB0ZWV0aEdlb20gPSBuZXcgVEhSRUUuQm94R2VvbWV0cnkoMTAsIDEsIDEpO1xuICAgIGxldCB0ZWV0aCA9IG5ldyBUSFJFRS5NZXNoKHRlZXRoR2VvbSwgTWF0LnRlZXRoTWF0KTtcbiAgICB0ZWV0aC5wb3NpdGlvbi5zZXQoMCwgMC41LCAwLjEpO1xuICAgIHRlZXRoLmNhc3RTaGFkb3cgPSBmYWxzZTtcbiAgICB0ZWV0aC5yZWNlaXZlU2hhZG93ID0gdHJ1ZTtcbiAgICBtb3V0aC5hZGQodGVldGgpXG5cbiAgICB0aGlzLmJlYXJkLmFkZChiZWFyZE1lcmdlZCwgbW91dGgpO1xuXG4gICAgbGV0IG1vdXN0YWNoZUdlb20gPSBuZXcgVEhSRUUuQm94R2VvbWV0cnkoMTQsIDMsIDMsIDMpO1xuICAgIG1vdXN0YWNoZUdlb20udmVydGljZXNbMF0ueSAtPSAyO1xuICAgIG1vdXN0YWNoZUdlb20udmVydGljZXNbMV0ueSAtPSAyO1xuICAgIG1vdXN0YWNoZUdlb20udmVydGljZXNbMl0ueSAtPSAyO1xuICAgIG1vdXN0YWNoZUdlb20udmVydGljZXNbM10ueSAtPSAyO1xuICAgIG1vdXN0YWNoZUdlb20udmVydGljZXNbNF0ueSAtPSAyO1xuICAgIG1vdXN0YWNoZUdlb20udmVydGljZXNbNV0ueSAtPSAyO1xuICAgIG1vdXN0YWNoZUdlb20udmVydGljZXNbNl0ueSAtPSAyO1xuICAgIG1vdXN0YWNoZUdlb20udmVydGljZXNbN10ueSAtPSAyO1xuICAgIG1vdXN0YWNoZUdlb20udmVydGljZXNbOF0ueCAtPSAxO1xuICAgIG1vdXN0YWNoZUdlb20udmVydGljZXNbOV0ueCArPSAxO1xuXG4gICAgbW91c3RhY2hlR2VvbS5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VUcmFuc2xhdGlvbigwLCA0LCAwKSk7XG4gICAgdGhpcy5tb3VzdGFjaGUgPSBuZXcgVEhSRUUuTWVzaChtb3VzdGFjaGVHZW9tLCBNYXQud2hpdGVNYXQpO1xuICAgIHRoaXMubW91c3RhY2hlLmNhc3RTaGFkb3cgPSB0cnVlO1xuICAgIHRoaXMubW91c3RhY2hlLnJlY2VpdmVTaGFkb3cgPSB0cnVlO1xuXG4gICAgdGhpcy5tb3VzdGFjaGUucG9zaXRpb24uc2V0KDAsIDAsIDkpO1xuICAgIHRoaXMuYmVhcmQuYWRkKHRoaXMubW91c3RhY2hlKTtcbiAgfVxuXG4gIEdsYXNzZXMoKSB7XG5cbiAgICB0aGlzLmdsYXNzZXMgPSBuZXcgVEhSRUUuT2JqZWN0M0QoKTtcbiAgICB0aGlzLmdsYXNzZXMucG9zaXRpb24uc2V0KDAsIDAsIDkpO1xuICAgIHRoaXMuaGVhZC5hZGQodGhpcy5nbGFzc2VzKTtcbiAgICBsZXQgZ2xhc3Nlc01hdCA9IG5ldyBUSFJFRS5NZXNoUGhvbmdNYXRlcmlhbCh7Y29sb3I6IENvbG9ycy5nbGFzc2VzLCBmbGF0U2hhZGluZzogdHJ1ZX0pO1xuXG4gICAgbGV0IGZyYW1lR2VvbU1lcmdlZCA9IG5ldyBUSFJFRS5HZW9tZXRyeSgpO1xuXG4gICAgbGV0IGZyYW1lT3V0ZXJHZW9tID0gbmV3IFRIUkVFLkN5bGluZGVyR2VvbWV0cnkoMywgMywgMC41LCAzMilcbiAgICBsZXQgZnJhbWVJbm5lckdlb20gPSBuZXcgVEhSRUUuQ3lsaW5kZXJHZW9tZXRyeSgyLjcsIDIuNywgMC41LCAzMilcblxuICAgIGZyYW1lT3V0ZXJHZW9tLmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVJvdGF0aW9uWCgtTWF0aC5QSSAvIDIpKTtcbiAgICBmcmFtZUlubmVyR2VvbS5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VSb3RhdGlvblgoLU1hdGguUEkgLyAyKSk7XG5cbiAgICBsZXQgZnJhbWVCU1AgPSBuZXcgVGhyZWVCU1AoZnJhbWVPdXRlckdlb20pO1xuICAgIGxldCBmcmFtZUN1dEJTUCA9IG5ldyBUaHJlZUJTUChmcmFtZUlubmVyR2VvbSk7XG5cbiAgICBsZXQgZnJhbWVpbnRlcnNlY3Rpb25CU1AgPSBmcmFtZUJTUC5zdWJ0cmFjdChmcmFtZUN1dEJTUCk7XG4gICAgbGV0IGZyYW1lTGVmdCA9IGZyYW1laW50ZXJzZWN0aW9uQlNQLnRvTWVzaChnbGFzc2VzTWF0KTtcblxuICAgIGZyYW1lTGVmdC5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VUcmFuc2xhdGlvbig0LCAzLCAwKSk7XG4gICAgZnJhbWVMZWZ0LnVwZGF0ZU1hdHJpeCgpO1xuICAgIGZyYW1lR2VvbU1lcmdlZC5tZXJnZShmcmFtZUxlZnQuZ2VvbWV0cnksIGZyYW1lTGVmdC5tYXRyaXgpO1xuXG4gICAgbGV0IGZyYW1lUmlnaHQgPSBmcmFtZUxlZnQuY2xvbmUoKTtcbiAgICBmcmFtZVJpZ2h0LmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVJvdGF0aW9uWihNYXRoLlBJIC8gMzApKTtcbiAgICBmcmFtZVJpZ2h0LmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVRyYW5zbGF0aW9uKC03LjUsIC0wLjI1LCAwKSk7XG4gICAgZnJhbWVSaWdodC51cGRhdGVNYXRyaXgoKTtcbiAgICBmcmFtZUdlb21NZXJnZWQubWVyZ2UoZnJhbWVSaWdodC5nZW9tZXRyeSwgZnJhbWVSaWdodC5tYXRyaXgpO1xuXG4gICAgbGV0IGZyYW1lTWlkR2VvbSA9IG5ldyBUSFJFRS5Cb3hHZW9tZXRyeSgyLCAuMywgLjUpO1xuICAgIGxldCBmcmFtZU1pZCA9IG5ldyBUSFJFRS5NZXNoKGZyYW1lTWlkR2VvbSwgZ2xhc3Nlc01hdCk7XG4gICAgZnJhbWVNaWQuYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlVHJhbnNsYXRpb24oMCwgMy4zLCAtMC4zKSk7XG4gICAgZnJhbWVNaWQudXBkYXRlTWF0cml4KCk7XG4gICAgZnJhbWVHZW9tTWVyZ2VkLm1lcmdlKGZyYW1lTWlkLmdlb21ldHJ5LCBmcmFtZU1pZC5tYXRyaXgpO1xuXG4gICAgbGV0IGZyYW1lRW5kR2VvbSA9IG5ldyBUSFJFRS5Cb3hHZW9tZXRyeSgxLjUsIC41LCAxKTtcbiAgICBsZXQgZnJhbWVFbmRSaWdodCA9IG5ldyBUSFJFRS5NZXNoKGZyYW1lRW5kR2VvbSwgZ2xhc3Nlc01hdCk7XG4gICAgZnJhbWVFbmRSaWdodC5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VUcmFuc2xhdGlvbig3LjUsIDMsIDApKTtcbiAgICBmcmFtZUVuZFJpZ2h0LnVwZGF0ZU1hdHJpeCgpO1xuICAgIGZyYW1lR2VvbU1lcmdlZC5tZXJnZShmcmFtZUVuZFJpZ2h0Lmdlb21ldHJ5LCBmcmFtZUVuZFJpZ2h0Lm1hdHJpeCk7XG5cbiAgICBsZXQgZnJhbWVFbmRMZWZ0ID0gZnJhbWVFbmRSaWdodC5jbG9uZSgpO1xuICAgIGZyYW1lRW5kTGVmdC5wb3NpdGlvbi54ID0gLWZyYW1lRW5kUmlnaHQucG9zaXRpb24ueDtcbiAgICBmcmFtZUVuZExlZnQudXBkYXRlTWF0cml4KCk7XG4gICAgZnJhbWVHZW9tTWVyZ2VkLm1lcmdlKGZyYW1lRW5kTGVmdC5nZW9tZXRyeSwgZnJhbWVFbmRMZWZ0Lm1hdHJpeCk7XG5cbiAgICBsZXQgZnJhbWVTcG9rZUdlb20gPSBuZXcgVEhSRUUuQm94R2VvbWV0cnkoMSwgMC41LCAxMik7XG4gICAgbGV0IGZyYW1lU3Bva2VSaWdodCA9IG5ldyBUSFJFRS5NZXNoKGZyYW1lU3Bva2VHZW9tLCBnbGFzc2VzTWF0KTtcbiAgICBmcmFtZVNwb2tlUmlnaHQuYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlVHJhbnNsYXRpb24oOCwgMywgLTUuNSkpO1xuICAgIGZyYW1lU3Bva2VSaWdodC51cGRhdGVNYXRyaXgoKTtcbiAgICBmcmFtZUdlb21NZXJnZWQubWVyZ2UoZnJhbWVTcG9rZVJpZ2h0Lmdlb21ldHJ5LCBmcmFtZVNwb2tlUmlnaHQubWF0cml4KTtcblxuICAgIGxldCBmcmFtZVNwb2tlTGVmdCA9IGZyYW1lU3Bva2VSaWdodC5jbG9uZSgpO1xuICAgIGZyYW1lU3Bva2VMZWZ0LnBvc2l0aW9uLnggPSAtZnJhbWVTcG9rZVJpZ2h0LnBvc2l0aW9uLng7XG4gICAgZnJhbWVTcG9rZUxlZnQudXBkYXRlTWF0cml4KCk7XG4gICAgZnJhbWVHZW9tTWVyZ2VkLm1lcmdlKGZyYW1lU3Bva2VMZWZ0Lmdlb21ldHJ5LCBmcmFtZVNwb2tlTGVmdC5tYXRyaXgpO1xuXG4gICAgbGV0IGZyYW1lTWVyZ2VkID0gbmV3IFRIUkVFLk1lc2goZnJhbWVHZW9tTWVyZ2VkLCBnbGFzc2VzTWF0KTtcbiAgICBmcmFtZU1lcmdlZC5jYXN0U2hhZG93ID0gZmFsc2U7XG4gICAgZnJhbWVNZXJnZWQucmVjZWl2ZVNoYWRvdyA9IHRydWU7XG5cbiAgICB0aGlzLmdsYXNzZXMuYWRkKGZyYW1lTWVyZ2VkKTtcblxuICB9XG5cbiAgSGFpcigpIHtcblxuICAgIHRoaXMuaGFpciA9IG5ldyBUSFJFRS5PYmplY3QzRCgpO1xuICAgIHRoaXMuaGFpci5wb3NpdGlvbi5zZXQoMCwgOSwgMCk7XG4gICAgdGhpcy5oZWFkLmFkZCh0aGlzLmhhaXIpO1xuXG4gICAgbGV0IGhhaXJHZW9tTWVyZ2VkID0gbmV3IFRIUkVFLkdlb21ldHJ5KCk7XG5cbiAgICBsZXQgaGFpckZsYXRHZW9tID0gbmV3IFRIUkVFLkJveEdlb21ldHJ5KDEwLCAyLCAxOCk7XG5cbiAgICBsZXQgaGFpcjEgPSBuZXcgVEhSRUUuTWVzaChoYWlyRmxhdEdlb20sIE1hdC53aGl0ZU1hdCk7XG4gICAgaGFpcjEuYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlUm90YXRpb25aKC1NYXRoLlBJIC8gNDApKTtcbiAgICBoYWlyMS5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VUcmFuc2xhdGlvbigtNCwgLTAuNSwgMCkpO1xuICAgIGhhaXIxLnVwZGF0ZU1hdHJpeCgpO1xuICAgIGhhaXJHZW9tTWVyZ2VkLm1lcmdlKGhhaXIxLmdlb21ldHJ5LCBoYWlyMS5tYXRyaXgpO1xuXG4gICAgbGV0IGhhaXIyID0gbmV3IFRIUkVFLk1lc2goaGFpckZsYXRHZW9tLCBNYXQud2hpdGVNYXQpO1xuICAgIGhhaXIyLmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVJvdGF0aW9uWigtTWF0aC5QSSAvIDEwKSk7XG4gICAgaGFpcjIuYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlVHJhbnNsYXRpb24oLTIsIDEsIDApKTtcbiAgICBoYWlyMi51cGRhdGVNYXRyaXgoKTtcbiAgICBoYWlyR2VvbU1lcmdlZC5tZXJnZShoYWlyMi5nZW9tZXRyeSwgaGFpcjIubWF0cml4KTtcblxuICAgIGxldCBoYWlyMyA9IG5ldyBUSFJFRS5NZXNoKGhhaXJGbGF0R2VvbSwgTWF0LndoaXRlTWF0KTtcbiAgICBoYWlyMy5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VSb3RhdGlvblooLU1hdGguUEkgLyA1KSk7XG4gICAgaGFpcjMuYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlVHJhbnNsYXRpb24oMiwgMSwgMCkpO1xuICAgIGhhaXIzLnVwZGF0ZU1hdHJpeCgpO1xuICAgIGhhaXJHZW9tTWVyZ2VkLm1lcmdlKGhhaXIzLmdlb21ldHJ5LCBoYWlyMy5tYXRyaXgpO1xuXG4gICAgbGV0IGhhaXI0ID0gbmV3IFRIUkVFLk1lc2goaGFpckZsYXRHZW9tLCBNYXQud2hpdGVNYXQpO1xuICAgIGhhaXI0LmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVJvdGF0aW9uWigtTWF0aC5QSSAvIDQpKTtcbiAgICBoYWlyNC5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VUcmFuc2xhdGlvbig2LCAwLCAwKSk7XG4gICAgaGFpcjQudXBkYXRlTWF0cml4KCk7XG4gICAgaGFpckdlb21NZXJnZWQubWVyZ2UoaGFpcjQuZ2VvbWV0cnksIGhhaXI0Lm1hdHJpeCk7XG5cbiAgICBsZXQgaGFpcjYgPSBuZXcgVEhSRUUuTWVzaChoYWlyRmxhdEdlb20sIE1hdC53aGl0ZU1hdCk7XG4gICAgaGFpcjYuYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlUm90YXRpb25aKC1NYXRoLlBJIC8gLTMpKTtcbiAgICBoYWlyNi5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VUcmFuc2xhdGlvbigtNy43NSwgLS41LCAwKSk7XG4gICAgaGFpcjYudXBkYXRlTWF0cml4KCk7XG4gICAgaGFpckdlb21NZXJnZWQubWVyZ2UoaGFpcjYuZ2VvbWV0cnksIGhhaXI2Lm1hdHJpeCk7XG5cbiAgICBsZXQgaGFpckZsYXRCYWNrR2VvbSA9IG5ldyBUSFJFRS5Cb3hHZW9tZXRyeSgxOCwgNywgNik7XG4gICAgaGFpckZsYXRCYWNrR2VvbS52ZXJ0aWNlc1swXS54IC09IDE7XG4gICAgaGFpckZsYXRCYWNrR2VvbS52ZXJ0aWNlc1sxXS54IC09IDE7XG4gICAgaGFpckZsYXRCYWNrR2VvbS52ZXJ0aWNlc1s0XS54ICs9IDE7XG4gICAgaGFpckZsYXRCYWNrR2VvbS52ZXJ0aWNlc1s1XS54ICs9IDE7XG5cbiAgICBsZXQgaGFpcjUgPSBuZXcgVEhSRUUuTWVzaChoYWlyRmxhdEJhY2tHZW9tLCBNYXQud2hpdGVNYXQpO1xuICAgIGhhaXI1LmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVRyYW5zbGF0aW9uKDAsIC00LjUsIC02KSk7XG4gICAgaGFpcjUudXBkYXRlTWF0cml4KCk7XG4gICAgaGFpckdlb21NZXJnZWQubWVyZ2UoaGFpcjUuZ2VvbWV0cnksIGhhaXI1Lm1hdHJpeCk7XG5cbiAgICBsZXQgaGFpck1lcmdlZCA9IG5ldyBUSFJFRS5NZXNoKGhhaXJHZW9tTWVyZ2VkLCBNYXQud2hpdGVNYXQpO1xuICAgIGhhaXJNZXJnZWQuY2FzdFNoYWRvdyA9IGZhbHNlO1xuICAgIGhhaXJNZXJnZWQucmVjZWl2ZVNoYWRvdyA9IHRydWU7XG5cbiAgICB0aGlzLmhhaXIuYWRkKGhhaXJNZXJnZWQpO1xuXG4gIH1cblxuICBFeWVzKCkge1xuXG4gICAgdGhpcy5leWVzID0gbmV3IFRIUkVFLk9iamVjdDNEKCk7XG4gICAgdGhpcy5leWVzLnBvc2l0aW9uLnNldCgwLCAzLCA5KTtcbiAgICB0aGlzLmhlYWQuYWRkKHRoaXMuZXllcyk7XG5cbiAgICBsZXQgZXllV2hpdGVHZW9tID0gbmV3IFRIUkVFLlBsYW5lR2VvbWV0cnkoMi41LCAyLjUpO1xuXG4gICAgbGV0IGV5ZVdoaXRlUmlnaHQgPSBuZXcgVEhSRUUuTWVzaChleWVXaGl0ZUdlb20sIE1hdC53aGl0ZU1hdCk7XG4gICAgZXllV2hpdGVSaWdodC5wb3NpdGlvbi5zZXQoLTMuNzUsIDAsIDApO1xuICAgIGV5ZVdoaXRlUmlnaHQuY2FzdFNoYWRvdyA9IGZhbHNlO1xuICAgIGV5ZVdoaXRlUmlnaHQucmVjZWl2ZVNoYWRvdyA9IGZhbHNlO1xuXG4gICAgbGV0IGV5ZUJsdWVHZW9tID0gbmV3IFRIUkVFLlBsYW5lR2VvbWV0cnkoMS41LCAxLjUpO1xuXG4gICAgbGV0IGV5ZU1hdCA9IG5ldyBUSFJFRS5NZXNoUGhvbmdNYXRlcmlhbCh7Y29sb3I6IENvbG9ycy5leWUsIGZsYXRTaGFkaW5nOiB0cnVlfSk7XG5cbiAgICB0aGlzLmV5ZUJsdWVSaWdodCA9IG5ldyBUSFJFRS5NZXNoKGV5ZUJsdWVHZW9tLCBleWVNYXQpO1xuICAgIHRoaXMuZXllQmx1ZVJpZ2h0LnBvc2l0aW9uLnNldCgwLCAwLCAuMDEpO1xuICAgIHRoaXMuZXllQmx1ZVJpZ2h0LmNhc3RTaGFkb3cgPSBmYWxzZTtcbiAgICB0aGlzLmV5ZUJsdWVSaWdodC5yZWNlaXZlU2hhZG93ID0gZmFsc2U7XG5cbiAgICBleWVXaGl0ZVJpZ2h0LmFkZCh0aGlzLmV5ZUJsdWVSaWdodCk7XG5cbiAgICBsZXQgZXllUHVwaWxHZW9tID0gbmV3IFRIUkVFLlBsYW5lR2VvbWV0cnkoMSwgMSk7XG5cbiAgICB0aGlzLmV5ZVB1cGlsUmlnaHQgPSBuZXcgVEhSRUUuTWVzaChleWVQdXBpbEdlb20sIE1hdC5ibGFja01hdCk7XG4gICAgdGhpcy5leWVQdXBpbFJpZ2h0LnBvc2l0aW9uLnNldCgwLCAwLCAuMDIpO1xuICAgIHRoaXMuZXllUHVwaWxSaWdodC5jYXN0U2hhZG93ID0gZmFsc2U7XG4gICAgdGhpcy5leWVQdXBpbFJpZ2h0LnJlY2VpdmVTaGFkb3cgPSBmYWxzZTtcblxuICAgIHRoaXMuZXllQmx1ZVJpZ2h0LmFkZCh0aGlzLmV5ZVB1cGlsUmlnaHQpO1xuXG4gICAgbGV0IGV5ZVdoaXRlTGVmdCA9IG5ldyBUSFJFRS5NZXNoKGV5ZVdoaXRlR2VvbSwgTWF0LndoaXRlTWF0KTtcbiAgICBleWVXaGl0ZUxlZnQucG9zaXRpb24uc2V0KDMuNzUsIDAsIDApO1xuICAgIGV5ZVdoaXRlTGVmdC5jYXN0U2hhZG93ID0gZmFsc2U7XG4gICAgZXllV2hpdGVMZWZ0LnJlY2VpdmVTaGFkb3cgPSBmYWxzZTtcblxuICAgIHRoaXMuZXllQmx1ZUxlZnQgPSBuZXcgVEhSRUUuTWVzaChleWVCbHVlR2VvbSwgZXllTWF0KTtcbiAgICB0aGlzLmV5ZUJsdWVMZWZ0LnBvc2l0aW9uLnNldCgwLCAwLCAuMDEpO1xuICAgIHRoaXMuZXllQmx1ZUxlZnQuY2FzdFNoYWRvdyA9IGZhbHNlO1xuICAgIHRoaXMuZXllQmx1ZUxlZnQucmVjZWl2ZVNoYWRvdyA9IGZhbHNlO1xuXG4gICAgZXllV2hpdGVMZWZ0LmFkZCh0aGlzLmV5ZUJsdWVMZWZ0KTtcblxuICAgIHRoaXMuZXllUHVwaWxMZWZ0ID0gbmV3IFRIUkVFLk1lc2goZXllUHVwaWxHZW9tLCBNYXQuYmxhY2tNYXQpO1xuICAgIHRoaXMuZXllUHVwaWxMZWZ0LnBvc2l0aW9uLnNldCgwLCAwLCAuMDIpO1xuICAgIHRoaXMuZXllUHVwaWxMZWZ0LmNhc3RTaGFkb3cgPSBmYWxzZTtcbiAgICB0aGlzLmV5ZVB1cGlsTGVmdC5yZWNlaXZlU2hhZG93ID0gZmFsc2U7XG5cbiAgICB0aGlzLmV5ZUJsdWVMZWZ0LmFkZCh0aGlzLmV5ZVB1cGlsTGVmdCk7XG5cbiAgICB0aGlzLmV5ZXMuYWRkKGV5ZVdoaXRlUmlnaHQsIGV5ZVdoaXRlTGVmdCk7XG4gIH1cblxuICBFeWVCcm93cygpIHtcbiAgICB0aGlzLmV5ZUJyb3dzID0gbmV3IFRIUkVFLk9iamVjdDNEKCk7XG4gICAgdGhpcy5leWVCcm93cy5wb3NpdGlvbi5zZXQoMCwgNiwgOCk7XG4gICAgdGhpcy5oZWFkLmFkZCh0aGlzLmV5ZUJyb3dzKTtcblxuICAgIGxldCBleWVCcm93R2VvbSA9IG5ldyBUSFJFRS5Cb3hHZW9tZXRyeSg0LCAxLCAxKTtcblxuICAgIHRoaXMuZXllQnJvd1JpZ2h0ID0gbmV3IFRIUkVFLk1lc2goZXllQnJvd0dlb20sIE1hdC53aGl0ZU1hdCk7XG4gICAgdGhpcy5leWVCcm93UmlnaHQuYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlUm90YXRpb25aKE1hdGguUEkgLyA0NSkpO1xuICAgIHRoaXMuZXllQnJvd1JpZ2h0LnBvc2l0aW9uLnNldCgtMy43NSwgMCwgMCk7XG4gICAgdGhpcy5leWVCcm93UmlnaHQuY2FzdFNoYWRvdyA9IGZhbHNlO1xuICAgIHRoaXMuZXllQnJvd1JpZ2h0LnJlY2VpdmVTaGFkb3cgPSBmYWxzZTtcblxuICAgIHRoaXMuZXllQnJvd0xlZnQgPSBuZXcgVEhSRUUuTWVzaChleWVCcm93R2VvbSwgTWF0LndoaXRlTWF0KTtcbiAgICB0aGlzLmV5ZUJyb3dMZWZ0LmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVJvdGF0aW9uWigtTWF0aC5QSSAvIDQ1KSk7XG4gICAgdGhpcy5leWVCcm93TGVmdC5wb3NpdGlvbi5zZXQoMy43NSwgMCwgMCk7XG4gICAgdGhpcy5leWVCcm93TGVmdC5jYXN0U2hhZG93ID0gZmFsc2U7XG4gICAgdGhpcy5leWVCcm93TGVmdC5yZWNlaXZlU2hhZG93ID0gZmFsc2U7XG5cbiAgICB0aGlzLmV5ZUJyb3dzLmFkZCh0aGlzLmV5ZUJyb3dSaWdodCwgdGhpcy5leWVCcm93TGVmdCk7XG4gIH1cblxuICBIYXQoKSB7XG4gICAgdGhpcy5oYXQgPSBuZXcgVEhSRUUuT2JqZWN0M0QoKTtcbiAgICB0aGlzLmhhdC5wb3NpdGlvbi5zZXQoLTAuMiwgMTEsIDIuNCk7XG4gICAgdGhpcy5oZWFkLmFkZCh0aGlzLmhhdCk7XG5cbiAgICBsZXQgaGF0TWF0ID0gbmV3IFRIUkVFLk1lc2hQaG9uZ01hdGVyaWFsKHtjb2xvcjogQ29sb3JzLmhhdCwgZmxhdFNoYWRpbmc6IHRydWV9KTtcblxuICAgIGxldCBiYW5kR2VvbSA9IG5ldyBUSFJFRS5Ub3J1c0dlb21ldHJ5KDksIDIsIDE2LCAxMDApO1xuICAgIGxldCBiaWdDb25lR2VvbSA9IG5ldyBUSFJFRS5DeWxpbmRlckdlb21ldHJ5KDEsIDExLCAxMiwgMTUpO1xuICAgIGxldCBzbWFsbENvbmVHZW9tID0gbmV3IFRIUkVFLkN5bGluZGVyR2VvbWV0cnkoMC44LCAzLCA5LCAzMik7XG4gICAgbGV0IGhhdERpbmdsZUdlb20gPSBuZXcgVEhSRUUuU3BoZXJlR2VvbWV0cnkoMS41LCA4LCA4KTtcblxuICAgIHRoaXMuYmFuZCA9IG5ldyBUSFJFRS5NZXNoKGJhbmRHZW9tLCBNYXQudGVldGhNYXQpO1xuICAgIHRoaXMuYmFuZC5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VSb3RhdGlvblgoTWF0aC5QSSAvIDIpKTtcbiAgICB0aGlzLmJhbmQucG9zaXRpb24uc2V0KDAsIDAsIDApO1xuICAgIHRoaXMuYmFuZC5jYXN0U2hhZG93ID0gZmFsc2U7XG4gICAgdGhpcy5iYW5kLnJlY2VpdmVTaGFkb3cgPSBmYWxzZTtcblxuICAgIHRoaXMuYmlnQ29uZSA9IG5ldyBUSFJFRS5NZXNoKGJpZ0NvbmVHZW9tLCBoYXRNYXQpO1xuICAgIHRoaXMuYmlnQ29uZS5wb3NpdGlvbi5zZXQoMCwgNiwgMCk7XG4gICAgdGhpcy5iaWdDb25lLmNhc3RTaGFkb3cgPSBmYWxzZTtcbiAgICB0aGlzLmJpZ0NvbmUucmVjZWl2ZVNoYWRvdyA9IGZhbHNlO1xuXG4gICAgdGhpcy5zbWFsbENvbmUgPSBuZXcgVEhSRUUuTWVzaChzbWFsbENvbmVHZW9tLCBoYXRNYXQpO1xuICAgIHRoaXMuc21hbGxDb25lLmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVJvdGF0aW9uWChNYXRoLlBJIC8gMikpO1xuICAgIHRoaXMuc21hbGxDb25lLmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVJvdGF0aW9uWShNYXRoLlBJIC8gMikpO1xuICAgIHRoaXMuc21hbGxDb25lLmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVJvdGF0aW9uWihNYXRoLlBJIC8gLTgpKTtcbiAgICB0aGlzLnNtYWxsQ29uZS5wb3NpdGlvbi5zZXQoNCwgNy44LCAtMSk7XG4gICAgdGhpcy5zbWFsbENvbmUuY2FzdFNoYWRvdyA9IGZhbHNlO1xuICAgIHRoaXMuc21hbGxDb25lLnJlY2VpdmVTaGFkb3cgPSBmYWxzZTtcblxuICAgIHRoaXMuaGF0RGluZ2xlID0gbmV3IFRIUkVFLk1lc2goaGF0RGluZ2xlR2VvbSwgTWF0LndoaXRlTWF0KTtcbiAgICB0aGlzLmhhdERpbmdsZS5wb3NpdGlvbi5zZXQoOSwgNS41LCAtMSk7XG4gICAgdGhpcy5oYXREaW5nbGUuY2FzdFNoYWRvdyA9IGZhbHNlO1xuICAgIHRoaXMuaGF0RGluZ2xlLnJlY2VpdmVTaGFkb3cgPSBmYWxzZTtcblxuICAgIHRoaXMuaGF0LmFkZCh0aGlzLmJhbmQsIHRoaXMuYmlnQ29uZSwgdGhpcy5zbWFsbENvbmUsIHRoaXMuaGF0RGluZ2xlKTtcbiAgfVxuXG4gIEZyZWNrbGVzKCkge1xuICAgIHRoaXMuZnJlY2tsZXMgPSBuZXcgVEhSRUUuT2JqZWN0M0QoKTtcbiAgICB0aGlzLmZyZWNrbGVzLnBvc2l0aW9uLnNldCgwLCAwLCA4KTtcbiAgICB0aGlzLmhlYWQuYWRkKHRoaXMuZnJlY2tsZXMpO1xuXG4gICAgbGV0IGZyZWNrbGVzTWF0ID0gbmV3IFRIUkVFLk1lc2hMYW1iZXJ0TWF0ZXJpYWwoe2NvbG9yOiBDb2xvcnMuZnJlY2tsZXMsIGZsYXRTaGFkaW5nOiB0cnVlfSk7XG4gICAgbGV0IGZyZWNrbGVzR2VvbU1lcmdlZCA9IG5ldyBUSFJFRS5HZW9tZXRyeSgpO1xuXG4gICAgbGV0IGZyZWNrbGVzR2VvbSA9IG5ldyBUSFJFRS5QbGFuZUdlb21ldHJ5KDAuNSwgMC41KTtcblxuICAgIGxldCBmcmVja2xlMSA9IG5ldyBUSFJFRS5NZXNoKGZyZWNrbGVzR2VvbSwgZnJlY2tsZXNNYXQpO1xuICAgIGZyZWNrbGUxLmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVRyYW5zbGF0aW9uKC01LCAwLCAwLjAxKSk7XG4gICAgZnJlY2tsZTEudXBkYXRlTWF0cml4KCk7XG4gICAgZnJlY2tsZXNHZW9tTWVyZ2VkLm1lcmdlKGZyZWNrbGUxLmdlb21ldHJ5LCBmcmVja2xlMS5tYXRyaXgpO1xuXG4gICAgbGV0IGZyZWNrbGUyID0gZnJlY2tsZTEuY2xvbmUoKTtcbiAgICBmcmVja2xlMi5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VUcmFuc2xhdGlvbigtMC41LCAtMSwgMCkpO1xuICAgIGZyZWNrbGUyLnVwZGF0ZU1hdHJpeCgpO1xuICAgIGZyZWNrbGVzR2VvbU1lcmdlZC5tZXJnZShmcmVja2xlMi5nZW9tZXRyeSwgZnJlY2tsZTIubWF0cml4KTtcblxuICAgIGxldCBmcmVja2xlMyA9IGZyZWNrbGUxLmNsb25lKCk7XG4gICAgZnJlY2tsZTMuYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlVHJhbnNsYXRpb24oMSwgLTAuNSwgMCkpO1xuICAgIGZyZWNrbGUzLnVwZGF0ZU1hdHJpeCgpO1xuICAgIGZyZWNrbGVzR2VvbU1lcmdlZC5tZXJnZShmcmVja2xlMy5nZW9tZXRyeSwgZnJlY2tsZTMubWF0cml4KTtcblxuICAgIGxldCBmcmVja2xlNCA9IGZyZWNrbGUxLmNsb25lKCk7XG4gICAgZnJlY2tsZTQucG9zaXRpb24ueCA9IC1mcmVja2xlMS5wb3NpdGlvbi54O1xuICAgIGZyZWNrbGU0LnVwZGF0ZU1hdHJpeCgpO1xuICAgIGZyZWNrbGVzR2VvbU1lcmdlZC5tZXJnZShmcmVja2xlNC5nZW9tZXRyeSwgZnJlY2tsZTQubWF0cml4KTtcbiAgICBsZXQgZnJlY2tsZTUgPSBmcmVja2xlMi5jbG9uZSgpO1xuICAgIGZyZWNrbGU1LnBvc2l0aW9uLnggPSAtZnJlY2tsZTIucG9zaXRpb24ueDtcbiAgICBmcmVja2xlNS51cGRhdGVNYXRyaXgoKTtcbiAgICBmcmVja2xlc0dlb21NZXJnZWQubWVyZ2UoZnJlY2tsZTUuZ2VvbWV0cnksIGZyZWNrbGU1Lm1hdHJpeCk7XG4gICAgbGV0IGZyZWNrbGU2ID0gZnJlY2tsZTMuY2xvbmUoKTtcbiAgICBmcmVja2xlNi5wb3NpdGlvbi54ID0gLWZyZWNrbGUzLnBvc2l0aW9uLng7XG4gICAgZnJlY2tsZTYudXBkYXRlTWF0cml4KCk7XG4gICAgZnJlY2tsZXNHZW9tTWVyZ2VkLm1lcmdlKGZyZWNrbGU2Lmdlb21ldHJ5LCBmcmVja2xlNi5tYXRyaXgpO1xuXG4gICAgbGV0IGZyZWNrbGVkTWVyZ2VkID0gbmV3IFRIUkVFLk1lc2goZnJlY2tsZXNHZW9tTWVyZ2VkLCBmcmVja2xlc01hdCk7XG4gICAgZnJlY2tsZWRNZXJnZWQuY2FzdFNoYWRvdyA9IGZhbHNlO1xuICAgIGZyZWNrbGVkTWVyZ2VkLnJlY2VpdmVTaGFkb3cgPSBmYWxzZTtcblxuICAgIHRoaXMuZnJlY2tsZXMuYWRkKGZyZWNrbGVkTWVyZ2VkKTtcbiAgfVxuXG4gIEZlYXR1cmVzKCkge1xuICAgIGxldCBlYXJHZW9tID0gbmV3IFRIUkVFLkJveEJ1ZmZlckdlb21ldHJ5KDEuNSwgMywgMS41KTtcbiAgICBsZXQgc2tpbk1hdCA9IG5ldyBUSFJFRS5NZXNoTGFtYmVydE1hdGVyaWFsKHtjb2xvcjogQ29sb3JzLnNraW4sIGZsYXRTaGFkaW5nOiB0cnVlfSk7XG4gICAgbGV0IGVhclJpZ2h0ID0gbmV3IFRIUkVFLk1lc2goZWFyR2VvbSwgc2tpbk1hdCk7XG4gICAgZWFyUmlnaHQucG9zaXRpb24uc2V0KC04LjUsIDEsIDMpO1xuICAgIGVhclJpZ2h0LmNhc3RTaGFkb3cgPSBmYWxzZTtcbiAgICBlYXJSaWdodC5yZWNlaXZlU2hhZG93ID0gZmFsc2U7XG5cbiAgICBsZXQgZWFyTGVmdCA9IG5ldyBUSFJFRS5NZXNoKGVhckdlb20sIHNraW5NYXQpO1xuICAgIGVhckxlZnQucG9zaXRpb24uc2V0KDguNSwgMSwgMyk7XG4gICAgZWFyTGVmdC5jYXN0U2hhZG93ID0gZmFsc2U7XG4gICAgZWFyTGVmdC5yZWNlaXZlU2hhZG93ID0gZmFsc2U7XG5cbiAgICBsZXQgbm9zZUdlb20gPSBuZXcgVEhSRUUuQ3lsaW5kZXJHZW9tZXRyeSgxLCAyLCA0LCA0KTtcbiAgICBsZXQgbm9zZSA9IG5ldyBUSFJFRS5NZXNoKG5vc2VHZW9tLCBza2luTWF0KTtcbiAgICBub3NlLnNjYWxlLnNldCguNzUsIDEsIDEuMyk7XG4gICAgbm9zZS5wb3NpdGlvbi5zZXQoMCwgMSwgOCk7XG4gICAgbm9zZS5jYXN0U2hhZG93ID0gZmFsc2U7XG4gICAgbm9zZS5yZWNlaXZlU2hhZG93ID0gZmFsc2U7XG5cbiAgICB0aGlzLmhlYWQuYWRkKGVhclJpZ2h0LCBlYXJMZWZ0LCBub3NlKTtcbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2pzL2NsYXNzZXMvSGVhZC5qcyIsImltcG9ydCBDb2xvcnMgZnJvbSAnLi9jb2xvcnMnO1xuY29uc3QgTWF0ZXJpYWxzID0ge1xuICBcIndoaXRlTWF0XCI6IG5ldyBUSFJFRS5NZXNoTGFtYmVydE1hdGVyaWFsKHtjb2xvcjogQ29sb3JzLndoaXRlLCBmbGF0U2hhZGluZzogdHJ1ZX0pLFxuICBcInRlZXRoTWF0XCI6IG5ldyBUSFJFRS5NZXNoUGhvbmdNYXRlcmlhbCh7Y29sb3I6IENvbG9ycy50ZWV0aCwgZmxhdFNoYWRpbmc6IHRydWV9KSxcbiAgXCJibGFja01hdFwiOiBuZXcgVEhSRUUuTWVzaExhbWJlcnRNYXRlcmlhbCh7Y29sb3I6IENvbG9ycy5ibGFjaywgZmxhdFNoYWRpbmc6IHRydWV9KSxcbiAgXCJub3JtYWxNYXRcIjogbmV3IFRIUkVFLk1lc2hOb3JtYWxNYXRlcmlhbCh7fSlcbn07XG5cbmV4cG9ydCBkZWZhdWx0IE1hdGVyaWFscztcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9qcy9vYmplY3RzL01hdGVyaWFscy5qcyIsIi8vIHRoZSB3aGF0d2ctZmV0Y2ggcG9seWZpbGwgaW5zdGFsbHMgdGhlIGZldGNoKCkgZnVuY3Rpb25cbi8vIG9uIHRoZSBnbG9iYWwgb2JqZWN0ICh3aW5kb3cgb3Igc2VsZilcbi8vXG4vLyBSZXR1cm4gdGhhdCBhcyB0aGUgZXhwb3J0IGZvciB1c2UgaW4gV2VicGFjaywgQnJvd3NlcmlmeSBldGMuXG5yZXF1aXJlKCd3aGF0d2ctZmV0Y2gnKTtcbm1vZHVsZS5leHBvcnRzID0gc2VsZi5mZXRjaC5iaW5kKHNlbGYpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvaXNvbW9ycGhpYy1mZXRjaC9mZXRjaC1ucG0tYnJvd3NlcmlmeS5qc1xuLy8gbW9kdWxlIGlkID0gNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsIihmdW5jdGlvbihzZWxmKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBpZiAoc2VsZi5mZXRjaCkge1xuICAgIHJldHVyblxuICB9XG5cbiAgdmFyIHN1cHBvcnQgPSB7XG4gICAgc2VhcmNoUGFyYW1zOiAnVVJMU2VhcmNoUGFyYW1zJyBpbiBzZWxmLFxuICAgIGl0ZXJhYmxlOiAnU3ltYm9sJyBpbiBzZWxmICYmICdpdGVyYXRvcicgaW4gU3ltYm9sLFxuICAgIGJsb2I6ICdGaWxlUmVhZGVyJyBpbiBzZWxmICYmICdCbG9iJyBpbiBzZWxmICYmIChmdW5jdGlvbigpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIG5ldyBCbG9iKClcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICB9KSgpLFxuICAgIGZvcm1EYXRhOiAnRm9ybURhdGEnIGluIHNlbGYsXG4gICAgYXJyYXlCdWZmZXI6ICdBcnJheUJ1ZmZlcicgaW4gc2VsZlxuICB9XG5cbiAgaWYgKHN1cHBvcnQuYXJyYXlCdWZmZXIpIHtcbiAgICB2YXIgdmlld0NsYXNzZXMgPSBbXG4gICAgICAnW29iamVjdCBJbnQ4QXJyYXldJyxcbiAgICAgICdbb2JqZWN0IFVpbnQ4QXJyYXldJyxcbiAgICAgICdbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XScsXG4gICAgICAnW29iamVjdCBJbnQxNkFycmF5XScsXG4gICAgICAnW29iamVjdCBVaW50MTZBcnJheV0nLFxuICAgICAgJ1tvYmplY3QgSW50MzJBcnJheV0nLFxuICAgICAgJ1tvYmplY3QgVWludDMyQXJyYXldJyxcbiAgICAgICdbb2JqZWN0IEZsb2F0MzJBcnJheV0nLFxuICAgICAgJ1tvYmplY3QgRmxvYXQ2NEFycmF5XSdcbiAgICBdXG5cbiAgICB2YXIgaXNEYXRhVmlldyA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiBEYXRhVmlldy5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihvYmopXG4gICAgfVxuXG4gICAgdmFyIGlzQXJyYXlCdWZmZXJWaWV3ID0gQXJyYXlCdWZmZXIuaXNWaWV3IHx8IGZ1bmN0aW9uKG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiB2aWV3Q2xhc3Nlcy5pbmRleE9mKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopKSA+IC0xXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gbm9ybWFsaXplTmFtZShuYW1lKSB7XG4gICAgaWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJykge1xuICAgICAgbmFtZSA9IFN0cmluZyhuYW1lKVxuICAgIH1cbiAgICBpZiAoL1teYS16MC05XFwtIyQlJicqKy5cXF5fYHx+XS9pLnRlc3QobmFtZSkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgY2hhcmFjdGVyIGluIGhlYWRlciBmaWVsZCBuYW1lJylcbiAgICB9XG4gICAgcmV0dXJuIG5hbWUudG9Mb3dlckNhc2UoKVxuICB9XG5cbiAgZnVuY3Rpb24gbm9ybWFsaXplVmFsdWUodmFsdWUpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJykge1xuICAgICAgdmFsdWUgPSBTdHJpbmcodmFsdWUpXG4gICAgfVxuICAgIHJldHVybiB2YWx1ZVxuICB9XG5cbiAgLy8gQnVpbGQgYSBkZXN0cnVjdGl2ZSBpdGVyYXRvciBmb3IgdGhlIHZhbHVlIGxpc3RcbiAgZnVuY3Rpb24gaXRlcmF0b3JGb3IoaXRlbXMpIHtcbiAgICB2YXIgaXRlcmF0b3IgPSB7XG4gICAgICBuZXh0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gaXRlbXMuc2hpZnQoKVxuICAgICAgICByZXR1cm4ge2RvbmU6IHZhbHVlID09PSB1bmRlZmluZWQsIHZhbHVlOiB2YWx1ZX1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc3VwcG9ydC5pdGVyYWJsZSkge1xuICAgICAgaXRlcmF0b3JbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gaXRlcmF0b3JcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gaXRlcmF0b3JcbiAgfVxuXG4gIGZ1bmN0aW9uIEhlYWRlcnMoaGVhZGVycykge1xuICAgIHRoaXMubWFwID0ge31cblxuICAgIGlmIChoZWFkZXJzIGluc3RhbmNlb2YgSGVhZGVycykge1xuICAgICAgaGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG4gICAgICAgIHRoaXMuYXBwZW5kKG5hbWUsIHZhbHVlKVxuICAgICAgfSwgdGhpcylcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoaGVhZGVycykpIHtcbiAgICAgIGhlYWRlcnMuZm9yRWFjaChmdW5jdGlvbihoZWFkZXIpIHtcbiAgICAgICAgdGhpcy5hcHBlbmQoaGVhZGVyWzBdLCBoZWFkZXJbMV0pXG4gICAgICB9LCB0aGlzKVxuICAgIH0gZWxzZSBpZiAoaGVhZGVycykge1xuICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoaGVhZGVycykuZm9yRWFjaChmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgIHRoaXMuYXBwZW5kKG5hbWUsIGhlYWRlcnNbbmFtZV0pXG4gICAgICB9LCB0aGlzKVxuICAgIH1cbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgbmFtZSA9IG5vcm1hbGl6ZU5hbWUobmFtZSlcbiAgICB2YWx1ZSA9IG5vcm1hbGl6ZVZhbHVlKHZhbHVlKVxuICAgIHZhciBvbGRWYWx1ZSA9IHRoaXMubWFwW25hbWVdXG4gICAgdGhpcy5tYXBbbmFtZV0gPSBvbGRWYWx1ZSA/IG9sZFZhbHVlKycsJyt2YWx1ZSA6IHZhbHVlXG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBmdW5jdGlvbihuYW1lKSB7XG4gICAgZGVsZXRlIHRoaXMubWFwW25vcm1hbGl6ZU5hbWUobmFtZSldXG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihuYW1lKSB7XG4gICAgbmFtZSA9IG5vcm1hbGl6ZU5hbWUobmFtZSlcbiAgICByZXR1cm4gdGhpcy5oYXMobmFtZSkgPyB0aGlzLm1hcFtuYW1lXSA6IG51bGxcbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAuaGFzT3duUHJvcGVydHkobm9ybWFsaXplTmFtZShuYW1lKSlcbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgdGhpcy5tYXBbbm9ybWFsaXplTmFtZShuYW1lKV0gPSBub3JtYWxpemVWYWx1ZSh2YWx1ZSlcbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbihjYWxsYmFjaywgdGhpc0FyZykge1xuICAgIGZvciAodmFyIG5hbWUgaW4gdGhpcy5tYXApIHtcbiAgICAgIGlmICh0aGlzLm1hcC5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICBjYWxsYmFjay5jYWxsKHRoaXNBcmcsIHRoaXMubWFwW25hbWVdLCBuYW1lLCB0aGlzKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLmtleXMgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaXRlbXMgPSBbXVxuICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwgbmFtZSkgeyBpdGVtcy5wdXNoKG5hbWUpIH0pXG4gICAgcmV0dXJuIGl0ZXJhdG9yRm9yKGl0ZW1zKVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUudmFsdWVzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGl0ZW1zID0gW11cbiAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24odmFsdWUpIHsgaXRlbXMucHVzaCh2YWx1ZSkgfSlcbiAgICByZXR1cm4gaXRlcmF0b3JGb3IoaXRlbXMpXG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS5lbnRyaWVzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGl0ZW1zID0gW11cbiAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIG5hbWUpIHsgaXRlbXMucHVzaChbbmFtZSwgdmFsdWVdKSB9KVxuICAgIHJldHVybiBpdGVyYXRvckZvcihpdGVtcylcbiAgfVxuXG4gIGlmIChzdXBwb3J0Lml0ZXJhYmxlKSB7XG4gICAgSGVhZGVycy5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXSA9IEhlYWRlcnMucHJvdG90eXBlLmVudHJpZXNcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbnN1bWVkKGJvZHkpIHtcbiAgICBpZiAoYm9keS5ib2R5VXNlZCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBUeXBlRXJyb3IoJ0FscmVhZHkgcmVhZCcpKVxuICAgIH1cbiAgICBib2R5LmJvZHlVc2VkID0gdHJ1ZVxuICB9XG5cbiAgZnVuY3Rpb24gZmlsZVJlYWRlclJlYWR5KHJlYWRlcikge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmVzb2x2ZShyZWFkZXIucmVzdWx0KVxuICAgICAgfVxuICAgICAgcmVhZGVyLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmVqZWN0KHJlYWRlci5lcnJvcilcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgZnVuY3Rpb24gcmVhZEJsb2JBc0FycmF5QnVmZmVyKGJsb2IpIHtcbiAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKVxuICAgIHZhciBwcm9taXNlID0gZmlsZVJlYWRlclJlYWR5KHJlYWRlcilcbiAgICByZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIoYmxvYilcbiAgICByZXR1cm4gcHJvbWlzZVxuICB9XG5cbiAgZnVuY3Rpb24gcmVhZEJsb2JBc1RleHQoYmxvYikge1xuICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpXG4gICAgdmFyIHByb21pc2UgPSBmaWxlUmVhZGVyUmVhZHkocmVhZGVyKVxuICAgIHJlYWRlci5yZWFkQXNUZXh0KGJsb2IpXG4gICAgcmV0dXJuIHByb21pc2VcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWRBcnJheUJ1ZmZlckFzVGV4dChidWYpIHtcbiAgICB2YXIgdmlldyA9IG5ldyBVaW50OEFycmF5KGJ1ZilcbiAgICB2YXIgY2hhcnMgPSBuZXcgQXJyYXkodmlldy5sZW5ndGgpXG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZpZXcubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNoYXJzW2ldID0gU3RyaW5nLmZyb21DaGFyQ29kZSh2aWV3W2ldKVxuICAgIH1cbiAgICByZXR1cm4gY2hhcnMuam9pbignJylcbiAgfVxuXG4gIGZ1bmN0aW9uIGJ1ZmZlckNsb25lKGJ1Zikge1xuICAgIGlmIChidWYuc2xpY2UpIHtcbiAgICAgIHJldHVybiBidWYuc2xpY2UoMClcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHZpZXcgPSBuZXcgVWludDhBcnJheShidWYuYnl0ZUxlbmd0aClcbiAgICAgIHZpZXcuc2V0KG5ldyBVaW50OEFycmF5KGJ1ZikpXG4gICAgICByZXR1cm4gdmlldy5idWZmZXJcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBCb2R5KCkge1xuICAgIHRoaXMuYm9keVVzZWQgPSBmYWxzZVxuXG4gICAgdGhpcy5faW5pdEJvZHkgPSBmdW5jdGlvbihib2R5KSB7XG4gICAgICB0aGlzLl9ib2R5SW5pdCA9IGJvZHlcbiAgICAgIGlmICghYm9keSkge1xuICAgICAgICB0aGlzLl9ib2R5VGV4dCA9ICcnXG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBib2R5ID09PSAnc3RyaW5nJykge1xuICAgICAgICB0aGlzLl9ib2R5VGV4dCA9IGJvZHlcbiAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5ibG9iICYmIEJsb2IucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkpIHtcbiAgICAgICAgdGhpcy5fYm9keUJsb2IgPSBib2R5XG4gICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuZm9ybURhdGEgJiYgRm9ybURhdGEucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkpIHtcbiAgICAgICAgdGhpcy5fYm9keUZvcm1EYXRhID0gYm9keVxuICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LnNlYXJjaFBhcmFtcyAmJiBVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkpIHtcbiAgICAgICAgdGhpcy5fYm9keVRleHQgPSBib2R5LnRvU3RyaW5nKClcbiAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5hcnJheUJ1ZmZlciAmJiBzdXBwb3J0LmJsb2IgJiYgaXNEYXRhVmlldyhib2R5KSkge1xuICAgICAgICB0aGlzLl9ib2R5QXJyYXlCdWZmZXIgPSBidWZmZXJDbG9uZShib2R5LmJ1ZmZlcilcbiAgICAgICAgLy8gSUUgMTAtMTEgY2FuJ3QgaGFuZGxlIGEgRGF0YVZpZXcgYm9keS5cbiAgICAgICAgdGhpcy5fYm9keUluaXQgPSBuZXcgQmxvYihbdGhpcy5fYm9keUFycmF5QnVmZmVyXSlcbiAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5hcnJheUJ1ZmZlciAmJiAoQXJyYXlCdWZmZXIucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkgfHwgaXNBcnJheUJ1ZmZlclZpZXcoYm9keSkpKSB7XG4gICAgICAgIHRoaXMuX2JvZHlBcnJheUJ1ZmZlciA9IGJ1ZmZlckNsb25lKGJvZHkpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3Vuc3VwcG9ydGVkIEJvZHlJbml0IHR5cGUnKVxuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMuaGVhZGVycy5nZXQoJ2NvbnRlbnQtdHlwZScpKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYm9keSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICB0aGlzLmhlYWRlcnMuc2V0KCdjb250ZW50LXR5cGUnLCAndGV4dC9wbGFpbjtjaGFyc2V0PVVURi04JylcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5QmxvYiAmJiB0aGlzLl9ib2R5QmxvYi50eXBlKSB7XG4gICAgICAgICAgdGhpcy5oZWFkZXJzLnNldCgnY29udGVudC10eXBlJywgdGhpcy5fYm9keUJsb2IudHlwZSlcbiAgICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LnNlYXJjaFBhcmFtcyAmJiBVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkpIHtcbiAgICAgICAgICB0aGlzLmhlYWRlcnMuc2V0KCdjb250ZW50LXR5cGUnLCAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9VVRGLTgnKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHN1cHBvcnQuYmxvYikge1xuICAgICAgdGhpcy5ibG9iID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciByZWplY3RlZCA9IGNvbnN1bWVkKHRoaXMpXG4gICAgICAgIGlmIChyZWplY3RlZCkge1xuICAgICAgICAgIHJldHVybiByZWplY3RlZFxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2JvZHlCbG9iKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5QmxvYilcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5ldyBCbG9iKFt0aGlzLl9ib2R5QXJyYXlCdWZmZXJdKSlcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5Rm9ybURhdGEpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvdWxkIG5vdCByZWFkIEZvcm1EYXRhIGJvZHkgYXMgYmxvYicpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShuZXcgQmxvYihbdGhpcy5fYm9keVRleHRdKSlcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLmFycmF5QnVmZmVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpIHtcbiAgICAgICAgICByZXR1cm4gY29uc3VtZWQodGhpcykgfHwgUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcilcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5ibG9iKCkudGhlbihyZWFkQmxvYkFzQXJyYXlCdWZmZXIpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnRleHQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciByZWplY3RlZCA9IGNvbnN1bWVkKHRoaXMpXG4gICAgICBpZiAocmVqZWN0ZWQpIHtcbiAgICAgICAgcmV0dXJuIHJlamVjdGVkXG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl9ib2R5QmxvYikge1xuICAgICAgICByZXR1cm4gcmVhZEJsb2JBc1RleHQodGhpcy5fYm9keUJsb2IpXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlYWRBcnJheUJ1ZmZlckFzVGV4dCh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpKVxuICAgICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5Rm9ybURhdGEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjb3VsZCBub3QgcmVhZCBGb3JtRGF0YSBib2R5IGFzIHRleHQnKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5VGV4dClcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc3VwcG9ydC5mb3JtRGF0YSkge1xuICAgICAgdGhpcy5mb3JtRGF0YSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50ZXh0KCkudGhlbihkZWNvZGUpXG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5qc29uID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy50ZXh0KCkudGhlbihKU09OLnBhcnNlKVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvLyBIVFRQIG1ldGhvZHMgd2hvc2UgY2FwaXRhbGl6YXRpb24gc2hvdWxkIGJlIG5vcm1hbGl6ZWRcbiAgdmFyIG1ldGhvZHMgPSBbJ0RFTEVURScsICdHRVQnLCAnSEVBRCcsICdPUFRJT05TJywgJ1BPU1QnLCAnUFVUJ11cblxuICBmdW5jdGlvbiBub3JtYWxpemVNZXRob2QobWV0aG9kKSB7XG4gICAgdmFyIHVwY2FzZWQgPSBtZXRob2QudG9VcHBlckNhc2UoKVxuICAgIHJldHVybiAobWV0aG9kcy5pbmRleE9mKHVwY2FzZWQpID4gLTEpID8gdXBjYXNlZCA6IG1ldGhvZFxuICB9XG5cbiAgZnVuY3Rpb24gUmVxdWVzdChpbnB1dCwgb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9XG4gICAgdmFyIGJvZHkgPSBvcHRpb25zLmJvZHlcblxuICAgIGlmIChpbnB1dCBpbnN0YW5jZW9mIFJlcXVlc3QpIHtcbiAgICAgIGlmIChpbnB1dC5ib2R5VXNlZCkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBbHJlYWR5IHJlYWQnKVxuICAgICAgfVxuICAgICAgdGhpcy51cmwgPSBpbnB1dC51cmxcbiAgICAgIHRoaXMuY3JlZGVudGlhbHMgPSBpbnB1dC5jcmVkZW50aWFsc1xuICAgICAgaWYgKCFvcHRpb25zLmhlYWRlcnMpIHtcbiAgICAgICAgdGhpcy5oZWFkZXJzID0gbmV3IEhlYWRlcnMoaW5wdXQuaGVhZGVycylcbiAgICAgIH1cbiAgICAgIHRoaXMubWV0aG9kID0gaW5wdXQubWV0aG9kXG4gICAgICB0aGlzLm1vZGUgPSBpbnB1dC5tb2RlXG4gICAgICBpZiAoIWJvZHkgJiYgaW5wdXQuX2JvZHlJbml0ICE9IG51bGwpIHtcbiAgICAgICAgYm9keSA9IGlucHV0Ll9ib2R5SW5pdFxuICAgICAgICBpbnB1dC5ib2R5VXNlZCA9IHRydWVcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy51cmwgPSBTdHJpbmcoaW5wdXQpXG4gICAgfVxuXG4gICAgdGhpcy5jcmVkZW50aWFscyA9IG9wdGlvbnMuY3JlZGVudGlhbHMgfHwgdGhpcy5jcmVkZW50aWFscyB8fCAnb21pdCdcbiAgICBpZiAob3B0aW9ucy5oZWFkZXJzIHx8ICF0aGlzLmhlYWRlcnMpIHtcbiAgICAgIHRoaXMuaGVhZGVycyA9IG5ldyBIZWFkZXJzKG9wdGlvbnMuaGVhZGVycylcbiAgICB9XG4gICAgdGhpcy5tZXRob2QgPSBub3JtYWxpemVNZXRob2Qob3B0aW9ucy5tZXRob2QgfHwgdGhpcy5tZXRob2QgfHwgJ0dFVCcpXG4gICAgdGhpcy5tb2RlID0gb3B0aW9ucy5tb2RlIHx8IHRoaXMubW9kZSB8fCBudWxsXG4gICAgdGhpcy5yZWZlcnJlciA9IG51bGxcblxuICAgIGlmICgodGhpcy5tZXRob2QgPT09ICdHRVQnIHx8IHRoaXMubWV0aG9kID09PSAnSEVBRCcpICYmIGJvZHkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0JvZHkgbm90IGFsbG93ZWQgZm9yIEdFVCBvciBIRUFEIHJlcXVlc3RzJylcbiAgICB9XG4gICAgdGhpcy5faW5pdEJvZHkoYm9keSlcbiAgfVxuXG4gIFJlcXVlc3QucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG5ldyBSZXF1ZXN0KHRoaXMsIHsgYm9keTogdGhpcy5fYm9keUluaXQgfSlcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlY29kZShib2R5KSB7XG4gICAgdmFyIGZvcm0gPSBuZXcgRm9ybURhdGEoKVxuICAgIGJvZHkudHJpbSgpLnNwbGl0KCcmJykuZm9yRWFjaChmdW5jdGlvbihieXRlcykge1xuICAgICAgaWYgKGJ5dGVzKSB7XG4gICAgICAgIHZhciBzcGxpdCA9IGJ5dGVzLnNwbGl0KCc9JylcbiAgICAgICAgdmFyIG5hbWUgPSBzcGxpdC5zaGlmdCgpLnJlcGxhY2UoL1xcKy9nLCAnICcpXG4gICAgICAgIHZhciB2YWx1ZSA9IHNwbGl0LmpvaW4oJz0nKS5yZXBsYWNlKC9cXCsvZywgJyAnKVxuICAgICAgICBmb3JtLmFwcGVuZChkZWNvZGVVUklDb21wb25lbnQobmFtZSksIGRlY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkpXG4gICAgICB9XG4gICAgfSlcbiAgICByZXR1cm4gZm9ybVxuICB9XG5cbiAgZnVuY3Rpb24gcGFyc2VIZWFkZXJzKHJhd0hlYWRlcnMpIHtcbiAgICB2YXIgaGVhZGVycyA9IG5ldyBIZWFkZXJzKClcbiAgICByYXdIZWFkZXJzLnNwbGl0KC9cXHI/XFxuLykuZm9yRWFjaChmdW5jdGlvbihsaW5lKSB7XG4gICAgICB2YXIgcGFydHMgPSBsaW5lLnNwbGl0KCc6JylcbiAgICAgIHZhciBrZXkgPSBwYXJ0cy5zaGlmdCgpLnRyaW0oKVxuICAgICAgaWYgKGtleSkge1xuICAgICAgICB2YXIgdmFsdWUgPSBwYXJ0cy5qb2luKCc6JykudHJpbSgpXG4gICAgICAgIGhlYWRlcnMuYXBwZW5kKGtleSwgdmFsdWUpXG4gICAgICB9XG4gICAgfSlcbiAgICByZXR1cm4gaGVhZGVyc1xuICB9XG5cbiAgQm9keS5jYWxsKFJlcXVlc3QucHJvdG90eXBlKVxuXG4gIGZ1bmN0aW9uIFJlc3BvbnNlKGJvZHlJbml0LCBvcHRpb25zKSB7XG4gICAgaWYgKCFvcHRpb25zKSB7XG4gICAgICBvcHRpb25zID0ge31cbiAgICB9XG5cbiAgICB0aGlzLnR5cGUgPSAnZGVmYXVsdCdcbiAgICB0aGlzLnN0YXR1cyA9ICdzdGF0dXMnIGluIG9wdGlvbnMgPyBvcHRpb25zLnN0YXR1cyA6IDIwMFxuICAgIHRoaXMub2sgPSB0aGlzLnN0YXR1cyA+PSAyMDAgJiYgdGhpcy5zdGF0dXMgPCAzMDBcbiAgICB0aGlzLnN0YXR1c1RleHQgPSAnc3RhdHVzVGV4dCcgaW4gb3B0aW9ucyA/IG9wdGlvbnMuc3RhdHVzVGV4dCA6ICdPSydcbiAgICB0aGlzLmhlYWRlcnMgPSBuZXcgSGVhZGVycyhvcHRpb25zLmhlYWRlcnMpXG4gICAgdGhpcy51cmwgPSBvcHRpb25zLnVybCB8fCAnJ1xuICAgIHRoaXMuX2luaXRCb2R5KGJvZHlJbml0KVxuICB9XG5cbiAgQm9keS5jYWxsKFJlc3BvbnNlLnByb3RvdHlwZSlcblxuICBSZXNwb25zZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gbmV3IFJlc3BvbnNlKHRoaXMuX2JvZHlJbml0LCB7XG4gICAgICBzdGF0dXM6IHRoaXMuc3RhdHVzLFxuICAgICAgc3RhdHVzVGV4dDogdGhpcy5zdGF0dXNUZXh0LFxuICAgICAgaGVhZGVyczogbmV3IEhlYWRlcnModGhpcy5oZWFkZXJzKSxcbiAgICAgIHVybDogdGhpcy51cmxcbiAgICB9KVxuICB9XG5cbiAgUmVzcG9uc2UuZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgcmVzcG9uc2UgPSBuZXcgUmVzcG9uc2UobnVsbCwge3N0YXR1czogMCwgc3RhdHVzVGV4dDogJyd9KVxuICAgIHJlc3BvbnNlLnR5cGUgPSAnZXJyb3InXG4gICAgcmV0dXJuIHJlc3BvbnNlXG4gIH1cblxuICB2YXIgcmVkaXJlY3RTdGF0dXNlcyA9IFszMDEsIDMwMiwgMzAzLCAzMDcsIDMwOF1cblxuICBSZXNwb25zZS5yZWRpcmVjdCA9IGZ1bmN0aW9uKHVybCwgc3RhdHVzKSB7XG4gICAgaWYgKHJlZGlyZWN0U3RhdHVzZXMuaW5kZXhPZihzdGF0dXMpID09PSAtMSkge1xuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0ludmFsaWQgc3RhdHVzIGNvZGUnKVxuICAgIH1cblxuICAgIHJldHVybiBuZXcgUmVzcG9uc2UobnVsbCwge3N0YXR1czogc3RhdHVzLCBoZWFkZXJzOiB7bG9jYXRpb246IHVybH19KVxuICB9XG5cbiAgc2VsZi5IZWFkZXJzID0gSGVhZGVyc1xuICBzZWxmLlJlcXVlc3QgPSBSZXF1ZXN0XG4gIHNlbGYuUmVzcG9uc2UgPSBSZXNwb25zZVxuXG4gIHNlbGYuZmV0Y2ggPSBmdW5jdGlvbihpbnB1dCwgaW5pdCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciByZXF1ZXN0ID0gbmV3IFJlcXVlc3QoaW5wdXQsIGluaXQpXG4gICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KClcblxuICAgICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgICBzdGF0dXM6IHhoci5zdGF0dXMsXG4gICAgICAgICAgc3RhdHVzVGV4dDogeGhyLnN0YXR1c1RleHQsXG4gICAgICAgICAgaGVhZGVyczogcGFyc2VIZWFkZXJzKHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSB8fCAnJylcbiAgICAgICAgfVxuICAgICAgICBvcHRpb25zLnVybCA9ICdyZXNwb25zZVVSTCcgaW4geGhyID8geGhyLnJlc3BvbnNlVVJMIDogb3B0aW9ucy5oZWFkZXJzLmdldCgnWC1SZXF1ZXN0LVVSTCcpXG4gICAgICAgIHZhciBib2R5ID0gJ3Jlc3BvbnNlJyBpbiB4aHIgPyB4aHIucmVzcG9uc2UgOiB4aHIucmVzcG9uc2VUZXh0XG4gICAgICAgIHJlc29sdmUobmV3IFJlc3BvbnNlKGJvZHksIG9wdGlvbnMpKVxuICAgICAgfVxuXG4gICAgICB4aHIub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZWplY3QobmV3IFR5cGVFcnJvcignTmV0d29yayByZXF1ZXN0IGZhaWxlZCcpKVxuICAgICAgfVxuXG4gICAgICB4aHIub250aW1lb3V0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJlamVjdChuZXcgVHlwZUVycm9yKCdOZXR3b3JrIHJlcXVlc3QgZmFpbGVkJykpXG4gICAgICB9XG5cbiAgICAgIHhoci5vcGVuKHJlcXVlc3QubWV0aG9kLCByZXF1ZXN0LnVybCwgdHJ1ZSlcblxuICAgICAgaWYgKHJlcXVlc3QuY3JlZGVudGlhbHMgPT09ICdpbmNsdWRlJykge1xuICAgICAgICB4aHIud2l0aENyZWRlbnRpYWxzID0gdHJ1ZVxuICAgICAgfVxuXG4gICAgICBpZiAoJ3Jlc3BvbnNlVHlwZScgaW4geGhyICYmIHN1cHBvcnQuYmxvYikge1xuICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2Jsb2InXG4gICAgICB9XG5cbiAgICAgIHJlcXVlc3QuaGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG4gICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKG5hbWUsIHZhbHVlKVxuICAgICAgfSlcblxuICAgICAgeGhyLnNlbmQodHlwZW9mIHJlcXVlc3QuX2JvZHlJbml0ID09PSAndW5kZWZpbmVkJyA/IG51bGwgOiByZXF1ZXN0Ll9ib2R5SW5pdClcbiAgICB9KVxuICB9XG4gIHNlbGYuZmV0Y2gucG9seWZpbGwgPSB0cnVlXG59KSh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgPyBzZWxmIDogdGhpcyk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy93aGF0d2ctZmV0Y2gvZmV0Y2guanNcbi8vIG1vZHVsZSBpZCA9IDZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCIndXNlIHN0cmljdCc7XG5cbnZhciByYW5kb21CeXRlID0gcmVxdWlyZSgnLi9yYW5kb20vcmFuZG9tLWJ5dGUnKTtcblxuZnVuY3Rpb24gZW5jb2RlKGxvb2t1cCwgbnVtYmVyKSB7XG4gICAgdmFyIGxvb3BDb3VudGVyID0gMDtcbiAgICB2YXIgZG9uZTtcblxuICAgIHZhciBzdHIgPSAnJztcblxuICAgIHdoaWxlICghZG9uZSkge1xuICAgICAgICBzdHIgPSBzdHIgKyBsb29rdXAoICggKG51bWJlciA+PiAoNCAqIGxvb3BDb3VudGVyKSkgJiAweDBmICkgfCByYW5kb21CeXRlKCkgKTtcbiAgICAgICAgZG9uZSA9IG51bWJlciA8IChNYXRoLnBvdygxNiwgbG9vcENvdW50ZXIgKyAxICkgKTtcbiAgICAgICAgbG9vcENvdW50ZXIrKztcbiAgICB9XG4gICAgcmV0dXJuIHN0cjtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBlbmNvZGU7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9zaG9ydGlkL2xpYi9lbmNvZGUuanNcbi8vIG1vZHVsZSBpZCA9IDdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiaW1wb3J0IEhlYWQgZnJvbSAnLi9jbGFzc2VzL0hlYWQnO1xuaW1wb3J0IENvbG9ycyBmcm9tICcuL29iamVjdHMvY29sb3JzJztcbmltcG9ydCBBdWRpbyBmcm9tICcuL2NsYXNzZXMvQXVkaW8uanMnO1xuaW1wb3J0IENhcnRBUEkgZnJvbSAnLi9saWIvY2FydEFQSSc7XG5cbntcbiAgbGV0IHNjZW5lLCBjYW1lcmEsIGZpZWxkT2ZWaWV3LCBhc3BlY3RSYXRpbywgbmVhclBsYW5lLCBmYXJQbGFuZSwgSEVJR0hULCBXSURUSDtcbiAgbGV0IGdsb2JhbExpZ2h0LCBzaGFkb3dMaWdodCwgYmFja0xpZ2h0LCBsaWdodCwgcmVuZGVyZXIsIGNvbnRhaW5lciwgbG9hZGVkO1xuICBsZXQgaGVhZCwgd2luZG93SGFsZlgsIHdpbmRvd0hhbGZZLCBjb2xvciwgYXVkaW8sIFNwZWVjaFRleHQ7XG5cbiAgLy8gdmFycyBmb3IgZGF0Lmd1aVxuICBsZXQgY29udHJvbGxlciwgZ3VpO1xuICBjb25zdCBzYXZlQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHNhdmVgKTtcblxuICBsZXQgbW91c2VQb3MgPSB7IHg6IDAsIHk6IDB9O1xuICBcbiAgbGV0IHN0YXJBcnJheSA9IFtdO1xuICBsZXQgaXNNb2JpbGUgPSAvaVBob25lfEFuZHJvaWQvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuICBsZXQgbG9hZGVyTWFuYWdlciA9IG5ldyBUSFJFRS5Mb2FkaW5nTWFuYWdlcigpO1xuICBsZXQgc2F2ZWQgPSBmYWxzZTtcblxuICBjb25zdCBpbml0ID0gKCkgPT4ge1xuICAgIC8vIGNyZWF0ZSBzbm93XG4gICAgcGFydGljbGVzSlMubG9hZCgncGFydGljbGVzLWpzJywgJy4uL2Fzc2V0cy9wYXJ0aWNsZXMuanNvbicsICgpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdjYWxsYmFjayAtIHBhcnRpY2xlcy5qcyBjb25maWcgbG9hZGVkJyk7XG4gICAgfSk7XG5cbiAgICBjcmVhdGVTY2VuZSgpO1xuICAgIGNyZWF0ZUxpZ2h0cygpO1xuXG4gICAgYXVkaW8gPSBuZXcgQXVkaW8oKTsgLy8gaGFuZGxlIGF1ZGlvIGFuZCBzcGVlY2hyZWNvZ25pdGlvblxuICAgIGhlYWQgPSBuZXcgSGVhZCgpOyAvLyBzaG93IGFuZCBoYW5kbGUgaGVhZFxuICAgIHNjZW5lLmFkZChoZWFkLm1lc2gpO1xuICAgIC8vc2NlbmUuYWRkKHN0YXJzLm1lc2gpO1xuICAgIGNvbnNvbGUubG9nKGF1ZGlvLmlkKTtcbiAgICAvLyBzZW5kIG9iamVjdHMgdG8gc2F2ZSBvbiBjbGlja1xuICAgIHNhdmVCdG4uYWRkRXZlbnRMaXN0ZW5lcihgY2xpY2tgLCAoKSA9PiB7XG4gICAgICBjb25zdCBmcm9tID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYG5hbWVfaW5wdXRgKTtcbiAgICAgIGNvbnN0IHRvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHJlY2lwaWVudF9pbnB1dGApO1xuICAgICAgY29uc3QgbGluayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC51bmlxdWVfbGlua2ApO1xuXG4gICAgICBjb25zdCBhdWRpb1NldHRpbmdzID0ge1xuICAgICAgICBwaXRjaDogYXVkaW8ucGl0Y2hSYXRpbyxcbiAgICAgICAgb3ZlcmxhcDogYXVkaW8ub3ZlcmxhcFxuICAgICAgfVxuXG4gICAgICBjb25zdCBoZWFkQ29sb3JzID0ge1xuICAgICAgICBza2luOiBDb2xvcnMuc2tpbixcbiAgICAgICAgZnJlY2tsZXM6IENvbG9ycy5mcmVja2xlcyxcbiAgICAgICAgZXllOiBDb2xvcnMuZXllLFxuICAgICAgICBnbGFzc2VzOiBDb2xvcnMuZ2xhc3NlcyxcbiAgICAgICAgaGF0OiBDb2xvcnMuaGF0XG4gICAgICB9XG5cbiAgICAgIGlmICghc2F2ZWQpIHtcbiAgICAgICAgc2F2ZWQgPSB0cnVlO1xuICAgICAgICBDYXJ0QVBJLmNyZWF0ZSh7XG4gICAgICAgICAgdGV4dDogYXVkaW8udGV4dCxcbiAgICAgICAgICBpZDogYXVkaW8uaWQsXG4gICAgICAgICAgZnJvbTogZnJvbS52YWx1ZSB8fCAnSHVtYW4nLFxuICAgICAgICAgIHRvOiB0by52YWx1ZSB8fCAnRmVsbG93IEh1bWFuJyxcbiAgICAgICAgICBhdWRpb1NldHRpbmdzOiBKU09OLnN0cmluZ2lmeShhdWRpb1NldHRpbmdzKSxcbiAgICAgICAgICBoZWFkQ29sb3JzOiBKU09OLnN0cmluZ2lmeShoZWFkQ29sb3JzKSxcbiAgICAgICAgfSk7XG5cblxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgQ2FydEFQSS51cGRhdGUoe1xuICAgICAgICAgIHRleHQ6IGF1ZGlvLnRleHQsXG4gICAgICAgICAgaWQ6IGF1ZGlvLmlkLFxuICAgICAgICAgIGZyb206IGZyb20udmFsdWUgfHwgJ0h1bWFuJyxcbiAgICAgICAgICB0bzogdG8udmFsdWUgfHwgJ0ZlbGxvdyBIdW1hbicsXG4gICAgICAgICAgYXVkaW9TZXR0aW5nczogSlNPTi5zdHJpbmdpZnkoYXVkaW9TZXR0aW5ncyksXG4gICAgICAgICAgaGVhZENvbG9yczogSlNPTi5zdHJpbmdpZnkoaGVhZENvbG9ycyksXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBsaW5rLmlubmVySFRNTCA9IGBodHRwczovL2xvY2FsaG9zdDo4MDgwL3NhbnRhLmh0bWw/aWQ9JHthdWRpby5pZH1gO1xuICAgICAgbGluay5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBgaHR0cHM6Ly9sb2NhbGhvc3Q6ODA4MC9zYW50YS5odG1sP2lkPSR7YXVkaW8uaWR9YCk7XG4gICAgICBsaW5rLnNldEF0dHJpYnV0ZSgndGFyZ2V0JywgYF9ibGFua2ApO1xuICAgIH0pO1xuXG4gICAgZ3VpID0gbmV3IGRhdC5HVUkoKTtcbiAgICBndWkuZG9tRWxlbWVudC5pZCA9ICdndWknO1xuICAgIGd1aS5jbG9zZWQgPSB0cnVlO1xuICAgIGNvbnRyb2xsZXIgPSBuZXcgY29udHJvbGxlclRleHQoKTtcbiAgICBndWlDb250cm9sbGVyKFsnc2tpbicsICdmcmVja2xlcycsICdleWUnLCAnZ2xhc3NlcycsICdoYXQnXSk7IC8vIGFkZCBndWkgZm9yIGFycmF5IG9iamVjdCBhbmQgc2V0IGNvbG9ycyBvbiBjb2xvciBjaGFuZ2VcblxuICAgIHdpbmRvdy5zY2VuZSA9IHNjZW5lOyAvLyBzZXQgc2NlbmUgZm9yIGV4dGVuc2lvblxuXG4gICAgbG9vcCgpO1xuICB9O1xuXG4gIGNvbnN0IGd1aUNvbnRyb2xsZXIgPSBrZXlzID0+IHtcbiAgICBrZXlzLmZvckVhY2goa2V5ID0+IHtcbiAgICAgIGd1aS5hZGRDb2xvcihjb250cm9sbGVyLCBrZXkpLm9uQ2hhbmdlKCgpID0+IHtcblxuICAgICAgICAvLyBzZXQgcmlnaHQgY29sb3IgZm9yIG1hdGVyaWFsXG4gICAgICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICAgICAgY2FzZSAnc2tpbic6IENvbG9ycy5za2luID0gY29udHJvbGxlci5za2luO1xuICAgICAgICAgIGNhc2UgJ2ZyZWNrbGVzJzogQ29sb3JzLmZyZWNrbGVzID0gY29udHJvbGxlci5mcmVja2xlcztcbiAgICAgICAgICBjYXNlICdleWUnOiBDb2xvcnMuZXllID0gY29udHJvbGxlci5leWU7XG4gICAgICAgICAgY2FzZSAnZ2xhc3Nlcyc6IENvbG9ycy5nbGFzc2VzID0gY29udHJvbGxlci5nbGFzc2VzO1xuICAgICAgICAgIGNhc2UgJ2hhdCc6IENvbG9ycy5oYXQgPSBjb250cm9sbGVyLmhhdDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vcmVtb3ZlIGN1cnJlbnQgaGVhZCBhbmQgbWFrZSBhIG5ldyBvbmUgdG8gc2V0IGN1cnJlbnQgY29sb3JcbiAgICAgICAgc2NlbmUucmVtb3ZlKGhlYWQubWVzaCk7XG4gICAgICAgIGNyZWF0ZUhlYWQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgY29uc3QgZGVjMmhleCA9IChpKSA9PiB7XG4gICAgdmFyIHJlc3VsdCA9IFwiMHgwMDAwMDBcIjtcbiAgICBpZiAoaSA+PSAwICYmIGkgPD0gMTUpIHtcbiAgICAgIHJlc3VsdCA9IFwiMHgwMDAwMFwiICsgaS50b1N0cmluZygxNik7XG4gICAgfSBlbHNlIGlmIChpID49IDE2ICYmIGkgPD0gMjU1KSB7XG4gICAgICByZXN1bHQgPSBcIjB4MDAwMFwiICsgaS50b1N0cmluZygxNik7XG4gICAgfSBlbHNlIGlmIChpID49IDI1NiAmJiBpIDw9IDQwOTUpIHtcbiAgICAgIHJlc3VsdCA9IFwiMHgwMDBcIiArIGkudG9TdHJpbmcoMTYpO1xuICAgIH0gZWxzZSBpZiAoaSA+PSA0MDk2ICYmIGkgPD0gNjU1MzUpIHtcbiAgICAgIHJlc3VsdCA9IFwiMHgwMFwiICsgaS50b1N0cmluZygxNik7XG4gICAgfSBlbHNlIGlmIChpID49IDY1NTM1ICYmIGkgPD0gMTA0ODU3NSkge1xuICAgICAgcmVzdWx0ID0gXCIweDBcIiArIGkudG9TdHJpbmcoMTYpO1xuICAgIH0gZWxzZSBpZiAoaSA+PSAxMDQ4NTc1KSB7XG4gICAgICByZXN1bHQgPSAnMHgnICsgaS50b1N0cmluZygxNik7XG4gICAgfVxuICAgIGlmIChyZXN1bHQubGVuZ3RoID09IDgpIHtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgY3JlYXRlU2NlbmUgPSAoKSA9PiB7O1xuICAgIEhFSUdIVCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICBXSURUSCA9IHdpbmRvdy5pbm5lcldpZHRoIC8xLjY3O1xuICAgIHdpbmRvd0hhbGZYID0gV0lEVEggLyAyO1xuICAgIHdpbmRvd0hhbGZZID0gSEVJR0hUIC8gMjtcblxuICAgIHNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7XG4gICAgYXNwZWN0UmF0aW8gPSBXSURUSCAvIEhFSUdIVDtcbiAgICBmaWVsZE9mVmlldyA9IDUwO1xuICAgIG5lYXJQbGFuZSA9IDE7XG4gICAgZmFyUGxhbmUgPSAyMDAwO1xuXG4gICAgY2FtZXJhID0gbmV3IFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhKGZpZWxkT2ZWaWV3LCBhc3BlY3RSYXRpbywgbmVhclBsYW5lLCBmYXJQbGFuZSk7XG4gICAgY2FtZXJhLnBvc2l0aW9uLnggPSAwO1xuICAgIGNhbWVyYS5wb3NpdGlvbi56ID0gNzA7XG4gICAgY2FtZXJhLnBvc2l0aW9uLnkgPSAtNTtcblxuICAgIHJlbmRlcmVyID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoe2FscGhhOiB0cnVlLCBhbnRpYWxpYXM6IHRydWV9KTtcbiAgICByZW5kZXJlci5zZXRQaXhlbFJhdGlvKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvPyB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbzogMSlcbiAgICByZW5kZXJlci5zZXRTaXplKFdJRFRILCBIRUlHSFQpO1xuICAgIHJlbmRlcmVyLnNoYWRvd01hcC5lbmFibGVkID0gdHJ1ZTtcbiAgICByZW5kZXJlci5zaGFkb3dNYXAudHlwZSA9IFRIUkVFLlBDRlNvZnRTaGFkb3dNYXA7XG5cbiAgICBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGFpbmVyJylcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQocmVuZGVyZXIuZG9tRWxlbWVudCk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIG9uV2luZG93UmVzaXplLCBmYWxzZSk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgaGFuZGxlTW91c2VNb3ZlLCBmYWxzZSk7XG4gIH1cblxuICBjb25zdCBvbldpbmRvd1Jlc2l6ZSA9ICgpID0+IHtcbiAgICBIRUlHSFQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgV0lEVEggPSB3aW5kb3cuaW5uZXJXaWR0aCAgLyAxLjY3O1xuICAgIHdpbmRvd0hhbGZYID0gV0lEVEggLyAyO1xuICAgIHdpbmRvd0hhbGZZID0gSEVJR0hUIC8gMjtcbiAgICByZW5kZXJlci5zZXRTaXplKFdJRFRILCBIRUlHSFQpO1xuICAgIGNhbWVyYS5hc3BlY3QgPSBXSURUSCAvIEhFSUdIVDtcbiAgICBjYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICB9XG5cbiAgY29uc3QgaGFuZGxlTW91c2VNb3ZlID0gZSA9PiB7XG4gICAgbW91c2VQb3MgPSB7XG4gICAgICB4OiBldmVudC5jbGllbnRYLFxuICAgICAgeTogZXZlbnQuY2xpZW50WVxuICAgIH07XG4gIH1cblxuICBjb25zdCBoYW5kbGVXaW5kb3dSZXNpemUgPSBlID0+IHtcbiAgICBIRUlHSFQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgV0lEVEggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICByZW5kZXJlci5zZXRTaXplKFdJRFRILCBIRUlHSFQpO1xuICAgIGNhbWVyYS5hc3BlY3QgPSBXSURUSCAvIEhFSUdIVDtcbiAgICBjYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICB9XG5cblxuICBjb25zdCBjcmVhdGVMaWdodHMgPSAoKSA9PiB7XG4gICAgZ2xvYmFsTGlnaHQgPSBuZXcgVEhSRUUuSGVtaXNwaGVyZUxpZ2h0KDB4ZmZmZmZmLCAweDU1NTU1NSwgLjkpO1xuXG4gICAgc2hhZG93TGlnaHQgPSBuZXcgVEhSRUUuRGlyZWN0aW9uYWxMaWdodCgweGZmZmZmZiwgLjMpO1xuICAgIHNoYWRvd0xpZ2h0LnBvc2l0aW9uLnNldCgxMDAsIDI1MCwgMTc1KTtcbiAgICBzaGFkb3dMaWdodC5jYXN0U2hhZG93ID0gdHJ1ZTtcblxuICAgIGJhY2tMaWdodCA9IG5ldyBUSFJFRS5EaXJlY3Rpb25hbExpZ2h0KDB4ZmZmZmZmLCAuMik7XG4gICAgYmFja0xpZ2h0LnBvc2l0aW9uLnNldCgtMTAwLCAyMDAsIDE1MCk7XG4gICAgYmFja0xpZ2h0LmNhc3RTaGFkb3cgPSB0cnVlO1xuXG4gICAgaWYgKGlzTW9iaWxlKSBzaGFkb3dMaWdodC5zaGFkb3cubWFwU2l6ZS53aWR0aCA9IHNoYWRvd0xpZ2h0LnNoYWRvdy5tYXBTaXplLmhlaWdodCA9IDEwMjQ7XG4gICAgaWYgKCFpc01vYmlsZSkgc2hhZG93TGlnaHQuc2hhZG93Lm1hcFNpemUud2lkdGggPSBzaGFkb3dMaWdodC5zaGFkb3cubWFwU2l6ZS5oZWlnaHQgPSAyMDQ4O1xuXG4gICAgc2NlbmUuYWRkKGdsb2JhbExpZ2h0KTtcbiAgICBzY2VuZS5hZGQoc2hhZG93TGlnaHQpO1xuICAgIHNjZW5lLmFkZChiYWNrTGlnaHQpO1xuICAgIHNjZW5lLmFkZCggbmV3IFRIUkVFLkFtYmllbnRMaWdodCggMHhlYWRlYWQsIDAuMSApKTtcbiAgfVxuXG4gIC8vIGNvbnN0IGNyZWF0ZUhlYWQgPSAoKSA9PiB7XG4gIC8vICAgaGVhZC5uYW1lID0gXCJIZWFkXCI7XG4gIC8vICAgaGVhZCA9IG5ldyBIZWFkKCk7XG4gIC8vICAgY29uc29sZS5sb2coXCJjcmVhdGVIZWFkXCIpO1xuICAvLyAgIGhlYWQuaWRsZSgpO1xuICAvLyAgIC8vaGVhZC5kaXp6eSgpO1xuICAvLyAgIHNjZW5lLmFkZChoZWFkLm1lc2gpO1xuICAvL1xuICAvLyAgIHN0YXJzID0gbmV3IFN0YXJzR3JvdXAoKTtcbiAgLy8gICBzY2VuZS5hZGQoc3RhcnMubWVzaCk7XG4gIC8vIH1cblxuICAvLyBjb25zdCBjcmVhdGVDaGFyYWN0ZXIgPSAoKSA9PiB7XG4gIC8vICAgY29uc29sZS5sb2coXCJDUkVBVEUgQ0hBUkFDVEVSXCIpO1xuICAvLyAgIGNyZWF0ZUhlYWQoKTtcbiAgLy8gICBoZWFkLm1lc2gucG9zaXRpb24uc2V0KDAsIDIsIDApO1xuICAvLyAgIHN0YXJzLm1lc2gucG9zaXRpb24uc2V0KDAsIDEwLCAwKTtcbiAgLy8gfVxuXG4gIGxldCBpc0JsaW5raW5nID0gZmFsc2U7XG4gIGNvbnN0IGJsaW5rTG9vcCA9ICgpID0+IHtcbiAgICBpc0JsaW5raW5nID0gZmFsc2U7XG5cbiAgICBpZiAoKCFpc0JsaW5raW5nKSAmJiAoTWF0aC5yYW5kb20oKSA+IDAuOTkpKSB7XG4gICAgICBpc0JsaW5raW5nID0gdHJ1ZTtcbiAgICAgIGJsaW5rKCk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgYmxpbmsgPSAoKSA9PiB7XG4gICAgaGVhZC5leWVzLnNjYWxlLnkgPSAxO1xuICAgIFR3ZWVuTWF4LnRvKGhlYWQuZXllcy5zY2FsZSwgLjA3LCB7XG4gICAgICB5OiAwLFxuICAgICAgeW95bzogdHJ1ZSxcbiAgICAgIHJlcGVhdDogMSxcbiAgICAgIG9uQ29tcGxldGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpc0JsaW5raW5nID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBjbGFzcyBjb250cm9sbGVyVGV4dCB7XG4gICAgY29uc3RydWN0b3IgKCl7XG4gICAgICB0aGlzLnNraW4gPSBDb2xvcnMuc2tpbjtcbiAgICAgIHRoaXMuZnJlY2tsZXMgPSBDb2xvcnMuZnJlY2tsZXM7XG4gICAgICB0aGlzLmV5ZSA9IENvbG9ycy5leWU7XG4gICAgICB0aGlzLmdsYXNzZXMgPSBDb2xvcnMuZ2xhc3NlcztcbiAgICAgIHRoaXMuaGF0ID0gQ29sb3JzLmhhdDtcbiAgICB9XG4gIH1cblxuICBjb25zdCBsb29wID0gKCkgPT4ge1xuICAgIGJsaW5rTG9vcCgpO1xuICAgIC8vaGVhZC5kaXp6eSgpO1xuICAgIGhlYWQuaWRsZSh4VGFyZ2V0LCB5VGFyZ2V0KTtcblxuICAgIGxldCB4VGFyZ2V0ID0gKG1vdXNlUG9zLnggLSB3aW5kb3dIYWxmWCk7XG4gICAgbGV0IHlUYXJnZXQgPSAobW91c2VQb3MueSAtIHdpbmRvd0hhbGZZKTtcblxuICAgIHJlbmRlcmVyLnJlbmRlcihzY2VuZSwgY2FtZXJhKTtcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUobG9vcCk7XG4gIH1cblxuICAvL3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgaW5pdCwgZmFsc2UpO1xuXG4gIGluaXQoKTtcblxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2pzL3NjcmlwdC5qcyIsImltcG9ydCBTb3VuZEFQSSBmcm9tICcuLi9saWIvc291bmRBUEknO1xuaW1wb3J0IHNob3J0SWQgZnJvbSAnc2hvcnRpZCc7XG5cbnZhciBTcGVlY2hSZWNvZ25pdGlvbiA9IFNwZWVjaFJlY29nbml0aW9uIHx8IHdlYmtpdFNwZWVjaFJlY29nbml0aW9uXG52YXIgU3BlZWNoR3JhbW1hckxpc3QgPSBTcGVlY2hHcmFtbWFyTGlzdCB8fCB3ZWJraXRTcGVlY2hHcmFtbWFyTGlzdFxudmFyIFNwZWVjaFJlY29nbml0aW9uRXZlbnQgPSBTcGVlY2hSZWNvZ25pdGlvbkV2ZW50IHx8IHdlYmtpdFNwZWVjaFJlY29nbml0aW9uRXZlbnRcbmNvbnN0IEF1ZGlvQ29udGV4dCA9IHdpbmRvdy5BdWRpb0NvbnRleHQgfHwgd2luZG93LndlYmtpdEF1ZGlvQ29udGV4dDtcblxubGV0IGF1ZGlvQ3R4LCByZWNvZ25pdGlvbjtcbmxldCB0cmFuc2NyaXB0ID0gXCJcIjtcbmxldCBhdWRpb0NodW5rcyA9IFtdO1xubGV0IHNvdXJjZTtcblxuY29uc3QgJHRleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgZmllbGRgKTtcbmNvbnN0ICRyZWNvcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgcmVjb3JkYCk7XG5jb25zdCAkYXVkaW8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgYXVkaW9fY29udHJvbHNgKTtcbmNvbnN0ICRzdG9wID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHN0b3BgKTtcblxubGV0IGF1ZGlvU291cmNlcyA9IFtdLFxuICAgIHBpdGNoU2hpZnRlclByb2Nlc3NvcjtcblxubGV0IGdyYWluU2l6ZSA9IDUxMixcbiAgICBwaXRjaFJhdGlvID0gMS4wLFxuICAgIG92ZXJsYXBSYXRpbyA9IDAuNTA7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEF1ZGlvIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5pZCA9IHNob3J0SWQuZ2VuZXJhdGUoKTtcbiAgICB0aGlzLnBpdGNoUmF0aW8gPSAxLjA7XG4gICAgdGhpcy5vdmVybGFwID0gMC41MDtcbiAgICBhdWRpb0N0eCA9IG5ldyBBdWRpb0NvbnRleHQoKTtcblxuICAgIC8vIGhhbmRsZSBTcGVlY2hSZWNvZ25pdGlvblxuICAgIHJlY29nbml0aW9uID0gbmV3IFNwZWVjaFJlY29nbml0aW9uKCk7XG4gICAgdGhpcy5zcGVlY2hTZXR0aW5ncygpO1xuXG4gICAgcmVjb2duaXRpb24ub25yZXN1bHQgPSBldmVudCA9PiB0aGlzLmdvdFJlc3VsdChldmVudCk7XG4gICAgcmVjb2duaXRpb24ub25zcGVlY2hlbmQgPSBlID0+IHRoaXMub25TcGVlY2hFbmQoZSk7XG4gICAgJHRleHQuYWRkRXZlbnRMaXN0ZW5lcihgYmx1cmAsICgpID0+IHRoaXMudHh0ID0gJHRleHQudmFsdWUpO1xuXG4gICAgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoeyBhdWRpbzogdHJ1ZSB9KVxuICAgIC50aGVuKHN0cmVhbSA9PiB7XG4gICAgICB0aGlzLm1lZGlhUmVjb3JkZXIgPSBuZXcgTWVkaWFSZWNvcmRlcihzdHJlYW0pO1xuXG4gICAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tU3RhcnQgUmVjb3JkaW5nLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuICAgICAgJHJlY29yZC5hZGRFdmVudExpc3RlbmVyKGBjbGlja2AsICgpID0+IHtcbiAgICAgICAgdGhpcy5tZWRpYVJlY29yZGVyLnN0YXJ0KCk7XG4gICAgICAgIHJlY29nbml0aW9uLnN0YXJ0KCk7XG4gICAgICAgICRyZWNvcmQuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgfSk7XG4gICAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgICB0aGlzLm1lZGlhUmVjb3JkZXIuYWRkRXZlbnRMaXN0ZW5lcihgZGF0YWF2YWlsYWJsZWAsICBlID0+IHtcbiAgICAgICAgYXVkaW9DaHVua3MucHVzaChlLmRhdGEpO1xuICAgICAgfSk7IC8vIGFkZCBhdWRpb2NodW5rIHRvIGFycmF5XG5cbiAgICAgIC8vIHdoZW4gbWVkaWFSZWNvcmRlciBzdG9wcywgbWFrZSBhbmQgaGFuZGxlIGF1ZGlvIGJsb2JcbiAgICAgIHRoaXMubWVkaWFSZWNvcmRlci5hZGRFdmVudExpc3RlbmVyKGBzdG9wYCwgKCkgPT4ge1xuICAgICAgICAvLyBnaXZlIGxpbmsgdG8gYXVkaW8gY29udHJvbHMgdG8gcGxheSBhbmQgY29udHJvbCB0aGUgc291bmRcbiAgICAgICAgdGhpcy5ibG9iID0gbmV3IEJsb2IoYXVkaW9DaHVua3MsIHt0eXBlIDogJ2F1ZGlvL29nZyd9KTsgLy8gY3JlYXRlIGJsb2IgZnJvbSBhdWRpb2NodW5rc1xuXG4gICAgICAgIFNvdW5kQVBJLmNyZWF0ZSh7XG4gICAgICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICAgICAgYmxvYjogdGhpcy5ibG9iXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT7CoHtcbiAgICAgICAgICBjb25zdCBidWZmZXJMb2FkZXIgPSBuZXcgQnVmZmVyTG9hZGVyKFxuICAgICAgICAgICAgYXVkaW9DdHgsIFtgLi91cGxvYWRzLyR7dGhpcy5pZH0ub2dnYF0sIGJ1ZmZlckxpc3QgPT4ge1xuICAgICAgICAgICAgICAvLyB0byBhdm9pZCBvdmVybGFwcGluZyBwcmV2aW91cyBzb3VuZCwgZW1wdHkgYnVmZmVyTGlzdCB3aGVuIHRyeWluZyBhZ2FpblxuICAgICAgICAgICAgICAkcmVjb3JkLmFkZEV2ZW50TGlzdGVuZXIoYGNsaWNrYCwgKCkgPT4gYnVmZmVyTGlzdCA9IFtdKTtcblxuICAgICAgICAgICAgICBsZXQgbG9vcCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgIC8vIHRyaWdnZXIgbG9vcFxuICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgcmVwZWF0YCkuYWRkRXZlbnRMaXN0ZW5lcihgY2xpY2tgLCAgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGxvb3AgPSAhbG9vcDtcbiAgICAgICAgICAgICAgICBzb3VyY2Uuc3RvcCgpO1xuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAvLyBwaXRjaCB2YWx1ZVxuICAgICAgICAgICAgICBjb25zdCAkcGl0Y2ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgcGl0Y2hgKTtcbiAgICAgICAgICAgICAgJHBpdGNoLmFkZEV2ZW50TGlzdGVuZXIoYGNoYW5nZWAsICgpID0+IHtcbiAgICAgICAgICAgICAgICBwaXRjaFJhdGlvID0gcGFyc2VGbG9hdCgkcGl0Y2gudmFsdWUpO1xuICAgICAgICAgICAgICAgIHRoaXMucGl0Y2hSYXRpbyA9IHBpdGNoUmF0aW87XG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIC8vIHBsYXkgbW9kaWZpZWQgc291bmRcbiAgICAgICAgICAgICAgJGF1ZGlvLmFkZEV2ZW50TGlzdGVuZXIoYGNsaWNrYCwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHNvdXJjZSA9ICcnO1xuICAgICAgICAgICAgICAgIHNvdXJjZSA9IGF1ZGlvQ3R4LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpO1xuICAgICAgICAgICAgICAgIHNvdXJjZS5idWZmZXIgPSBidWZmZXJMaXN0WzBdO1xuICAgICAgICAgICAgICAgIHNvdXJjZS5jb25uZWN0KHBpdGNoU2hpZnRlclByb2Nlc3Nvcik7XG4gICAgICAgICAgICAgICAgc291cmNlLmxvb3AgPSBsb29wO1xuICAgICAgICAgICAgICAgIHNvdXJjZS5zdGFydCgpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICApO1xuXG4gICAgICAgICAgYnVmZmVyTG9hZGVyLmxvYWQoKTtcbiAgICAgICAgICB0aGlzLmluaXRQcm9jZXNzb3IoKTtcblxuICAgICAgICB9LCAxMDAwKTtcblxuICAgICAgICAvLyBzZXQgc291bmQgZmlsdGVyIG92ZXJsYXBcbiAgICAgICAgY29uc3Qgb3ZlcmxhcCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBvdmVybGFwYCk7XG4gICAgICAgIG92ZXJsYXAuYWRkRXZlbnRMaXN0ZW5lcihgY2hhbmdlYCwgKCkgPT4ge1xuICAgICAgICAgIG92ZXJsYXBSYXRpbyA9IG92ZXJsYXAudmFsdWU7XG4gICAgICAgICAgdGhpcy5vdmVybGFwID0gb3ZlcmxhcFJhdGlvO1xuICAgICAgICB9KTtcblxuICAgICAgICBhdWRpb0NodW5rcyA9IFtdO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBvblNwZWVjaEVuZChlKcKge1xuICAgIHRoaXMubWVkaWFSZWNvcmRlci5zdG9wKCk7XG4gICAgcmVjb2duaXRpb24uc3RvcCgpO1xuICAgICRyZWNvcmQuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAkcmVjb3JkLnRleHRDb250ZW50ID0gJ1dhbnQgdG8gdHJ5IGFnYWluPyc7XG4gICAgdGhpcy50eHQgPSAkdGV4dC52YWx1ZTtcbiAgfVxuXG4gIGdvdFJlc3VsdChldmVudCkge1xuICAgIGNvbnN0IGxhc3QgPSBldmVudC5yZXN1bHRzLmxlbmd0aCAtIDE7XG4gICAgdHJhbnNjcmlwdCA9IGV2ZW50LnJlc3VsdHNbbGFzdF1bMF0udHJhbnNjcmlwdDtcbiAgICAkdGV4dC52YWx1ZSA9IHRyYW5zY3JpcHQ7XG4gIH1cblxuICBzcGVlY2hTZXR0aW5ncygpIHtcbiAgICByZWNvZ25pdGlvbi5jb250aW51b3VzID0gZmFsc2U7XG4gICAgcmVjb2duaXRpb24ubGFuZyA9ICdlbi1VUyc7XG4gICAgcmVjb2duaXRpb24uaW50ZXJpbVJlc3VsdHMgPSBmYWxzZTtcbiAgICByZWNvZ25pdGlvbi5tYXhBbHRlcm5hdGl2ZXMgPSAxO1xuICB9XG5cbiAgaW5pdFByb2Nlc3NvcigpIHtcblxuICAgIGNvbnN0IGxpbmVhckludGVycG9sYXRpb24gPSAoYSwgYiwgdCkgPT4ge1xuICAgICAgcmV0dXJuIGEgKyAoYiAtIGEpICogdDtcbiAgICB9O1xuXG4gICAgaWYgKHBpdGNoU2hpZnRlclByb2Nlc3Nvcikge1xuICAgICAgcGl0Y2hTaGlmdGVyUHJvY2Vzc29yLmRpc2Nvbm5lY3QoKTtcbiAgICB9XG5cbiAgICBpZiAoYXVkaW9DdHguY3JlYXRlU2NyaXB0UHJvY2Vzc29yKSB7XG4gICAgICBwaXRjaFNoaWZ0ZXJQcm9jZXNzb3IgPSBhdWRpb0N0eC5jcmVhdGVTY3JpcHRQcm9jZXNzb3IoZ3JhaW5TaXplLCAxLCAxKTtcbiAgICB9IGVsc2UgaWYgKGF1ZGlvQ3R4LmNyZWF0ZUphdmFTY3JpcHROb2RlKSB7XG4gICAgICBwaXRjaFNoaWZ0ZXJQcm9jZXNzb3IgPSBhdWRpb0N0eC5jcmVhdGVKYXZhU2NyaXB0Tm9kZShncmFpblNpemUsIDEsIDEpO1xuICAgIH1cblxuICAgIHBpdGNoU2hpZnRlclByb2Nlc3Nvci5idWZmZXIgPSBuZXcgRmxvYXQzMkFycmF5KGdyYWluU2l6ZSAqIDIpO1xuICAgIHBpdGNoU2hpZnRlclByb2Nlc3Nvci5ncmFpbldpbmRvdyA9IHRoaXMuaGFubldpbmRvdyhncmFpblNpemUpO1xuXG4gICAgcGl0Y2hTaGlmdGVyUHJvY2Vzc29yLm9uYXVkaW9wcm9jZXNzID0gZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgICAgdmFyIGlucHV0RGF0YSA9IGV2ZW50LmlucHV0QnVmZmVyLmdldENoYW5uZWxEYXRhKDApO1xuICAgICAgdmFyIG91dHB1dERhdGEgPSBldmVudC5vdXRwdXRCdWZmZXIuZ2V0Q2hhbm5lbERhdGEoMCk7XG5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCBpbnB1dERhdGEubGVuZ3RoOyBpKyspIHtcblxuICAgICAgICAvLyBBcHBseSB0aGUgd2luZG93IHRvIHRoZSBpbnB1dCBidWZmZXJcbiAgICAgICAgaW5wdXREYXRhW2ldICo9IHRoaXMuZ3JhaW5XaW5kb3dbaV07XG5cbiAgICAgICAgLy8gU2hpZnQgaGFsZiBvZiB0aGUgYnVmZmVyXG4gICAgICAgIHRoaXMuYnVmZmVyW2ldID0gdGhpcy5idWZmZXJbaSArIGdyYWluU2l6ZV07XG5cbiAgICAgICAgLy8gRW1wdHkgdGhlIGJ1ZmZlciB0YWlsXG4gICAgICAgIHRoaXMuYnVmZmVyW2kgKyBncmFpblNpemVdID0gMC4wO1xuICAgICAgfVxuXG4gICAgICAvLyBDYWxjdWxhdGUgdGhlIHBpdGNoIHNoaWZ0ZWQgZ3JhaW4gcmUtc2FtcGxpbmcgYW5kIGxvb3BpbmcgdGhlIGlucHV0XG4gICAgICB2YXIgZ3JhaW5EYXRhID0gbmV3IEZsb2F0MzJBcnJheShncmFpblNpemUgKiAyKTtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gMC4wOyBpIDwgZ3JhaW5TaXplOyBpKyssIGogKz0gcGl0Y2hSYXRpbykge1xuXG4gICAgICAgIHZhciBpbmRleCA9IE1hdGguZmxvb3IoaikgJSBncmFpblNpemU7XG4gICAgICAgIHZhciBhID0gaW5wdXREYXRhW2luZGV4XTtcbiAgICAgICAgdmFyIGIgPSBpbnB1dERhdGFbKGluZGV4ICsgMSkgJSBncmFpblNpemVdO1xuICAgICAgICBncmFpbkRhdGFbaV0gKz0gbGluZWFySW50ZXJwb2xhdGlvbihhLCBiLCBqICUgMS4wKSAqIHRoaXMuZ3JhaW5XaW5kb3dbaV07XG4gICAgICB9XG5cbiAgICAgIC8vIENvcHkgdGhlIGdyYWluIG11bHRpcGxlIHRpbWVzIG92ZXJsYXBwaW5nIGl0XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgZ3JhaW5TaXplOyBpICs9IE1hdGgucm91bmQoZ3JhaW5TaXplICogKDEgLSBvdmVybGFwUmF0aW8pKSkge1xuICAgICAgICBmb3IgKGogPSAwOyBqIDw9IGdyYWluU2l6ZTsgaisrKSB7XG4gICAgICAgICAgdGhpcy5idWZmZXJbaSArIGpdICs9IGdyYWluRGF0YVtqXTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBPdXRwdXQgdGhlIGZpcnN0IGhhbGYgb2YgdGhlIGJ1ZmZlclxuICAgICAgZm9yIChpID0gMDsgaSA8IGdyYWluU2l6ZTsgaSsrKSB7XG4gICAgICAgIG91dHB1dERhdGFbaV0gPSB0aGlzLmJ1ZmZlcltpXTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcGl0Y2hTaGlmdGVyUHJvY2Vzc29yLmNvbm5lY3QoYXVkaW9DdHguZGVzdGluYXRpb24pO1xuXG4gIH07XG5cbiAgaGFubldpbmRvdyhsZW5ndGgpIHtcbiAgICBjb25zdCB3aW5kb3cgPSBuZXcgRmxvYXQzMkFycmF5KGxlbmd0aCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICB3aW5kb3dbaV0gPSAwLjUgKiAoMSAtIE1hdGguY29zKDIgKiBNYXRoLlBJICogaSAvIChsZW5ndGggLSAxKSkpO1xuICAgIH1cbiAgICByZXR1cm4gd2luZG93O1xuICB9O1xufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9qcy9jbGFzc2VzL0F1ZGlvLmpzIiwiJ3VzZSBzdHJpY3QnO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2xpYi9pbmRleCcpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvc2hvcnRpZC9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gMTFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgYWxwaGFiZXQgPSByZXF1aXJlKCcuL2FscGhhYmV0Jyk7XG52YXIgZW5jb2RlID0gcmVxdWlyZSgnLi9lbmNvZGUnKTtcbnZhciBkZWNvZGUgPSByZXF1aXJlKCcuL2RlY29kZScpO1xudmFyIGJ1aWxkID0gcmVxdWlyZSgnLi9idWlsZCcpO1xudmFyIGlzVmFsaWQgPSByZXF1aXJlKCcuL2lzLXZhbGlkJyk7XG5cbi8vIGlmIHlvdSBhcmUgdXNpbmcgY2x1c3RlciBvciBtdWx0aXBsZSBzZXJ2ZXJzIHVzZSB0aGlzIHRvIG1ha2UgZWFjaCBpbnN0YW5jZVxuLy8gaGFzIGEgdW5pcXVlIHZhbHVlIGZvciB3b3JrZXJcbi8vIE5vdGU6IEkgZG9uJ3Qga25vdyBpZiB0aGlzIGlzIGF1dG9tYXRpY2FsbHkgc2V0IHdoZW4gdXNpbmcgdGhpcmRcbi8vIHBhcnR5IGNsdXN0ZXIgc29sdXRpb25zIHN1Y2ggYXMgcG0yLlxudmFyIGNsdXN0ZXJXb3JrZXJJZCA9IHJlcXVpcmUoJy4vdXRpbC9jbHVzdGVyLXdvcmtlci1pZCcpIHx8IDA7XG5cbi8qKlxuICogU2V0IHRoZSBzZWVkLlxuICogSGlnaGx5IHJlY29tbWVuZGVkIGlmIHlvdSBkb24ndCB3YW50IHBlb3BsZSB0byB0cnkgdG8gZmlndXJlIG91dCB5b3VyIGlkIHNjaGVtYS5cbiAqIGV4cG9zZWQgYXMgc2hvcnRpZC5zZWVkKGludClcbiAqIEBwYXJhbSBzZWVkIEludGVnZXIgdmFsdWUgdG8gc2VlZCB0aGUgcmFuZG9tIGFscGhhYmV0LiAgQUxXQVlTIFVTRSBUSEUgU0FNRSBTRUVEIG9yIHlvdSBtaWdodCBnZXQgb3ZlcmxhcHMuXG4gKi9cbmZ1bmN0aW9uIHNlZWQoc2VlZFZhbHVlKSB7XG4gICAgYWxwaGFiZXQuc2VlZChzZWVkVmFsdWUpO1xuICAgIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuLyoqXG4gKiBTZXQgdGhlIGNsdXN0ZXIgd29ya2VyIG9yIG1hY2hpbmUgaWRcbiAqIGV4cG9zZWQgYXMgc2hvcnRpZC53b3JrZXIoaW50KVxuICogQHBhcmFtIHdvcmtlcklkIHdvcmtlciBtdXN0IGJlIHBvc2l0aXZlIGludGVnZXIuICBOdW1iZXIgbGVzcyB0aGFuIDE2IGlzIHJlY29tbWVuZGVkLlxuICogcmV0dXJucyBzaG9ydGlkIG1vZHVsZSBzbyBpdCBjYW4gYmUgY2hhaW5lZC5cbiAqL1xuZnVuY3Rpb24gd29ya2VyKHdvcmtlcklkKSB7XG4gICAgY2x1c3RlcldvcmtlcklkID0gd29ya2VySWQ7XG4gICAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4vKipcbiAqXG4gKiBzZXRzIG5ldyBjaGFyYWN0ZXJzIHRvIHVzZSBpbiB0aGUgYWxwaGFiZXRcbiAqIHJldHVybnMgdGhlIHNodWZmbGVkIGFscGhhYmV0XG4gKi9cbmZ1bmN0aW9uIGNoYXJhY3RlcnMobmV3Q2hhcmFjdGVycykge1xuICAgIGlmIChuZXdDaGFyYWN0ZXJzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgYWxwaGFiZXQuY2hhcmFjdGVycyhuZXdDaGFyYWN0ZXJzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYWxwaGFiZXQuc2h1ZmZsZWQoKTtcbn1cblxuLyoqXG4gKiBHZW5lcmF0ZSB1bmlxdWUgaWRcbiAqIFJldHVybnMgc3RyaW5nIGlkXG4gKi9cbmZ1bmN0aW9uIGdlbmVyYXRlKCkge1xuICByZXR1cm4gYnVpbGQoY2x1c3RlcldvcmtlcklkKTtcbn1cblxuLy8gRXhwb3J0IGFsbCBvdGhlciBmdW5jdGlvbnMgYXMgcHJvcGVydGllcyBvZiB0aGUgZ2VuZXJhdGUgZnVuY3Rpb25cbm1vZHVsZS5leHBvcnRzID0gZ2VuZXJhdGU7XG5tb2R1bGUuZXhwb3J0cy5nZW5lcmF0ZSA9IGdlbmVyYXRlO1xubW9kdWxlLmV4cG9ydHMuc2VlZCA9IHNlZWQ7XG5tb2R1bGUuZXhwb3J0cy53b3JrZXIgPSB3b3JrZXI7XG5tb2R1bGUuZXhwb3J0cy5jaGFyYWN0ZXJzID0gY2hhcmFjdGVycztcbm1vZHVsZS5leHBvcnRzLmRlY29kZSA9IGRlY29kZTtcbm1vZHVsZS5leHBvcnRzLmlzVmFsaWQgPSBpc1ZhbGlkO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvc2hvcnRpZC9saWIvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDEyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxuLy8gRm91bmQgdGhpcyBzZWVkLWJhc2VkIHJhbmRvbSBnZW5lcmF0b3Igc29tZXdoZXJlXG4vLyBCYXNlZCBvbiBUaGUgQ2VudHJhbCBSYW5kb21pemVyIDEuMyAoQykgMTk5NyBieSBQYXVsIEhvdWxlIChob3VsZUBtc2MuY29ybmVsbC5lZHUpXG5cbnZhciBzZWVkID0gMTtcblxuLyoqXG4gKiByZXR1cm4gYSByYW5kb20gbnVtYmVyIGJhc2VkIG9uIGEgc2VlZFxuICogQHBhcmFtIHNlZWRcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIGdldE5leHRWYWx1ZSgpIHtcbiAgICBzZWVkID0gKHNlZWQgKiA5MzAxICsgNDkyOTcpICUgMjMzMjgwO1xuICAgIHJldHVybiBzZWVkLygyMzMyODAuMCk7XG59XG5cbmZ1bmN0aW9uIHNldFNlZWQoX3NlZWRfKSB7XG4gICAgc2VlZCA9IF9zZWVkXztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgbmV4dFZhbHVlOiBnZXROZXh0VmFsdWUsXG4gICAgc2VlZDogc2V0U2VlZFxufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3Nob3J0aWQvbGliL3JhbmRvbS9yYW5kb20tZnJvbS1zZWVkLmpzXG4vLyBtb2R1bGUgaWQgPSAxM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbnZhciBjcnlwdG8gPSB0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JyAmJiAod2luZG93LmNyeXB0byB8fCB3aW5kb3cubXNDcnlwdG8pOyAvLyBJRSAxMSB1c2VzIHdpbmRvdy5tc0NyeXB0b1xuXG5mdW5jdGlvbiByYW5kb21CeXRlKCkge1xuICAgIGlmICghY3J5cHRvIHx8ICFjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKSB7XG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAyNTYpICYgMHgzMDtcbiAgICB9XG4gICAgdmFyIGRlc3QgPSBuZXcgVWludDhBcnJheSgxKTtcbiAgICBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKGRlc3QpO1xuICAgIHJldHVybiBkZXN0WzBdICYgMHgzMDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSByYW5kb21CeXRlO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvc2hvcnRpZC9saWIvcmFuZG9tL3JhbmRvbS1ieXRlLWJyb3dzZXIuanNcbi8vIG1vZHVsZSBpZCA9IDE0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcbnZhciBhbHBoYWJldCA9IHJlcXVpcmUoJy4vYWxwaGFiZXQnKTtcblxuLyoqXG4gKiBEZWNvZGUgdGhlIGlkIHRvIGdldCB0aGUgdmVyc2lvbiBhbmQgd29ya2VyXG4gKiBNYWlubHkgZm9yIGRlYnVnZ2luZyBhbmQgdGVzdGluZy5cbiAqIEBwYXJhbSBpZCAtIHRoZSBzaG9ydGlkLWdlbmVyYXRlZCBpZC5cbiAqL1xuZnVuY3Rpb24gZGVjb2RlKGlkKSB7XG4gICAgdmFyIGNoYXJhY3RlcnMgPSBhbHBoYWJldC5zaHVmZmxlZCgpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHZlcnNpb246IGNoYXJhY3RlcnMuaW5kZXhPZihpZC5zdWJzdHIoMCwgMSkpICYgMHgwZixcbiAgICAgICAgd29ya2VyOiBjaGFyYWN0ZXJzLmluZGV4T2YoaWQuc3Vic3RyKDEsIDEpKSAmIDB4MGZcbiAgICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGRlY29kZTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3Nob3J0aWQvbGliL2RlY29kZS5qc1xuLy8gbW9kdWxlIGlkID0gMTVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgZW5jb2RlID0gcmVxdWlyZSgnLi9lbmNvZGUnKTtcbnZhciBhbHBoYWJldCA9IHJlcXVpcmUoJy4vYWxwaGFiZXQnKTtcblxuLy8gSWdub3JlIGFsbCBtaWxsaXNlY29uZHMgYmVmb3JlIGEgY2VydGFpbiB0aW1lIHRvIHJlZHVjZSB0aGUgc2l6ZSBvZiB0aGUgZGF0ZSBlbnRyb3B5IHdpdGhvdXQgc2FjcmlmaWNpbmcgdW5pcXVlbmVzcy5cbi8vIFRoaXMgbnVtYmVyIHNob3VsZCBiZSB1cGRhdGVkIGV2ZXJ5IHllYXIgb3Igc28gdG8ga2VlcCB0aGUgZ2VuZXJhdGVkIGlkIHNob3J0LlxuLy8gVG8gcmVnZW5lcmF0ZSBgbmV3IERhdGUoKSAtIDBgIGFuZCBidW1wIHRoZSB2ZXJzaW9uLiBBbHdheXMgYnVtcCB0aGUgdmVyc2lvbiFcbnZhciBSRURVQ0VfVElNRSA9IDE0NTk3MDc2MDY1MTg7XG5cbi8vIGRvbid0IGNoYW5nZSB1bmxlc3Mgd2UgY2hhbmdlIHRoZSBhbGdvcyBvciBSRURVQ0VfVElNRVxuLy8gbXVzdCBiZSBhbiBpbnRlZ2VyIGFuZCBsZXNzIHRoYW4gMTZcbnZhciB2ZXJzaW9uID0gNjtcblxuLy8gQ291bnRlciBpcyB1c2VkIHdoZW4gc2hvcnRpZCBpcyBjYWxsZWQgbXVsdGlwbGUgdGltZXMgaW4gb25lIHNlY29uZC5cbnZhciBjb3VudGVyO1xuXG4vLyBSZW1lbWJlciB0aGUgbGFzdCB0aW1lIHNob3J0aWQgd2FzIGNhbGxlZCBpbiBjYXNlIGNvdW50ZXIgaXMgbmVlZGVkLlxudmFyIHByZXZpb3VzU2Vjb25kcztcblxuLyoqXG4gKiBHZW5lcmF0ZSB1bmlxdWUgaWRcbiAqIFJldHVybnMgc3RyaW5nIGlkXG4gKi9cbmZ1bmN0aW9uIGJ1aWxkKGNsdXN0ZXJXb3JrZXJJZCkge1xuXG4gICAgdmFyIHN0ciA9ICcnO1xuXG4gICAgdmFyIHNlY29uZHMgPSBNYXRoLmZsb29yKChEYXRlLm5vdygpIC0gUkVEVUNFX1RJTUUpICogMC4wMDEpO1xuXG4gICAgaWYgKHNlY29uZHMgPT09IHByZXZpb3VzU2Vjb25kcykge1xuICAgICAgICBjb3VudGVyKys7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY291bnRlciA9IDA7XG4gICAgICAgIHByZXZpb3VzU2Vjb25kcyA9IHNlY29uZHM7XG4gICAgfVxuXG4gICAgc3RyID0gc3RyICsgZW5jb2RlKGFscGhhYmV0Lmxvb2t1cCwgdmVyc2lvbik7XG4gICAgc3RyID0gc3RyICsgZW5jb2RlKGFscGhhYmV0Lmxvb2t1cCwgY2x1c3RlcldvcmtlcklkKTtcbiAgICBpZiAoY291bnRlciA+IDApIHtcbiAgICAgICAgc3RyID0gc3RyICsgZW5jb2RlKGFscGhhYmV0Lmxvb2t1cCwgY291bnRlcik7XG4gICAgfVxuICAgIHN0ciA9IHN0ciArIGVuY29kZShhbHBoYWJldC5sb29rdXAsIHNlY29uZHMpO1xuXG4gICAgcmV0dXJuIHN0cjtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBidWlsZDtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3Nob3J0aWQvbGliL2J1aWxkLmpzXG4vLyBtb2R1bGUgaWQgPSAxNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG52YXIgYWxwaGFiZXQgPSByZXF1aXJlKCcuL2FscGhhYmV0Jyk7XG5cbmZ1bmN0aW9uIGlzU2hvcnRJZChpZCkge1xuICAgIGlmICghaWQgfHwgdHlwZW9mIGlkICE9PSAnc3RyaW5nJyB8fCBpZC5sZW5ndGggPCA2ICkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIGNoYXJhY3RlcnMgPSBhbHBoYWJldC5jaGFyYWN0ZXJzKCk7XG4gICAgdmFyIGxlbiA9IGlkLmxlbmd0aDtcbiAgICBmb3IodmFyIGkgPSAwOyBpIDwgbGVuO2krKykge1xuICAgICAgICBpZiAoY2hhcmFjdGVycy5pbmRleE9mKGlkW2ldKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc1Nob3J0SWQ7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9zaG9ydGlkL2xpYi9pcy12YWxpZC5qc1xuLy8gbW9kdWxlIGlkID0gMTdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IDA7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9zaG9ydGlkL2xpYi91dGlsL2NsdXN0ZXItd29ya2VyLWlkLWJyb3dzZXIuanNcbi8vIG1vZHVsZSBpZCA9IDE4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImltcG9ydCBmZXRjaCBmcm9tICdpc29tb3JwaGljLWZldGNoJztcblxuY29uc3QgdXJsID0gYC9hcGkvc291bmRgO1xuXG5leHBvcnQgZGVmYXVsdCB7XG5cbiAgY3JlYXRlOiAoe2lkLCBibG9ifSkgPT4ge1xuICAgIGNvbnN0IG1ldGhvZCA9IGBQT1NUYDtcbiAgICBjb25zdCBuZXdGaWxlTmFtZSA9IGAke2lkLnNwbGl0KGAgYCkuam9pbihgX2ApfWA7XG4gICAgY29uc3QgYm9keSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgIGJvZHkuYXBwZW5kKGBpZGAsIGlkKTtcbiAgICBib2R5LmFwcGVuZChgc291bmRgLCBibG9iLCBuZXdGaWxlTmFtZSk7XG5cbiAgICByZXR1cm4gZmV0Y2godXJsLCB7bWV0aG9kLCBib2R5fSlcbiAgICAgIC50aGVuKHIgPT4gci5qc29uKCkpO1xuICB9LFxuXG4gIHJlYWQ6ICgpID0+IHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dXJsfT9pc0FjdGl2ZT10cnVlYClcbiAgICAgIC50aGVuKHIgPT4gci5qc29uKCkpO1xuICB9LFxuXG4gIHJlYWRPbmU6IGlkID0+IHtcbiAgICBjb25zdCBtZXRob2QgPSBgR0VUYDtcbiAgICByZXR1cm4gZmV0Y2goYCR7dXJsfS8ke2lkfWAsIHttZXRob2R9KS50aGVuKHIgPT4gci5qc29uKCkpO1xuICB9XG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2pzL2xpYi9zb3VuZEFQSS5qcyJdLCJzb3VyY2VSb290IjoiIn0=